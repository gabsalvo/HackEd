"use strict";(self.webpackChunkHackEd=self.webpackChunkHackEd||[]).push([[179],{377:()=>{function he(t){return"function"==typeof t}function lc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const lh=lc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ea(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class kn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(he(r))try{r()}catch(s){e=s instanceof lh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{r0(s)}catch(o){e=e??[],o instanceof lh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new lh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)r0(e);else{if(e instanceof kn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ea(n,e)}remove(e){const{_finalizers:n}=this;n&&ea(n,e),e instanceof kn&&e._removeParent(this)}}kn.EMPTY=(()=>{const t=new kn;return t.closed=!0,t})();const t0=kn.EMPTY;function n0(t){return t instanceof kn||t&&"closed"in t&&he(t.remove)&&he(t.add)&&he(t.unsubscribe)}function r0(t){he(t)?t():t.unsubscribe()}const Ws={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dh={setTimeout(t,e,...n){const{delegate:r}=dh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=dh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function s0(t){dh.setTimeout(()=>{const{onUnhandledError:e}=Ws;if(!e)throw t;e(t)})}function dc(){}const XG=e_("C",void 0,void 0);function e_(t,e,n){return{kind:t,value:e,error:n}}let Ks=null;function hh(t){if(Ws.useDeprecatedSynchronousErrorHandling){const e=!Ks;if(e&&(Ks={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ks;if(Ks=null,n)throw r}}else t()}class t_ extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,n0(e)&&e.add(this)):this.destination=i4}static create(e,n,r){return new ta(e,n,r)}next(e){this.isStopped?r_(function ZG(t){return e_("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?r_(function JG(t){return e_("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?r_(XG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const t4=Function.prototype.bind;function n_(t,e){return t4.call(t,e)}class n4{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fh(r)}else fh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fh(n)}}}class ta extends t_{constructor(e,n,r){let i;if(super(),he(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ws.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&n_(e.next,s),error:e.error&&n_(e.error,s),complete:e.complete&&n_(e.complete,s)}):i=e}this.destination=new n4(i)}}function fh(t){Ws.useDeprecatedSynchronousErrorHandling?function e4(t){Ws.useDeprecatedSynchronousErrorHandling&&Ks&&(Ks.errorThrown=!0,Ks.error=t)}(t):s0(t)}function r_(t,e){const{onStoppedNotification:n}=Ws;n&&dh.setTimeout(()=>n(t,e))}const i4={closed:!0,next:dc,error:function r4(t){throw t},complete:dc},i_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xi(t){return t}function o0(t){return 0===t.length?Xi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ze=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function a4(t){return t&&t instanceof t_||function o4(t){return t&&he(t.next)&&he(t.error)&&he(t.complete)}(t)&&n0(t)}(n)?n:new ta(n,r,i);return hh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=a0(r))((i,s)=>{const o=new ta({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[i_](){return this}pipe(...n){return o0(n)(this)}toPromise(n){return new(n=a0(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function a0(t){var e;return null!==(e=t??Ws.Promise)&&void 0!==e?e:Promise}const u4=lc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Tt=(()=>{class t extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new u0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new u4}next(n){hh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){hh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){hh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?t0:(this.currentObservers=null,s.push(n),new kn(()=>{this.currentObservers=null,ea(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ze;return n.source=this,n}}return t.create=(e,n)=>new u0(e,n),t})();class u0 extends Tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:t0}}function c0(t){return he(t?.lift)}function lt(t){return e=>{if(c0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(t,e,n,r,i){return new c4(t,e,n,r,i)}class c4 extends t_{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(t,e){return lt((n,r)=>{let i=0;n.subscribe(dt(r,s=>{r.next(t.call(e,s,i++))}))})}function ph(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ji(t){return this instanceof Ji?(this.v=t,this):new Ji(t)}function f0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function u_(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const c_=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function p0(t){return he(t?.then)}function g0(t){return he(t[i_])}function m0(t){return Symbol.asyncIterator&&he(t?.[Symbol.asyncIterator])}function _0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const y0=function x4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function v0(t){return he(t?.[y0])}function E0(t){return function h0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ji?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ji(n.read());if(i)return yield Ji(void 0);yield yield Ji(r)}}finally{n.releaseLock()}})}function I0(t){return he(t?.getReader)}function en(t){if(t instanceof ze)return t;if(null!=t){if(g0(t))return function P4(t){return new ze(e=>{const n=t[i_]();if(he(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(c_(t))return function M4(t){return new ze(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(p0(t))return function N4(t){return new ze(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,s0)})}(t);if(m0(t))return w0(t);if(v0(t))return function k4(t){return new ze(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(I0(t))return function O4(t){return w0(E0(t))}(t)}throw _0(t)}function w0(t){return new ze(e=>{(function V4(t,e){var n,r,i,s;return function l0(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=f0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function fi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function bt(t,e,n=1/0){return he(e)?bt((r,i)=>le((s,o)=>e(r,s,i,o))(en(t(r,i))),n):("number"==typeof e&&(n=e),lt((r,i)=>function F4(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let _=!1;en(n(m,l++)).subscribe(dt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const v=u.shift();o?fi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(dt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function na(t=1/0){return bt(Xi,t)}const Lr=new ze(t=>t.complete());function T0(t){return t&&he(t.schedule)}function l_(t){return t[t.length-1]}function b0(t){return he(l_(t))?t.pop():void 0}function hc(t){return T0(l_(t))?t.pop():void 0}function C0(t,e=0){return lt((n,r)=>{n.subscribe(dt(r,i=>fi(r,t,()=>r.next(i),e),()=>fi(r,t,()=>r.complete(),e),i=>fi(r,t,()=>r.error(i),e)))})}function D0(t,e=0){return lt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function A0(t,e){if(!t)throw new Error("Iterable cannot be null");return new ze(n=>{fi(n,e,()=>{const r=t[Symbol.asyncIterator]();fi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ct(t,e){return e?function z4(t,e){if(null!=t){if(g0(t))return function B4(t,e){return en(t).pipe(D0(e),C0(e))}(t,e);if(c_(t))return function $4(t,e){return new ze(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(p0(t))return function j4(t,e){return en(t).pipe(D0(e),C0(e))}(t,e);if(m0(t))return A0(t,e);if(v0(t))return function H4(t,e){return new ze(n=>{let r;return fi(n,e,()=>{r=t[y0](),fi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>he(r?.return)&&r.return()})}(t,e);if(I0(t))return function G4(t,e){return A0(E0(t),e)}(t,e)}throw _0(t)}(t,e):en(t)}function gh(...t){const e=hc(t),n=function U4(t,e){return"number"==typeof l_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?en(r[0]):na(n)(Ct(r,e)):Lr}class zn extends Tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Q(...t){return Ct(t,hc(t))}function d_(t={}){const{connector:e=(()=>new Tt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return lt((m,_)=>{c++,!d&&!l&&h();const v=u=u??e();_.add(()=>{c--,0===c&&!d&&!l&&(a=h_(p,i))}),v.subscribe(_),!o&&c>0&&(o=new ta({next:y=>v.next(y),error:y=>{d=!0,h(),a=h_(f,n,y),v.error(y)},complete:()=>{l=!0,h(),a=h_(f,r),v.complete()}}),en(m).subscribe(o))})(s)}}function h_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ta({next:()=>{r.unsubscribe(),t()}});return en(e(...n)).subscribe(r)}function tn(t,e){return lt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(dt(r,u=>{i?.unsubscribe();let c=0;const l=s++;en(t(u,l)).subscribe(i=dt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function S0(t,e=Xi){return t=t??q4,lt((n,r)=>{let i,s=!0;n.subscribe(dt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function q4(t,e){return t===e}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function mh(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const W4=Re({__forward_ref__:Re});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return Dt(this())},t}function te(t){return p_(t)?t():t}function p_(t){return"function"==typeof t&&t.hasOwnProperty(W4)&&t.__forward_ref__===Ne}function g_(t){return t&&!!t.\u0275providers}const R0="https://g.co/ng/security#xss";class D extends Error{constructor(e,n){super(function _h(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function re(t){return"string"==typeof t?t:null==t?"":String(t)}function m_(t,e){throw new D(-201,!1)}function dr(t,e){null==t&&function J(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function yh(t){return x0(t,Eh)||x0(t,P0)}function x0(t,e){return t.hasOwnProperty(e)?t[e]:null}function vh(t){return t&&(t.hasOwnProperty(__)||t.hasOwnProperty(t3))?t[__]:null}const Eh=Re({\u0275prov:Re}),__=Re({\u0275inj:Re}),P0=Re({ngInjectableDef:Re}),t3=Re({ngInjectorDef:Re});var fe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fe||{});let y_;function On(t){const e=y_;return y_=t,e}function N0(t,e,n){const r=yh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&fe.Optional?null:void 0!==e?e:void m_(Dt(t))}const Fe=globalThis,fc={},T_="__NG_DI_FLAG__",Ih="ngTempTokenPath",i3=/\n/gm,O0="__source";let ra;function Zi(t){const e=ra;return ra=t,e}function a3(t,e=fe.Default){if(void 0===ra)throw new D(-203,!1);return null===ra?N0(t,void 0,e):ra.get(t,e&fe.Optional?null:void 0,e)}function j(t,e=fe.Default){return(function M0(){return y_}()||a3)(te(t),e)}function B(t,e=fe.Default){return j(t,wh(e))}function wh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function b_(t){const e=[];for(let n=0;n<t.length;n++){const r=te(t[n]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,s=fe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=u3(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(j(i,s))}else e.push(j(r))}return e}function pc(t,e){return t[T_]=e,t.prototype[T_]=e,t}function u3(t){return t[T_]}function pi(t){return{toString:t}.toString()}var Th=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Th||{}),br=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(br||{});const Ur={},we=[],bh=Re({\u0275cmp:Re}),C_=Re({\u0275dir:Re}),D_=Re({\u0275pipe:Re}),F0=Re({\u0275mod:Re}),gi=Re({\u0275fac:Re}),gc=Re({__NG_ELEMENT_ID__:Re}),L0=Re({__NG_ENV_ID__:Re});function U0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function A_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];j0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function B0(t){return 3===t||4===t||6===t}function j0(t){return 64===t.charCodeAt(0)}function mc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const H0="ng-template";function d3(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==U0(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function G0(t){return 4===t.type&&t.value!==H0}function h3(t,e,n){return e===(4!==t.type||n?t.value:H0)}function f3(t,e,n){let r=4;const i=t.attrs||[],s=function m3(t){for(let e=0;e<t.length;e++)if(B0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!h3(t,u,n)||""===u&&1===e.length){if(Cr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!d3(t.attrs,c,n)){if(Cr(r))return!1;o=!0}continue}const d=p3(8&r?"class":u,i,G0(t),n);if(-1===d){if(Cr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==U0(f,c,0)||2&r&&c!==h){if(Cr(r))return!1;o=!0}}}}else{if(!o&&!Cr(r)&&!Cr(u))return!1;if(o&&Cr(u))continue;o=!1,r=u|1&r}}return Cr(r)||o}function Cr(t){return 0==(1&t)}function p3(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function _3(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function z0(t,e,n=!1){for(let r=0;r<e.length;r++)if(f3(t,e[r],n))return!0;return!1}function y3(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function q0(t,e){return t?":not("+e.trim()+")":e}function v3(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Cr(o)&&(e+=q0(s,i),i=""),r=o,s=s||!Cr(r);n++}return""!==i&&(e+=q0(s,i)),e}function At(t){return pi(()=>{const e=K0(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Th.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||br.Emulated,styles:t.styles||we,_:null,schemas:t.schemas||null,tView:null,id:""};Q0(n);const r=t.dependencies;return n.directiveDefs=Ch(r,!1),n.pipeDefs=Ch(r,!0),n.id=function A3(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function T3(t){return ye(t)||jt(t)}function b3(t){return null!==t}function mn(t){return pi(()=>({type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function W0(t,e){if(null==t)return Ur;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Z(t){return pi(()=>{const e=K0(t);return Q0(e),e})}function rn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ye(t){return t[bh]||null}function jt(t){return t[C_]||null}function _n(t){return t[D_]||null}function Wn(t,e){const n=t[F0]||null;if(!n&&!0===e)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function K0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ur,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:W0(t.inputs,e),outputs:W0(t.outputs)}}function Q0(t){t.features?.forEach(e=>e(t))}function Ch(t,e){if(!t)return null;const n=e?_n:T3;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(b3)}const it=0,L=1,ae=2,Xe=3,Dr=4,_c=5,sn=6,sa=7,ht=8,es=9,oa=10,ie=11,yc=12,Y0=13,aa=14,ft=15,vc=16,ua=17,Br=18,Ec=19,X0=20,ts=21,mi=22,Ic=23,wc=24,pe=25,S_=1,J0=2,jr=7,ca=9,$t=11;function Vn(t){return Array.isArray(t)&&"object"==typeof t[S_]}function yn(t){return Array.isArray(t)&&!0===t[S_]}function R_(t){return 0!=(4&t.flags)}function Ys(t){return t.componentOffset>-1}function Ah(t){return 1==(1&t.flags)}function Ar(t){return!!t.template}function x_(t){return 0!=(512&t[ae])}function Xs(t,e){return t.hasOwnProperty(gi)?t[gi]:null}let Ht=null,Sh=!1;function hr(t){const e=Ht;return Ht=t,e}const tR={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function rR(t){if(!bc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!oR(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function sR(t){t.dirty=!0,function iR(t){if(void 0===t.liveConsumerNode)return;const e=Sh;Sh=!0;try{for(const n of t.liveConsumerNode)n.dirty||sR(n)}finally{Sh=e}}(t),t.consumerMarkedDirty?.(t)}function M_(t){return t&&(t.nextProducerIndex=0),hr(t)}function N_(t,e){if(hr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(bc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Rh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function oR(t){la(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(rR(n),r!==n.version))return!0}return!1}function aR(t){if(la(t),bc(t))for(let e=0;e<t.producerNode.length;e++)Rh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Rh(t,e){if(function cR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),la(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Rh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];la(i),i.producerIndexOfThis[r]=e}}function bc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function la(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let lR=null;function fR(t){const e=hr(null);try{return t()}finally{hr(e)}}const pR=()=>{},B3=(()=>({...tR,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:pR}))();class j3{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kn(){return gR}function gR(t){return t.type.prototype.ngOnChanges&&(t.setInput=H3),$3}function $3(){const t=_R(this),e=t?.current;if(e){const n=t.previous;if(n===Ur)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function H3(t,e,n,r){const i=this.declaredInputs[n],s=_R(t)||function G3(t,e){return t[mR]=e}(t,{previous:Ur,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new j3(u&&u.currentValue,e,a===Ur),t[r]=e}Kn.ngInherit=!0;const mR="__ngSimpleChanges__";function _R(t){return t[mR]||null}const $r=function(t,e,n){};function Le(t){for(;Array.isArray(t);)t=t[it];return t}function xh(t,e){return Le(e[t])}function Fn(t,e){return Le(e[t.index])}function ER(t,e){return t.data[e]}function da(t,e){return t[e]}function Qn(t,e){const n=e[t];return Vn(n)?n:n[it]}function rs(t,e){return null==e?null:t[e]}function IR(t){t[ua]=0}function Y3(t){1024&t[ae]||(t[ae]|=1024,TR(t,1))}function wR(t){1024&t[ae]&&(t[ae]&=-1025,TR(t,-1))}function TR(t,e){let n=t[Xe];if(null===n)return;n[_c]+=e;let r=n;for(n=n[Xe];null!==n&&(1===e&&1===r[_c]||-1===e&&0===r[_c]);)n[_c]+=e,r=n,n=n[Xe]}const ee={lFrame:kR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function DR(){return ee.bindingsEnabled}function ha(){return null!==ee.skipHydrationRootTNode}function b(){return ee.lFrame.lView}function ve(){return ee.lFrame.tView}function fr(t){return ee.lFrame.contextLView=t,t[ht]}function pr(t){return ee.lFrame.contextLView=null,t}function Gt(){let t=AR();for(;null!==t&&64===t.type;)t=t.parent;return t}function AR(){return ee.lFrame.currentTNode}function Hr(t,e){const n=ee.lFrame;n.currentTNode=t,n.isParent=e}function L_(){return ee.lFrame.isParent}function U_(){ee.lFrame.isParent=!1}function vn(){const t=ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fa(){return ee.lFrame.bindingIndex++}function uz(t,e){const n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,B_(e)}function B_(t){ee.lFrame.currentDirectiveIndex=t}function PR(){return ee.lFrame.currentQueryIndex}function $_(t){ee.lFrame.currentQueryIndex=t}function lz(t){const e=t[L];return 2===e.type?e.declTNode:1===e.type?t[sn]:null}function MR(t,e,n){if(n&fe.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&fe.Host||(i=lz(s),null===i||(s=s[aa],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ee.lFrame=NR();return r.currentTNode=e,r.lView=t,!0}function H_(t){const e=NR(),n=t[L];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function NR(){const t=ee.lFrame,e=null===t?null:t.child;return null===e?kR(t):e}function kR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function OR(){const t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const VR=OR;function G_(){const t=OR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function En(){return ee.lFrame.selectedIndex}function Js(t){ee.lFrame.selectedIndex=t}function et(){const t=ee.lFrame;return ER(t.tView,t.selectedIndex)}let LR=!0;function Ph(){return LR}function is(t){LR=t}function Mh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Nh(t,e,n){UR(t,e,3,n)}function kh(t,e,n,r){(3&t[ae])===n&&UR(t,e,n,r)}function z_(t,e){let n=t[ae];(3&n)===e&&(n&=8191,n+=1,t[ae]=n)}function UR(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ua]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ua]+=65536),(a<s||-1==s)&&(yz(t,n,e,u),t[ua]=(4294901760&t[ua])+u+2),u++}function BR(t,e){$r(4,t,e);const n=hr(null);try{e.call(t)}finally{hr(n),$r(5,t,e)}}function yz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ae]>>13<t[ua]>>16&&(3&t[ae])===e&&(t[ae]+=8192,BR(a,s)):BR(a,s)}const pa=-1;class Dc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function W_(t){return t!==pa}function Ac(t){return 32767&t}function Sc(t,e){let n=function wz(t){return t>>16}(t),r=e;for(;n>0;)r=r[aa],n--;return r}let K_=!0;function Oh(t){const e=K_;return K_=t,e}const jR=255,$R=5;let Tz=0;const Gr={};function Vh(t,e){const n=HR(t,e);if(-1!==n)return n;const r=e[L];r.firstCreatePass&&(t.injectorIndex=e.length,Q_(r.data,t),Q_(e,null),Q_(r.blueprint,null));const i=Fh(t,e),s=t.injectorIndex;if(W_(i)){const o=Ac(i),a=Sc(i,e),u=a[L].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Q_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function HR(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=YR(i),null===r)return pa;if(n++,i=i[aa],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return pa}function Y_(t,e,n){!function bz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(gc)&&(r=n[gc]),null==r&&(r=n[gc]=Tz++);const i=r&jR;e.data[t+(i>>$R)]|=1<<i}(t,e,n)}function GR(t,e,n){if(n&fe.Optional||void 0!==t)return t;m_()}function zR(t,e,n,r){if(n&fe.Optional&&void 0===r&&(r=null),!(n&(fe.Self|fe.Host))){const i=t[es],s=On(void 0);try{return i?i.get(e,r,n&fe.Optional):N0(e,r,n&fe.Optional)}finally{On(s)}}return GR(r,0,n)}function qR(t,e,n,r=fe.Default,i){if(null!==t){if(2048&e[ae]&&!(r&fe.Self)){const o=function xz(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ae]&&!(512&o[ae]);){const a=WR(s,o,n,r|fe.Self,Gr);if(a!==Gr)return a;let u=s.parent;if(!u){const c=o[X0];if(c){const l=c.get(n,Gr,r);if(l!==Gr)return l}u=YR(o),o=o[aa]}s=u}return i}(t,e,n,r,Gr);if(o!==Gr)return o}const s=WR(t,e,n,r,Gr);if(s!==Gr)return s}return zR(e,n,r,i)}function WR(t,e,n,r,i){const s=function Az(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(gc)?t[gc]:void 0;return"number"==typeof e?e>=0?e&jR:Rz:e}(n);if("function"==typeof s){if(!MR(e,t,r))return r&fe.Host?GR(i,0,r):zR(e,n,r,i);try{let o;if(o=s(r),null!=o||r&fe.Optional)return o;m_()}finally{VR()}}else if("number"==typeof s){let o=null,a=HR(t,e),u=pa,c=r&fe.Host?e[ft][sn]:null;for((-1===a||r&fe.SkipSelf)&&(u=-1===a?Fh(t,e):e[a+8],u!==pa&&QR(r,!1)?(o=e[L],a=Ac(u),e=Sc(u,e)):a=-1);-1!==a;){const l=e[L];if(KR(s,a,l.data)){const d=Dz(a,e,n,o,r,c);if(d!==Gr)return d}u=e[a+8],u!==pa&&QR(r,e[L].data[a+8]===c)&&KR(s,a,e)?(o=l,a=Ac(u),e=Sc(u,e)):a=-1}}return i}function Dz(t,e,n,r,i,s){const o=e[L],a=o.data[t+8],l=Lh(a,o,n,null==r?Ys(a)&&K_:r!=o&&0!=(3&a.type),i&fe.Host&&s===a);return null!==l?Zs(e,o,l,a):Gr}function Lh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Ar(f)&&f.type===n)return u}return null}function Zs(t,e,n,r){let i=t[n];const s=e.data;if(function vz(t){return t instanceof Dc}(i)){const o=i;o.resolving&&function K4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new D(-200,`Circular dependency in DI detected for ${t}${n}`)}(function De(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():re(t)}(s[n]));const a=Oh(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?On(o.injectImpl):null;MR(t,r,fe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function _z(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=gR(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&On(c),Oh(a),o.resolving=!1,VR()}}return i}function KR(t,e,n){return!!(n[e+(t>>$R)]&1<<t)}function QR(t,e){return!(t&fe.Self||t&fe.Host&&e)}class In{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qR(this._tNode,this._lView,e,wh(r),n)}}function Rz(){return new In(Gt(),b())}function zt(t){return pi(()=>{const e=t.prototype.constructor,n=e[gi]||X_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[gi]||X_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function X_(t){return p_(t)?()=>{const e=X_(te(t));return e&&e()}:Xs(t)}function YR(t){const e=t[L],n=e.type;return 2===n?e.declTNode:1===n?t[sn]:null}const ma="__parameters__";function ya(t,e,n){return pi(()=>{const r=function J_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ma)?u[ma]:Object.defineProperty(u,ma,{value:[]})[ma];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ea(t,e){t.forEach(n=>Array.isArray(n)?Ea(n,e):e(n))}function JR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Pc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Yn(t,e,n){let r=Ia(t,e);return r>=0?t[1|r]=n:(r=~r,function Fz(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Z_(t,e){const n=Ia(t,e);if(n>=0)return t[1|n]}function Ia(t,e){return function ZR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const $h=pc(ya("Optional"),8),Hh=pc(ya("SkipSelf"),4);function Kh(t){return 128==(128&t.flags)}var ss=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ss||{});const iy=new Map;let aq=0;const oy="__ngContext__";function on(t,e){Vn(e)?(t[oy]=e[Ec],function cq(t){iy.set(t[Ec],t)}(e)):t[oy]=e}let ay;function uy(t,e){return ay(t,e)}function kc(t){const e=t[Xe];return yn(e)?e[Xe]:e}function vx(t){return Ix(t[yc])}function Ex(t){return Ix(t[Dr])}function Ix(t){for(;null!==t&&!yn(t);)t=t[Dr];return t}function ba(t,e,n,r,i){if(null!=r){let s,o=!1;yn(r)?s=r:Vn(r)&&(o=!0,r=r[it]);const a=Le(r);0===t&&null!==n?null==i?Cx(e,n,a):eo(e,n,a,i||null,!0):1===t&&null!==n?eo(e,n,a,i||null,!0):2===t?function tf(t,e,n){const r=Zh(t,e);r&&function Sq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Pq(t,e,n,r,i){const s=n[jr];s!==Le(n)&&ba(e,t,r,s,i);for(let a=$t;a<n.length;a++){const u=n[a];Vc(u[L],u,t,e,r,s)}}(e,t,s,n,i)}}function Xh(t,e,n){return t.createElement(e,n)}function Tx(t,e){const n=t[ca],r=n.indexOf(e);wR(e),n.splice(r,1)}function Jh(t,e){if(t.length<=$t)return;const n=$t+e,r=t[n];if(r){const i=r[vc];null!==i&&i!==t&&Tx(i,r),e>0&&(t[n-1][Dr]=r[Dr]);const s=Bh(t,$t+e);!function Eq(t,e){Vc(t,e,e[ie],2,null,null),e[it]=null,e[sn]=null}(r[L],r);const o=s[Br];null!==o&&o.detachView(s[L]),r[Xe]=null,r[Dr]=null,r[ae]&=-129}return r}function ly(t,e){if(!(256&e[ae])){const n=e[ie];e[Ic]&&aR(e[Ic]),e[wc]&&aR(e[wc]),n.destroyNode&&Vc(t,e,n,3,null,null),function Tq(t){let e=t[yc];if(!e)return dy(t[L],t);for(;e;){let n=null;if(Vn(e))n=e[yc];else{const r=e[$t];r&&(n=r)}if(!n){for(;e&&!e[Dr]&&e!==t;)Vn(e)&&dy(e[L],e),e=e[Xe];null===e&&(e=t),Vn(e)&&dy(e[L],e),n=e&&e[Dr]}e=n}}(e)}}function dy(t,e){if(!(256&e[ae])){e[ae]&=-129,e[ae]|=256,function Aq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Dc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];$r(4,a,u);try{u.call(a)}finally{$r(5,a,u)}}else{$r(4,i,s);try{s.call(i)}finally{$r(5,i,s)}}}}}(t,e),function Dq(t,e){const n=t.cleanup,r=e[sa];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[sa]=null);const i=e[ts];if(null!==i){e[ts]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[L].type&&e[ie].destroy();const n=e[vc];if(null!==n&&yn(e[Xe])){n!==e[Xe]&&Tx(n,e);const r=e[Br];null!==r&&r.detachView(t)}!function lq(t){iy.delete(t[Ec])}(e)}}function hy(t,e,n){return function bx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[it];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===br.None||s===br.Emulated)return null}return Fn(r,n)}}(t,e.parent,n)}function eo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Cx(t,e,n){t.appendChild(e,n)}function Dx(t,e,n,r,i){null!==r?eo(t,e,n,r,i):Cx(t,e,n)}function Zh(t,e){return t.parentNode(e)}function Ax(t,e,n){return Rx(t,e,n)}let fy,nf,_y,Rx=function Sx(t,e,n){return 40&t.type?Fn(t,n):null};function ef(t,e,n,r){const i=hy(t,r,e),s=e[ie],a=Ax(r.parent||e[sn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Dx(s,i,n[u],a,!1);else Dx(s,i,n,a,!1);void 0!==fy&&fy(s,r,e,n,i)}function Oc(t,e){if(null!==e){const n=e.type;if(3&n)return Fn(e,t);if(4&n)return py(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Oc(t,r);{const i=t[e.index];return yn(i)?py(-1,i):Le(i)}}if(32&n)return uy(e,t)()||Le(t[e.index]);{const r=Px(t,e);return null!==r?Array.isArray(r)?r[0]:Oc(kc(t[ft]),r):Oc(t,e.next)}}return null}function Px(t,e){return null!==e?t[ft][sn].projection[e.projection]:null}function py(t,e){const n=$t+t+1;if(n<e.length){const r=e[n],i=r[L].firstChild;if(null!==i)return Oc(r,i)}return e[jr]}function gy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&on(Le(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)gy(t,e,n.child,r,i,s,!1),ba(e,t,i,a,s);else if(32&u){const c=uy(n,r);let l;for(;l=c();)ba(e,t,i,l,s);ba(e,t,i,a,s)}else 16&u?Nx(t,e,r,n,i,s):ba(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Vc(t,e,n,r,i,s){gy(n,r,t.firstChild,e,i,s,!1)}function Nx(t,e,n,r,i,s){const o=n[ft],u=o[sn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ba(e,t,i,u[c],s);else{let c=u;const l=o[Xe];Kh(r)&&(c.flags|=128),gy(t,e,c,l,i,s,!0)}}function kx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ox(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&A_(t,e,r),null!==i&&kx(t,e,i),null!==s&&function Nq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Ca(t){return function my(){if(void 0===nf&&(nf=null,Fe.trustedTypes))try{nf=Fe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nf}()?.createHTML(t)||t}class to{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${R0})`}}class Lq extends to{getTypeName(){return"HTML"}}class Uq extends to{getTypeName(){return"Style"}}class Bq extends to{getTypeName(){return"Script"}}class jq extends to{getTypeName(){return"URL"}}class $q extends to{getTypeName(){return"ResourceURL"}}function Xn(t){return t instanceof to?t.changingThisBreaksApplicationSecurity:t}function zr(t,e){const n=function Hq(t){return t instanceof to&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${R0})`)}return n===e}class Qq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Ca(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Yq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Ca(e),n}}const Jq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sf(t){return(t=String(t)).match(Jq)?t:"unsafe:"+t}function vi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Fc(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Bx=vi("area,br,col,hr,img,wbr"),jx=vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$x=vi("rp,rt"),vy=Fc(Bx,Fc(jx,vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fc($x,vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fc($x,jx)),Ey=vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hx=Fc(Ey,vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zq=vi("script,style,template");class e9{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!vy.hasOwnProperty(n))return this.sanitizedSomething=!0,!Zq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Hx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Ey[a]&&(u=sf(u)),this.buf.push(" ",o,'="',Gx(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();vy.hasOwnProperty(n)&&!Bx.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Gx(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const t9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n9=/([^\#-~ |!])/g;function Gx(t){return t.replace(/&/g,"&amp;").replace(t9,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(n9,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let af;function zx(t,e){let n=null;try{af=af||function Ux(t){const e=new Yq(t);return function Xq(){try{return!!(new window.DOMParser).parseFromString(Ca(""),"text/html")}catch{return!1}}()?new Qq(e):e}(t);let r=e?String(e):"";n=af.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=af.getInertBodyElement(r)}while(r!==s);return Ca((new e9).sanitizeChildren(Iy(n)||n))}finally{if(n){const r=Iy(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Iy(t){return"content"in t&&function r9(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Jn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Jn||{});function wy(t){const e=function Lc(){const t=b();return t&&t[oa].sanitizer}();return e?e.sanitize(Jn.URL,t)||"":zr(t,"URL")?Xn(t):sf(re(t))}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Uc=new U("ENVIRONMENT_INITIALIZER"),Kx=new U("INJECTOR",-1),Qx=new U("INJECTOR_DEF_TYPES");class Ty{get(e,n=fc){if(n===fc){const r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}}function uf(t){return{\u0275providers:t}}function l9(...t){return{\u0275providers:Yx(0,t),\u0275fromNgModule:!0}}function Yx(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Ea(e,o=>{const a=o;cf(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Xx(i,s),n}function Xx(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];by(i,s=>{e(s,r)})}}function cf(t,e,n,r){if(!(t=te(t)))return!1;let i=null,s=vh(t);const o=!s&&ye(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=vh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)cf(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ea(s.imports,l=>{cf(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&Xx(c,e)}if(!a){const c=Xs(i)||(()=>new i);e({provide:i,useFactory:c,deps:we},i),e({provide:Qx,useValue:i,multi:!0},i),e({provide:Uc,useValue:()=>j(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;by(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function by(t,e){for(let n of t)g_(n)&&(n=n.\u0275providers),Array.isArray(n)?by(n,e):e(n)}const d9=Re({provide:String,useValue:Re});function Cy(t){return null!==t&&"object"==typeof t&&d9 in t}function no(t){return"function"==typeof t}const Dy=new U("Set Injector scope."),lf={},f9={};let Ay;function df(){return void 0===Ay&&(Ay=new Ty),Ay}class Zn{}class hf extends Zn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ry(e,o=>this.processProvider(o)),this.records.set(Kx,Aa(void 0,this)),i.has("environment")&&this.records.set(Zn,Aa(void 0,this));const s=this.records.get(Dy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Qx.multi,we,fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Zi(this),r=On(void 0);try{return e()}finally{Zi(n),On(r)}}get(e,n=fc,r=fe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(L0))return e[L0](this);r=wh(r);const s=Zi(this),o=On(void 0);try{if(!(r&fe.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function y9(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&yh(e);u=c&&this.injectableDefInScope(c)?Aa(Sy(e),lf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&fe.Self?df():this.parent).get(e,n=r&fe.Optional&&n===fc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ih]=a[Ih]||[]).unshift(Dt(e)),s)throw a;return function c3(t,e,n,r){const i=t[Ih];throw e[O0]&&i.unshift(e[O0]),t.message=function l3(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Dt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(i3,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ih]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{On(o),Zi(s)}}resolveInjectorInitializers(){const e=Zi(this),n=On(void 0);try{const i=this.get(Uc.multi,we,fe.Self);for(const s of i)s()}finally{Zi(e),On(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let n=no(e=te(e))?e:te(e&&e.provide);const r=function g9(t){return Cy(t)?Aa(void 0,t.useValue):Aa(eP(t),lf)}(e);if(no(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Aa(void 0,lf,!0),i.factory=()=>b_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===lf&&(n.value=f9,n.value=n.factory()),"object"==typeof n.value&&n.value&&function _9(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=te(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Sy(t){const e=yh(t),n=null!==e?e.factory:Xs(t);if(null!==n)return n;if(t instanceof U)throw new D(204,!1);if(t instanceof Function)return function p9(t){const e=t.length;if(e>0)throw Pc(e,"?"),new D(204,!1);const n=function e3(t){return t&&(t[Eh]||t[P0])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new D(204,!1)}function eP(t,e,n){let r;if(no(t)){const i=te(t);return Xs(i)||Sy(i)}if(Cy(t))r=()=>te(t.useValue);else if(function Zx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...b_(t.deps||[]));else if(function Jx(t){return!(!t||!t.useExisting)}(t))r=()=>j(te(t.useExisting));else{const i=te(t&&(t.useClass||t.provide));if(!function m9(t){return!!t.deps}(t))return Xs(i)||Sy(i);r=()=>new i(...b_(t.deps))}return r}function Aa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ry(t,e){for(const n of t)Array.isArray(n)?Ry(n,e):n&&g_(n)?Ry(n.\u0275providers,e):e(n)}const ff=new U("AppId",{providedIn:"root",factory:()=>v9}),v9="ng",tP=new U("Platform Initializer"),Sr=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nP=new U("CSP nonce",{providedIn:"root",factory:()=>function Da(){if(void 0!==_y)return _y;if(typeof document<"u")return document;throw new D(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rP=(t,e,n)=>null;function Fy(t,e,n=!1){return rP(t,e,n)}class R9{}class oP{}class P9{resolveComponentFactory(e){throw function x9(t){const e=Error(`No component factory found for ${Dt(t)}.`);return e.ngComponent=t,e}(e)}}let vf=(()=>{class t{static#e=this.NULL=new P9}return t})();function M9(){return xa(Gt(),b())}function xa(t,e){return new an(Fn(t,e))}let an=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=M9}return t})();function N9(t){return t instanceof an?t.nativeElement:t}class uP{}let Ei=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function k9(){const t=b(),n=Qn(Gt().index,t);return(Vn(n)?n:t)[ie]}()}return t})(),O9=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();class $c{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const V9=new $c("16.2.8"),By={};function hP(t,e=null,n=null,r){const i=fP(t,e,n,r);return i.resolveInjectorInitializers(),i}function fP(t,e=null,n=null,r,i=new Set){const s=[n||we,l9(t)];return r=r||("object"==typeof t?void 0:Dt(t)),new hf(s,e||df(),r||null,i)}let wn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=fc;static#t=this.NULL=new Ty;static create(n,r){if(Array.isArray(n))return hP({name:""},r,n,"");{const i=n.name??"";return hP({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=z({token:t,providedIn:"any",factory:()=>j(Kx)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function $y(t){return t.ngOriginalError}class Ii{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$y(e);for(;n&&$y(n);)n=$y(n);return n||null}}function Gy(t){return e=>{setTimeout(t,void 0,e)}}const P=class H9 extends Tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Gy(s),i&&(i=Gy(i)),o&&(o=Gy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof kn&&e.add(a),a}};function gP(...t){}class Ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new P(!1),this.onMicrotaskEmpty=new P(!1),this.onStable=new P(!1),this.onError=new P(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function G9(){const t="function"==typeof Fe.requestAnimationFrame;let e=Fe[t?"requestAnimationFrame":"setTimeout"],n=Fe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function W9(t){const e=()=>{!function q9(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qy(t),t.isCheckStableRunning=!0,zy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function Q9(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return mP(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),_P(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return mP(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),_P(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,qy(t),zy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,z9,gP,gP);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const z9={};function zy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function mP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _P(t){t._nesting--,zy(t)}class K9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new P,this.onMicrotaskEmpty=new P,this.onStable=new P,this.onError=new P}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const yP=new U("",{providedIn:"root",factory:vP});function vP(){const t=B(Ae);let e=!0;return gh(new ze(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ze(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(d_()))}function wi(t){return t instanceof Function?t():t}let Wy=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function Hc(t){for(;t;){t[ae]|=64;const e=kc(t);if(x_(t)&&!e)return t;t=e}return null}const bP=new U("",{providedIn:"root",factory:()=>!1});let If=null;function SP(t,e){return t[e]??PP()}function RP(t,e){const n=PP();n.producerNode?.length&&(t[e]=If,n.lView=t,If=xP())}const s6={...tR,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hc(t.lView)},lView:null};function xP(){return Object.create(s6)}function PP(){return If??=xP(),If}const oe={};function K(t){MP(ve(),b(),En()+t,!1)}function MP(t,e,n,r){if(!r)if(3==(3&e[ae])){const s=t.preOrderCheckHooks;null!==s&&Nh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&kh(e,s,0,n)}Js(n)}function T(t,e=fe.Default){const n=b();return null===n?j(t,e):qR(Gt(),n,te(t),e)}function wf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[it]=i,d[ae]=140|r,(null!==c||t&&2048&t[ae])&&(d[ae]|=2048),IR(d),d[Xe]=d[aa]=t,d[ht]=n,d[oa]=o||t&&t[oa],d[ie]=a||t&&t[ie],d[es]=u||t&&t[es]||null,d[sn]=s,d[Ec]=function uq(){return aq++}(),d[mi]=l,d[X0]=c,d[ft]=2==e.type?t[ft]:d,d}function Na(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Ky(t,e,n,r,i){const s=AR(),o=L_(),u=t.data[e]=function f6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ha()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function az(){return ee.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Cc(){const t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Hr(s,!0),s}function Gc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function kP(t,e,n,r,i){const s=SP(e,Ic),o=En(),a=2&r;try{Js(-1),a&&e.length>pe&&MP(t,e,pe,!1),$r(a?2:0,i);const c=a?s:null,l=M_(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{N_(c,l)}}finally{a&&null===e[Ic]&&RP(e,Ic),Js(o),$r(a?3:1,i)}}function Qy(t,e,n){if(R_(e)){const r=hr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{hr(r)}}}function Yy(t,e,n){DR()&&(function E6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ys(n)&&function A6(t,e,n){const r=Fn(e,t),i=OP(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Tf(t,wf(t,i,null,o,r,e,null,t[oa].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Vh(n,e),on(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Zs(e,t,a,n);on(c,e),null!==o&&S6(0,a-i,c,u,0,o),Ar(u)&&(Qn(n.index,e)[ht]=Zs(e,t,a,n))}}(t,e,n,Fn(n,e)),64==(64&n.flags)&&BP(t,e,n))}function Xy(t,e,n=Fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function OP(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Jy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jy(t,e,n,r,i,s,o,a,u,c,l){const d=pe+r,h=d+i,f=function a6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oe);return n}(d,h),p="function"==typeof c?c():c;return f[L]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let VP=t=>null;function FP(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?LP(n,e,i,s):r.hasOwnProperty(i)&&LP(n,e,r[i],s)}return n}function LP(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function er(t,e,n,r,i,s,o,a){const u=Fn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(rv(t,n,l,r,i),Ys(e)&&function m6(t,e){const n=Qn(e,t);16&n[ae]||(n[ae]|=64)}(n,e.index)):3&e.type&&(r=function g6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function Zy(t,e,n,r){if(DR()){const i=null===r?null:{"":-1},s=function w6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(z0(e,o.selectors,!1))if(r||(r=[]),Ar(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ev(t,e,a.length)}else r.unshift(o),ev(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&UP(t,e,n,o,i,a),i&&function T6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new D(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=mc(n.mergedAttrs,n.attrs)}function UP(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Y_(Vh(n,e),t,r[c].type);!function C6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Gc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=mc(n.mergedAttrs,l.hostAttrs),D6(t,n,e,u,l),b6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function p6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=FP(d.inputs,l,u,h?h.inputs:null),c=FP(d.outputs,l,c,p);const m=null===u||null===o||G0(e)?null:R6(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function BP(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function cz(){return ee.lFrame.currentDirectiveIndex}();try{Js(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];B_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&I6(u,c)}}finally{Js(-1),B_(o)}}function I6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ev(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function b6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ar(e)&&(n[""]=t)}}function D6(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Xs(i.type)),o=new Dc(s,Ar(i),T);t.blueprint[r]=o,n[r]=o,function y6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function v6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Gc(t,n,i.hostVars,oe),i)}function S6(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)jP(r,n,o[a++],o[a++],o[a++])}function jP(t,e,n,r,i){const s=hr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{hr(s)}}function R6(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $P(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function HP(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];$_(n[r]),o.contentQueries(2,e[s],s)}}}function Tf(t,e){return t[yc]?t[Y0][Dr]=e:t[yc]=e,t[Y0]=e,e}function nv(t,e,n){$_(0);const r=hr(null);try{e(t,n)}finally{hr(r)}}function GP(t){return t[sa]||(t[sa]=[])}function zP(t){return t.cleanup||(t.cleanup=[])}function WP(t,e){const n=t[es],r=n?n.get(Ii,null):null;r&&r.handleError(e)}function rv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];jP(t.data[o],e[o],r,a,i)}}function x6(t,e){const n=Qn(e,t),r=n[L];!function P6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[it];null!==i&&null===n[mi]&&(n[mi]=Fy(i,n[es])),iv(r,n,n[ht])}function iv(t,e,n){H_(e);try{const r=t.viewQuery;null!==r&&nv(1,r,n);const i=t.template;null!==i&&kP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&HP(t,e),t.staticViewQueries&&nv(2,t.viewQuery,n);const s=t.components;null!==s&&function M6(t,e){for(let n=0;n<e.length;n++)x6(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ae]&=-5,G_()}}let KP=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function U3(t,e,n){const r=Object.create(B3);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>sR(r),run:()=>{if(r.dirty=!1,r.hasRun&&!oR(r))return;r.hasRun=!0;const o=M_(r);try{r.cleanupFn(),r.cleanupFn=pR,r.fn(i)}finally{N_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function bf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=f_(i,a):2==s&&(r=f_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function zc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Le(s)),yn(s)&&QP(s,r);const o=n.type;if(8&o)zc(t,e,n.child,r);else if(32&o){const a=uy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Px(e,n);if(Array.isArray(a))r.push(...a);else{const u=kc(e[ft]);zc(u[L],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function QP(t,e){for(let n=$t;n<t.length;n++){const r=t[n],i=r[L].firstChild;null!==i&&zc(r[L],r,i,e)}t[jr]!==t[it]&&e.push(t[jr])}function Cf(t,e,n,r=!0){const i=e[oa],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{YP(t,e,t.template,n)}catch(u){throw r&&WP(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function YP(t,e,n,r){const i=e[ae];if(256!=(256&i)){e[oa].effectManager?.flush(),H_(e);try{IR(e),function RR(t){return ee.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&kP(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Nh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&kh(e,c,0,null),z_(e,0)}if(function O6(t){for(let e=vx(t);null!==e;e=Ex(e)){if(!e[J0])continue;const n=e[ca];for(let r=0;r<n.length;r++){Y3(n[r])}}}(e),XP(e,2),null!==t.contentQueries&&HP(t,e),o){const c=t.contentCheckHooks;null!==c&&Nh(e,c)}else{const c=t.contentHooks;null!==c&&kh(e,c,1),z_(e,1)}!function o6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=SP(e,wc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Js(~s);else{const o=s,a=n[++i],u=n[++i];uz(a,o),r.dirty=!1;const c=M_(r);try{u(2,e[o])}finally{N_(r,c)}}}}finally{null===e[wc]&&RP(e,wc),Js(-1)}}(t,e);const a=t.components;null!==a&&ZP(e,a,0);const u=t.viewQuery;if(null!==u&&nv(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Nh(e,c)}else{const c=t.viewHooks;null!==c&&kh(e,c,2),z_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ae]&=-73,wR(e)}finally{G_()}}}function XP(t,e){for(let n=vx(t);null!==n;n=Ex(n))for(let r=$t;r<n.length;r++)JP(n[r],e)}function V6(t,e,n){JP(Qn(e,t),n)}function JP(t,e){if(!function K3(t){return 128==(128&t[ae])}(t))return;const n=t[L],r=t[ae];if(80&r&&0===e||1024&r||2===e)YP(n,t,n.template,t[ht]);else if(t[_c]>0){XP(t,1);const i=n.components;null!==i&&ZP(t,i,1)}}function ZP(t,e,n){for(let r=0;r<e.length;r++)V6(t,e[r],n)}class qc{get rootNodes(){const e=this._lView,n=e[L];return zc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ht]}set context(e){this._lView[ht]=e}get destroyed(){return 256==(256&this._lView[ae])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Xe];if(yn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Jh(e,r),Bh(n,r))}this._attachedToViewContainer=!1}ly(this._lView[L],this._lView)}onDestroy(e){!function bR(t,e){if(256==(256&t[ae]))throw new D(911,!1);null===t[ts]&&(t[ts]=[]),t[ts].push(e)}(this._lView,e)}markForCheck(){Hc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ae]&=-129}reattach(){this._lView[ae]|=128}detectChanges(){Cf(this._lView[L],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wq(t,e){Vc(t,e,e[ie],2,null,null)}(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class F6 extends qc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Cf(e[L],e,e[ht],!1)}checkNoChanges(){}get context(){return null}}class eM extends vf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ye(e);return new Wc(n,this.ngModule)}}function tM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class U6{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wh(r);const i=this.injector.get(e,By,r);return i!==By||n===By?i:this.parentInjector.get(e,n,r)}}class Wc extends oP{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=tM(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function E3(t){return t.map(v3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Zn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new U6(e,s):e,a=o.get(uP,null);if(null===a)throw new D(407,!1);const d={rendererFactory:a,sanitizer:o.get(O9,null),effectManager:o.get(KP,null),afterRenderEventManager:o.get(Wy,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function u6(t,e,n,r){const s=r.get(bP,!1)||n===br.ShadowDom,o=t.selectRootElement(e,s);return function c6(t){VP(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Xh(h,f,function L6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=Fy(p,o,!0));const w=Jy(0,null,null,1,0,null,null,null,null,null,null),R=wf(null,w,null,v,null,null,d,h,o,null,y);let N,G;H_(R);try{const de=this.componentDef;let rt,Yi=null;de.findHostDirectiveDefs?(rt=[],Yi=new Map,de.findHostDirectiveDefs(de,rt,Yi),rt.push(de)):rt=[de];const cc=function j6(t,e){const n=t[L],r=pe;return t[r]=e,Na(n,r,2,"#host",null)}(R,p),oge=function $6(t,e,n,r,i,s,o){const a=i[L];!function H6(t,e,n,r){for(const i of t)e.mergedAttrs=mc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(bf(e,e.mergedAttrs,!0),null!==n&&Ox(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=Fy(e,i[es]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=wf(i,OP(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&ev(a,t,r.length-1),Tf(i,d),i[t.index]=d}(cc,p,de,rt,R,d,h);G=ER(w,pe),p&&function z6(t,e,n,r){if(r)A_(t,n,["ng-version",V9.full]);else{const{attrs:i,classes:s}=function I3(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Cr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&A_(t,n,i),s&&s.length>0&&kx(t,n,s.join(" "))}}(h,de,p,r),void 0!==n&&function q6(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(G,this.ngContentSelectors,n),N=function G6(t,e,n,r,i,s){const o=Gt(),a=i[L],u=Fn(o,i);UP(a,i,o,n,null,r);for(let l=0;l<n.length;l++)on(Zs(i,a,o.directiveStart+l,o),i);BP(a,i,o),u&&on(u,i);const c=Zs(i,a,o.directiveStart+o.componentOffset,o);if(t[ht]=i[ht]=c,null!==s)for(const l of s)l(c,e);return Qy(a,o,t),c}(oge,de,rt,Yi,R,[W6]),iv(w,R,null)}finally{G_()}return new B6(this.componentType,N,xa(G,R),R,G)}}class B6 extends R9{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new F6(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;rv(s[L],s,i,e,n),this.previousInputValues.set(e,n),Hc(Qn(this._tNode.index,s))}}get injector(){return new In(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function W6(){const t=Gt();Mh(b()[L],t)}function Te(t){let e=function nM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ar(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Df(t.inputs),o.inputTransforms=Df(t.inputTransforms),o.declaredInputs=Df(t.declaredInputs),o.outputs=Df(t.outputs);const a=i.hostBindings;a&&X6(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Q6(t,u),c&&Y6(t,c),mh(t.inputs,i.inputs),mh(t.declaredInputs,i.declaredInputs),mh(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),mh(o.inputTransforms,i.inputTransforms)),Ar(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Te&&(n=!1)}}e=Object.getPrototypeOf(e)}!function K6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mc(i.hostAttrs,n=mc(n,i.hostAttrs))}}(r)}function Df(t){return t===Ur?{}:t===we?[]:t}function Q6(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Y6(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function X6(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Af(t){return!!sv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function sv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function un(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Oa(t,e,n,r){return un(t,fa(),n)?e+re(n)+r:oe}function st(t,e,n,r,i,s,o,a){const u=b(),c=ve(),l=t+pe,d=c.firstCreatePass?function w5(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Na(e,t,4,o||null,rs(c,a));Zy(e,n,l,rs(c,u)),Mh(e,l);const d=l.tView=Jy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Hr(d,!1);const h=vM(c,u,d,t);Ph()&&ef(c,u,h,d),on(h,u),Tf(u,u[l]=$P(h,u,h,d)),Ah(d)&&Yy(c,u,d),null!=o&&Xy(u,d,a)}let vM=function EM(t,e,n,r){return is(!0),e[ie].createComment("")};function Se(t,e,n){const r=b();return un(r,fa(),e)&&er(ve(),et(),r,t,e,r[ie],n,!1),Se}function dv(t,e,n,r,i){const o=i?"class":"style";rv(t,n,e.inputs[o],o,r)}function x(t,e,n,r){const i=b(),s=ve(),o=pe+t,a=i[ie],u=s.firstCreatePass?function D5(t,e,n,r,i,s){const o=e.consts,u=Na(e,t,2,r,rs(o,i));return Zy(e,n,u,rs(o,s)),null!==u.attrs&&bf(u,u.attrs,!1),null!==u.mergedAttrs&&bf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=wM(s,i,u,a,e,t);i[o]=c;const l=Ah(u);return Hr(u,!0),Ox(a,c,u),32!=(32&u.flags)&&Ph()&&ef(s,i,c,u),0===function J3(){return ee.lFrame.elementDepthCount}()&&on(c,i),function Z3(){ee.lFrame.elementDepthCount++}(),l&&(Yy(s,i,u),Qy(s,u,i)),null!==r&&Xy(i,u),x}function S(){let t=Gt();L_()?U_():(t=t.parent,Hr(t,!1));const e=t;(function tz(t){return ee.skipHydrationRootTNode===t})(e)&&function sz(){ee.skipHydrationRootTNode=null}(),function ez(){ee.lFrame.elementDepthCount--}();const n=ve();return n.firstCreatePass&&(Mh(n,t),R_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Ez(t){return 0!=(8&t.flags)}(e)&&dv(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Iz(t){return 0!=(16&t.flags)}(e)&&dv(n,e,b(),e.stylesWithoutHost,!1),S}function qe(t,e,n,r){return x(t,e,n,r),S(),qe}let wM=(t,e,n,r,i,s)=>(is(!0),Xh(r,i,function FR(){return ee.lFrame.currentNamespace}()));function Qr(){return b()}function Jc(t){return!!t&&"function"==typeof t.then}function CM(t){return!!t&&"function"==typeof t.subscribe}function ke(t,e,n,r){const i=b(),s=ve(),o=Gt();return function AM(t,e,n,r,i,s,o){const a=Ah(r),c=t.firstCreatePass&&zP(t),l=e[ht],d=GP(e);let h=!0;if(3&r.type||o){const m=Fn(r,e),_=o?o(m):m,v=d.length,y=o?R=>o(Le(R[r.index])):r.index;let w=null;if(!o&&a&&(w=function M5(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[sa],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,h=!1;else{s=RM(r,e,l,s,!1);const R=n.listen(_,i,s);d.push(s,R),c&&c.push(i,y,v,v+1)}}else s=RM(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let _=0;_<m;_+=2){const N=e[p[_]][p[_+1]].subscribe(s),G=d.length;d.push(s,N),c&&c.push(i,r.index,G,-(G+1))}}}(s,i,i[ie],o,t,e,r),ke}function SM(t,e,n,r){try{return $r(6,e,n),!1!==n(r)}catch(i){return WP(t,i),!1}finally{$r(7,e,n)}}function RM(t,e,n,r,i){return function s(o){if(o===Function)return r;Hc(t.componentOffset>-1?Qn(t.index,e):e);let u=SM(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=SM(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Mt(t=1){return function dz(t){return(ee.lFrame.contextLView=function hz(t,e){for(;t>0;)e=e[aa],t--;return e}(t,ee.lFrame.contextLView))[ht]}(t)}function N5(t,e){let n=null;const r=function g3(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?z0(t,s,!0):y3(r,s))return i}else n=i}return n}function io(t,e,n){return pv(t,"",e,"",n),io}function pv(t,e,n,r,i){const s=b(),o=Oa(s,e,n,r);return o!==oe&&er(ve(),et(),s,t,o,s[ie],i,!1),pv}function Mf(t,e){return t<<17|e<<2}function os(t){return t>>17&32767}function gv(t){return 2|t}function so(t){return(131068&t)>>2}function mv(t,e){return-131069&t|e<<2}function _v(t){return 1|t}function BM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?os(s):so(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];U5(t[a],e)&&(u=!0,t[a+1]=r?_v(l):gv(l)),a=r?os(l):so(l)}u&&(t[n+1]=r?gv(s):_v(s))}function U5(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ia(t,e)>=0}function as(t,e){return function Rr(t,e,n,r){const i=b(),s=ve(),o=function yi(t){const e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function QM(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[En()],o=function KM(t,e){return e>=t.expandoStartIndex}(t,n);(function ZM(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function K5(t,e,n,r){const i=function j_(t){const e=ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Zc(n=yv(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=yv(i,t,e,n,r),null===s){let u=function Q5(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==so(r))return t[os(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=yv(null,t,e,u[1],r),u=Zc(u,e.attrs,r),function Y5(t,e,n,r){t[os(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function X5(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Zc(r,t[s].hostAttrs,n);return Zc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function F5(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=os(o),u=so(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Ia(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=os(t[a+1]);t[r+1]=Mf(h,a),0!==h&&(t[h+1]=mv(t[h+1],r)),t[a+1]=function O5(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Mf(a,0),0!==a&&(t[a+1]=mv(t[a+1],r)),a=r;else t[r+1]=Mf(u,0),0===a?a=r:t[u+1]=mv(t[u+1],r),u=r;c&&(t[r+1]=gv(t[r+1])),BM(t,l,r,!0),BM(t,l,r,!1),function L5(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Ia(s,e)>=0&&(n[r+1]=_v(n[r+1]))}(e,l,t,r,s),o=Mf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==oe&&un(i,o,e)&&function XM(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function V5(t){return 1==(1&t)}(c)?JM(u,e,n,i,so(c),o):void 0;Nf(l)||(Nf(s)||function k5(t){return 2==(2&t)}(c)&&(s=JM(u,null,n,i,a,o)),function Mq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:ss.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ss.Important),t.setStyle(n,r,i,s))}}(r,o,xh(En(),n),i,s))}(s,s.data[En()],i,i[ie],t,i[o+1]=function t8(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Dt(Xn(t)))),t}(e,n),r,o)}(t,e,null,!0),as}function yv(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Zc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Zc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yn(t,o,!!n||e[++s]))}return void 0===t?null:t}function JM(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===oe&&(h=d?we:void 0);let f=d?Z_(h,r):l===r?h:void 0;if(c&&!Nf(f)&&(f=Z_(u,r)),Nf(f)&&(a=f,o))return a;const p=t[i+1];i=o?os(p):so(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Z_(u,r))}return a}function Nf(t){return void 0!==t}function k(t,e=""){const n=b(),r=ve(),i=t+pe,s=r.firstCreatePass?Na(r,i,1,e,null):r.data[i],o=eN(r,n,s,e,t);n[i]=o,Ph()&&ef(r,n,o,s),Hr(s,!1)}let eN=(t,e,n,r,i)=>(is(!0),function Yh(t,e){return t.createText(e)}(e[ie],r));function _r(t){return tr("",t,""),_r}function tr(t,e,n){const r=b(),i=Oa(r,t,e,n);return i!==oe&&function Ti(t,e,n){const r=xh(e,t);!function wx(t,e,n){t.setValue(e,n)}(t[ie],r,n)}(r,En(),i),tr}const za="en-US";let wN=za;function Iv(t,e,n,r,i){if(t=te(t),Array.isArray(t))for(let s=0;s<t.length;s++)Iv(t[s],e,n,r,i);else{const s=ve(),o=b(),a=Gt();let u=no(t)?t:te(t.provide);const c=eP(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(no(t)||!t.multi){const f=new Dc(c,i,T),p=Tv(u,e,i?l:l+h,d);-1===p?(Y_(Vh(a,o),s,u),wv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Tv(u,e,l+h,d),p=Tv(u,e,l,l+h),_=p>=0&&n[p];if(i&&!_||!i&&!(f>=0&&n[f])){Y_(Vh(a,o),s,u);const v=function wW(t,e,n,r,i){const s=new Dc(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,WN(s,i,r&&!n),s}(i?IW:EW,n.length,i,r,c);!i&&_&&(n[p].providerFactory=v),wv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else wv(s,t,f>-1?f:p,WN(n[i?p:f],c,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function wv(t,e,n,r){const i=no(e),s=function h9(t){return!!t.useClass}(e);if(i||s){const u=(s?te(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function WN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Tv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function EW(t,e,n,r){return bv(this.multi,[])}function IW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Zs(n,n[L],this.providerFactory.index,r);s=a.slice(0,o),bv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],bv(i,s);return s}function bv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Be(t,e=[]){return n=>{n.providersResolver=(r,i)=>function vW(t,e,n){const r=ve();if(r.firstCreatePass){const i=Ar(t);Iv(n,r.data,r.blueprint,i,!0),Iv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ao{}class KN{}class Cv extends ao{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eM(this);const i=Wn(e);this._bootstrapComponents=wi(i.bootstrap),this._r3Injector=fP(e,n,[{provide:ao,useValue:this},{provide:vf,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dv extends KN{constructor(e){super(),this.moduleType=e}create(e){return new Cv(this.moduleType,e,[])}}class QN extends ao{constructor(e){super(),this.componentFactoryResolver=new eM(this),this.instance=null;const n=new hf([...e.providers,{provide:ao,useValue:this},{provide:vf,useValue:this.componentFactoryResolver}],e.parent||df(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Av(t,e,n=null){return new QN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let CW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Yx(0,n.type),i=r.length>0?Av([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(j(Zn))})}return t})();function Sv(t){t.getStandaloneInjector=e=>e.get(CW).getOrCreateStandaloneInjector(t)}function rk(t,e,n,r,i,s){const o=e+n;return un(t,o,i)?function Wr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function sl(t,e){const n=t[e];return n===oe?void 0:n}(t,o+1)}function xv(t,e){const n=ve();let r;const i=t+pe;n.firstCreatePass?(r=function HW(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Xs(r.type)),a=On(T);try{const u=Oh(!1),c=s();return Oh(u),function C5(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,b(),i,c),c}finally{On(a)}}function Pv(t,e,n){const r=t+pe,i=b(),s=da(i,r);return function ol(t,e){return t[L].data[e].pure}(i,r)?rk(i,vn(),e,s.transform,n,s):s.transform(n)}function KW(){return this._results[Symbol.iterator]()}class Mv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new P)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Mv.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=KW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function gr(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Oz(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function YW(t,e,n,r=!0){const i=e[L];if(function bq(t,e,n,r){const i=$t+r,s=n.length;r>0&&(n[i-1][Dr]=e),r<s-$t?(e[Dr]=n[i],JR(n,$t+r,e)):(n.push(e),e[Dr]=null),e[Xe]=n;const o=e[vc];null!==o&&n!==o&&function Cq(t,e){const n=t[ca];e[ft]!==e[Xe][Xe][ft]&&(t[J0]=!0),null===n?t[ca]=[e]:n.push(e)}(o,e);const a=e[Br];null!==a&&a.insertView(t),e[ae]|=128}(i,e,t,n),r){const s=py(n,t),o=e[ie],a=Zh(o,t[jr]);null!==a&&function Iq(t,e,n,r,i,s){r[it]=i,r[sn]=e,Vc(t,r,n,1,i,s)}(i,t[sn],o,e,a,s)}}let bi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZW}return t})();const XW=bi,JW=class extends XW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function QW(t,e,n,r){const i=e.tView,a=wf(t,i,n,4096&t[ae]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[vc]=t[e.index];const c=t[Br];return null!==c&&(a[Br]=c.createEmbeddedView(i)),iv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new qc(i)}};function ZW(){return Lf(Gt(),b())}function Lf(t,e){return 4&t.type?new JW(e,t,xa(t,e)):null}let nr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=s7}return t})();function s7(){return pk(Gt(),b())}const o7=nr,hk=class extends o7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new In(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fh(this._hostTNode,this._hostLView);if(W_(e)){const n=Sc(e,this._hostLView),r=Ac(e);return new In(n[L].data[r+8],n)}return new In(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=fk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function xc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Wc(ye(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const _=(o?c:this.parentInjector).get(Zn,null);_&&(s=_)}ye(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Q3(t){return yn(t[Xe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Xe],l=new hk(c,c[sn],c[Xe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return YW(a,i,o,!r),e.attachToViewContainerRef(),JR(Nv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=fk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Jh(this._lContainer,n);r&&(Bh(Nv(this._lContainer),n),ly(r[L],r))}detach(e){const n=this._adjustIndex(e,-1),r=Jh(this._lContainer,n);return r&&null!=Bh(Nv(this._lContainer),n)?new qc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function fk(t){return t[8]}function Nv(t){return t[8]||(t[8]=[])}function pk(t,e){let n;const r=e[t.index];return yn(r)?n=r:(n=$P(r,e,null,t),e[t.index]=n,Tf(e,n)),gk(n,e,t,r),new hk(n,t,e)}let gk=function mk(t,e,n,r){if(t[jr])return;let i;i=8&n.type?Le(r):function a7(t,e){const n=t[ie],r=n.createComment(""),i=Fn(e,t);return eo(n,Zh(n,i),r,function Rq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[jr]=i};class kv{constructor(e){this.queryList=e,this.matches=null}clone(){return new kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ov{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ov(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==Tk(e,n).matches&&this.queries[n].setDirty()}}class _k{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Vv{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Vv(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Fv{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Fv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,l7(n,s)),this.matchTNodeWithReadOption(e,n,Lh(n,e,s,!1,!1))}else r===bi?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Lh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===an||i===nr||i===bi&&4&n.type)this.addMatch(n.index,-2);else{const s=Lh(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function l7(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function h7(t,e,n,r){return-1===n?function d7(t,e){return 11&t.type?xa(t,e):4&t.type?Lf(t,e):null}(e,t):-2===n?function f7(t,e,n){return n===an?xa(e,t):n===bi?Lf(e,t):n===nr?pk(e,t):void 0}(t,e,r):Zs(t,t[L],n,e)}function yk(t,e,n,r){const i=e[Br].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:h7(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function Lv(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=yk(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=$t;d<l.length;d++){const h=l[d];h[vc]===h[Xe]&&Lv(h[L],h,c,r)}if(null!==l[ca]){const d=l[ca];for(let h=0;h<d.length;h++){const f=d[h];Lv(f[L],f,c,r)}}}}}return r}function Uv(t){const e=b(),n=ve(),r=PR();$_(r+1);const i=Tk(n,r);if(t.dirty&&function W3(t){return 4==(4&t[ae])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Lv(n,e,r,[]):yk(n,e,i,r);t.reset(s,N9),t.notifyOnChanges()}return!0}return!1}function vk(t,e,n){const r=ve();r.firstCreatePass&&(function wk(t,e,n){null===t.queries&&(t.queries=new Vv),t.queries.track(new Fv(e,n))}(r,new _k(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function Ik(t,e,n){const r=new Mv(4==(4&n));(function h6(t,e,n,r){const i=GP(e);i.push(n),t.firstCreatePass&&zP(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Br]&&(e[Br]=new Ov),e[Br].queries.push(new kv(r))}(r,b(),e)}function Tk(t,e){return t.queries.getByIndex(e)}function bk(t,e){return Lf(t,e)}const jf=new U("Application Initializer");let qv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=B(jf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Jc(s))n.push(s);else if(CM(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ci=new U("LocaleId",{providedIn:"root",factory:()=>B(Ci,fe.Optional|fe.SkipSelf)||function V7(){return typeof $localize<"u"&&$localize.locale||za}()});let $f=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class U7{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let $k=(()=>{class t{compileModuleSync(n){return new Dv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=wi(Wn(n).declarations).reduce((o,a)=>{const u=ye(a);return u&&o.push(new Wc(u)),o},[]);return new U7(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qk=new U(""),Gf=new U("");let Xv,Qv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xv||(function sK(t){Xv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(j(Ae),j(Yv),j(Gf))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Yv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Xv?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),us=null;const Wk=new U("AllowMultipleToken"),Jv=new U("PlatformDestroyListeners"),Zv=new U("appBootstrapListener");class Qk{constructor(e,n){this.name=e,this.token=n}}function Xk(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(s=[])=>{let o=eE();if(!o||o.injector.get(Wk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function uK(t){if(us&&!us.get(Wk,!1))throw new D(400,!1);(function Kk(){!function k3(t){lR=t}(()=>{throw new D(600,!1)})})(),us=t;const e=t.get(Zk);(function Yk(t){t.get(tP,null)?.forEach(n=>n())})(t)}(function Jk(t=[],e){return wn.create({name:e,providers:[{provide:Dy,useValue:"platform"},{provide:Jv,useValue:new Set([()=>us=null])},...t]})}(a,r))}return function lK(t){const e=eE();if(!e)throw new D(401,!1);return e}()}}function eE(){return us?.get(Zk)??null}let Zk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function dK(t="zone.js",e){return"noop"===t?new K9:"zone.js"===t?new Ae(e):t}(r?.ngZone,function e1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function bW(t,e,n){return new Cv(t,e,n)}(n.moduleType,this.injector,function s1(t){return[{provide:Ae,useFactory:t},{provide:Uc,multi:!0,useFactory:()=>{const e=B(fK,{optional:!0});return()=>e.initialize()}},{provide:i1,useFactory:hK},{provide:yP,useFactory:vP}]}(()=>i)),o=s.injector.get(Ii,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{zf(this._modules,s),a.unsubscribe()})}),function t1(t,e,n){try{const r=n();return Jc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(qv);return a.runInitializers(),a.donePromise.then(()=>(function TN(t){dr(t,"Expected localeId to be defined"),"string"==typeof t&&(wN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ci,za)||za),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=n1({},r);return function oK(t,e,n){const r=new Dv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(uo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new D(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Jv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(j(wn))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function n1(t,e){return Array.isArray(e)?e.reduce(n1,t):{...t,...e}}let uo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(i1),this.zoneIsStable=B(yP),this.componentTypes=[],this.components=[],this.isStable=B($f).hasPendingTasks.pipe(tn(n=>n?Q(!1):this.zoneIsStable),S0(),d_()),this._injector=B(Zn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof oP;if(!this._injector.get(qv).done)throw!i&&function ia(t){const e=ye(t)||jt(t)||_n(t);return null!==e&&e.standalone}(n),new D(405,!1);let o;o=i?n:this._injector.get(vf).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function aK(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ao),c=o.create(wn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(qk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),zf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;zf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Zv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const i1=new U("",{providedIn:"root",factory:()=>B(Ii).handleError.bind(void 0)});function hK(){const t=B(Ae),e=B(Ii);return n=>t.runOutsideAngular(()=>e.handleError(n))}let fK=(()=>{class t{constructor(){this.zone=B(Ae),this.applicationRef=B(uo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let qf=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mK}return t})();function mK(t){return function _K(t,e,n){if(Ys(t)&&!n){const r=Qn(t.index,e);return new qc(r,r)}return 47&t.type?new qc(e[ft],e):null}(Gt(),b(),16==(16&t))}class c1{constructor(){}supports(e){return Af(e)}create(e){return new TK(e)}}const wK=(t,e)=>e;class TK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wK}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<d1(r,i,s)?n:r,a=d1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Af(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function i5(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new bK(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new l1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new l1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class bK{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class l1{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new CK,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function d1(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class h1{constructor(){}supports(e){return e instanceof Map||sv(e)}create(){return new DK}}class DK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||sv(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new AK(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class AK{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function f1(){return new Qf([new c1])}let Qf=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:f1});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||f1()),deps:[[t,new Hh,new $h]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new D(901,!1)}}return t})();function p1(){return new cl([new h1])}let cl=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:p1});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||p1()),deps:[[t,new Hh,new $h]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new D(901,!1)}}return t})();const xK=Xk(null,"core",[]);let PK=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(j(uo))};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({})}return t})();let oE=null;function cs(){return oE}class zK{}const Cn=new U("DocumentToken");let aE=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return B(WK)},providedIn:"platform"})}return t})();const qK=new U("Location Initialized");let WK=(()=>{class t extends aE{constructor(){super(),this._doc=B(Cn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cs().getBaseHref(this._doc)}onPopState(n){const r=cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function uE(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function T1(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Di(t){return t&&"?"!==t[0]?"?"+t:t}let lo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return B(C1)},providedIn:"root"})}return t})();const b1=new U("appBaseHref");let C1=(()=>{class t extends lo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(Cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return uE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Di(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Di(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Di(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(j(aE),j(b1,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KK=(()=>{class t extends lo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=uE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(j(aE),j(b1,8))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),cE=(()=>{class t{constructor(n){this._subject=new P,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function XK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(T1(D1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Di(r))}normalize(n){return t.stripTrailingSlash(function YK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,D1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Di(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Di;static#t=this.joinWithSlash=uE;static#n=this.stripTrailingSlash=T1;static#r=this.\u0275fac=function(r){return new(r||t)(j(lo))};static#i=this.\u0275prov=z({token:t,factory:function(){return function QK(){return new cE(j(lo))}()},providedIn:"root"})}return t})();function D1(t){return t.replace(/\/index.html$/,"")}function O1(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const vE=/\s+/,V1=[];let F1=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=V1,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(vE):V1}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(vE):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(vE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(T(Qf),T(cl),T(an),T(Ei))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class VQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ya=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new VQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),U1(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{U1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(T(nr),T(bi),T(Qf))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function U1(t,e){t.context.$implicit=e.item}let hl=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new FQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){B1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){B1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(T(nr),T(bi))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class FQ{constructor(){this.$implicit=null,this.ngIf=null}}function B1(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Dt(e)}'.`)}class BQ{createSubscription(e,n){return fR(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){fR(()=>e.unsubscribe())}}class jQ{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const $Q=new jQ,HQ=new BQ;let $1=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Jc(n))return $Q;if(CM(n))return HQ;throw function Mr(t,e){return new D(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(T(qf,16))};static#t=this.\u0275pipe=rn({name:"async",type:t,pure:!1,standalone:!0})}return t})(),ap=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({})}return t})();const G1="browser";function Ri(t){return t===G1}function z1(t){return"server"===t}let lY=(()=>{class t{static#e=this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new dY(j(Cn),window)})}return t})();class dY{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function hY(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class q1{}class OY extends zK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class DE extends OY{static makeCurrent(){!function GK(t){oE||(oE=t)}(new DE)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function VY(){return pl=pl||document.querySelector("base"),pl?pl.getAttribute("href"):null}();return null==n?null:function FY(t){lp=lp||document.createElement("a"),lp.setAttribute("href",t);const e=lp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){pl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return O1(document.cookie,e)}}let lp,pl=null,UY=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const AE=new U("EventManagerPlugins");let X1=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(j(AE),j(Ae))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class J1{constructor(e){this._doc=e}}const SE="ng-app-id";let Z1=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=z1(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${SE}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(SE),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(SE,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(j(Cn),j(ff),j(nP,8),j(Sr))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const RE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xE=/%COMP%/g,HY=new U("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function tO(t,e){return e.map(n=>n.replace(xE,t))}let nO=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=z1(a),this.defaultRenderer=new PE(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===br.ShadowDom&&(r={...r,encapsulation:br.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof iO?i.applyToHost(n):i instanceof ME&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case br.Emulated:s=new iO(u,c,r,this.appId,l,o,a,d);break;case br.ShadowDom:return new WY(u,c,n,r,o,a,this.nonce,d);default:s=new ME(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(j(X1),j(Z1),j(ff),j(HY),j(Cn),j(Sr),j(Ae),j(nP))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();class PE{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(RE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=RE[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=RE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ss.DashCase|ss.Important)?e.style.setProperty(n,r,i&ss.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ss.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=cs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function rO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class WY extends PE{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=tO(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ME extends PE{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?tO(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iO extends ME{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function GY(t){return"_ngcontent-%COMP%".replace(xE,t)}(c),this.hostAttr=function zY(t){return"_nghost-%COMP%".replace(xE,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let KY=(()=>{class t extends J1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(j(Cn))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const sO=["alt","control","meta","shift"],QY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let XY=(()=>{class t extends J1{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),sO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=QY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),sO.forEach(o=>{o!==i&&(0,YY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(j(Cn))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const aO=[{provide:Sr,useValue:G1},{provide:tP,useValue:function JY(){DE.makeCurrent()},multi:!0},{provide:Cn,useFactory:function eX(){return function Fq(t){_y=t}(document),document},deps:[]}],tX=Xk(xK,"browser",aO),nX=new U(""),uO=[{provide:Gf,useClass:class LY{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new D(5103,!1);return s},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements(),Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(r=>{const i=Fe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?cs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:qk,useClass:Qv,deps:[Ae,Yv,Gf]},{provide:Qv,useClass:Qv,deps:[Ae,Yv,Gf]}],cO=[{provide:Dy,useValue:"root"},{provide:Ii,useFactory:function ZY(){return new Ii},deps:[]},{provide:AE,useClass:KY,multi:!0,deps:[Cn,Ae,Sr]},{provide:AE,useClass:XY,multi:!0,deps:[Cn]},nO,Z1,X1,{provide:uP,useExisting:nO},{provide:q1,useClass:UY,deps:[]},[]];let rX=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:ff,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(j(nX,12))};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({providers:[...cO,...uO],imports:[ap,PK]})}return t})(),lO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(j(Cn))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function sX(){return new lO(j(Cn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let kE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new(r||t):j(fO),i},providedIn:"root"})}return t})(),fO=(()=>{class t extends kE{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Jn.NONE:return r;case Jn.HTML:return zr(r,"HTML")?Xn(r):zx(this._doc,String(r)).toString();case Jn.STYLE:return zr(r,"Style")?Xn(r):r;case Jn.SCRIPT:if(zr(r,"Script"))return Xn(r);throw new D(5200,!1);case Jn.URL:return zr(r,"URL")?Xn(r):sf(String(r));case Jn.RESOURCE_URL:if(zr(r,"ResourceURL"))return Xn(r);throw new D(5201,!1);default:throw new D(5202,!1)}}bypassSecurityTrustHtml(n){return function Gq(t){return new Lq(t)}(n)}bypassSecurityTrustStyle(n){return function zq(t){return new Uq(t)}(n)}bypassSecurityTrustScript(n){return function qq(t){return new Bq(t)}(n)}bypassSecurityTrustUrl(n){return function Wq(t){return new jq(t)}(n)}bypassSecurityTrustResourceUrl(n){return function Kq(t){return new $q(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(j(Cn))};static#t=this.\u0275prov=z({token:t,factory:function(r){let i=null;return i=r?new r:function cX(t){return new fO(t.get(Cn))}(j(wn)),i},providedIn:"root"})}return t})();const{isArray:dX}=Array,{getPrototypeOf:hX,prototype:fX,keys:pX}=Object;function gO(t){if(1===t.length){const e=t[0];if(dX(e))return{args:e,keys:null};if(function gX(t){return t&&"object"==typeof t&&hX(t)===fX}(e)){const n=pX(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:mX}=Array;function OE(t){return le(e=>function _X(t,e){return mX(e)?t(...e):t(e)}(t,e))}function mO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function VE(...t){const e=hc(t),n=b0(t),{args:r,keys:i}=gO(t);if(0===r.length)return Ct([],e);const s=new ze(function yX(t,e,n=Xi){return r=>{_O(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)_O(e,()=>{const c=Ct(t[u],e);let l=!1;c.subscribe(dt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>mO(i,o):Xi));return n?s.pipe(OE(n)):s}function _O(t,e,n){t?fi(n,t,e):e()}const gl=lc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ml(...t){return function vX(){return na(1)}()(Ct(t,hc(t)))}function _l(t){return new ze(e=>{en(t()).subscribe(e)})}function Xa(t,e){const n=he(t)?t:()=>t,r=i=>i.error(n());return new ze(e?i=>e.schedule(r,0,i):r)}function FE(){return lt((t,e)=>{let n=null;t._refCount++;const r=dt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class LE extends ze{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,c0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kn;const n=this.getSubject();e.add(this.source.subscribe(dt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kn.EMPTY)}return e}refCount(){return FE()(this)}}function An(t){return t<=0?()=>Lr:lt((e,n)=>{let r=0;e.subscribe(dt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function yO(...t){const e=hc(t);return lt((n,r)=>{(e?ml(t,n,e):ml(t,n)).subscribe(r)})}function Sn(t,e){return lt((n,r)=>{let i=0;n.subscribe(dt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function dp(t){return lt((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function vO(t=EX){return lt((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function EX(){return new gl}function ds(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Sn((i,s)=>t(i,s,r)):Xi,An(1),n?dp(e):vO(()=>new gl))}function Ja(t,e){return he(e)?bt(t,e,1):bt(t,1)}function qt(t,e,n){const r=he(t)||e||n?{next:t,error:e,complete:n}:t;return r?lt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(dt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Xi}function ho(t){return lt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(dt(n,void 0,void 0,o=>{s=en(t(o,ho(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function UE(t){return t<=0?()=>Lr:lt((e,n)=>{let r=[];e.subscribe(dt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hp(t){return le(()=>t)}function yl(t){return lt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fp(t){return lt((e,n)=>{en(t).subscribe(dt(n,()=>n.complete(),dc)),!n.closed&&e.subscribe(n)})}const ue="primary",vl=Symbol("RouteTitle");class bX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Za(t){return new bX(t)}function CX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Jr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!EO(t[i],e[i]))return!1;return!0}function EO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function IO(t){return t.length>0?t[t.length-1]:null}function hs(t){return function lX(t){return!!t&&(t instanceof ze||he(t.lift)&&he(t.subscribe))}(t)?t:Jc(t)?Ct(Promise.resolve(t)):Q(t)}const AX={exact:function bO(t,e,n){if(!fo(t.segments,e.segments)||!pp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!bO(t.children[r],e.children[r],n))return!1;return!0},subset:CO},wO={exact:function SX(t,e){return Jr(t,e)},subset:function RX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>EO(t[n],e[n]))},ignored:()=>!0};function TO(t,e,n){return AX[n.paths](t.root,e.root,n.matrixParams)&&wO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function CO(t,e,n){return DO(t,e,e.segments,n)}function DO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!fo(i,n)||e.hasChildren()||!pp(i,n,r))}if(t.segments.length===n.length){if(!fo(t.segments,n)||!pp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!CO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(fo(t.segments,i)&&pp(t.segments,i,r)&&t.children[ue])&&DO(t.children[ue],e,s,r)}}function pp(t,e,n){return e.every((r,i)=>wO[n](t[i].parameters,r.parameters))}class eu{constructor(e=new xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Za(this.queryParams)),this._queryParamMap}toString(){return MX.serialize(this)}}class xe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gp(this)}}class El{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Za(this.parameters)),this._parameterMap}toString(){return RO(this)}}function fo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Il=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return new BE},providedIn:"root"})}return t})();class BE{parse(e){const n=new HX(e);return new eu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${wl(e.root,!0)}`,r=function OX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${mp(n)}=${mp(i)}`).join("&"):`${mp(n)}=${mp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function NX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const MX=new BE;function gp(t){return t.segments.map(e=>RO(e)).join("/")}function wl(t,e){if(!t.hasChildren())return gp(t);if(e){const n=t.children[ue]?wl(t.children[ue],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ue&&r.push(`${i}:${wl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function PX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ue&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ue&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ue?[wl(t.children[ue],!1)]:[`${i}:${wl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ue]?`${gp(t)}/${n[0]}`:`${gp(t)}/(${n.join("//")})`}}function AO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mp(t){return AO(t).replace(/%3B/gi,";")}function jE(t){return AO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _p(t){return decodeURIComponent(t)}function SO(t){return _p(t.replace(/\+/g,"%20"))}function RO(t){return`${jE(t.path)}${function kX(t){return Object.keys(t).map(e=>`;${jE(e)}=${jE(t[e])}`).join("")}(t.parameters)}`}const VX=/^[^\/()?;#]+/;function $E(t){const e=t.match(VX);return e?e[0]:""}const FX=/^[^\/()?;=#]+/,UX=/^[^=?&#]+/,jX=/^[^&#]+/;class HX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new xe(e,n)),r}parseSegment(){const e=$E(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new El(_p(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function LX(t){const e=t.match(FX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=$E(this.remaining);i&&(r=i,this.capture(r))}e[_p(n)]=_p(r)}parseQueryParam(e){const n=function BX(t){const e=t.match(UX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function $X(t){const e=t.match(jX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=SO(n),s=SO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$E(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ue]:new xe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function xO(t){return t.segments.length>0?new xe([],{[ue]:t}):t}function PO(t){const e={};for(const r of Object.keys(t.children)){const s=PO(t.children[r]);if(r===ue&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function GX(t){if(1===t.numberOfChildren&&t.children[ue]){const e=t.children[ue];return new xe(t.segments.concat(e.segments),e.children)}return t}(new xe(t.segments,e))}function po(t){return t instanceof eu}function MO(t){let e;const i=xO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new xe(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function NO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return HE(i,i,i,n,r);const s=function qX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new OO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new OO(n,e,r)}(e);if(s.toRoot())return HE(i,i,new xe([],{}),n,r);const o=function WX(t,e,n){if(t.isAbsolute)return new vp(e,!0,0);if(!n)return new vp(e,!1,NaN);if(null===n.parent)return new vp(n,!0,0);const r=yp(t.commands[0])?0:1;return function KX(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new vp(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?bl(o.segmentGroup,o.index,s.commands):VO(o.segmentGroup,o.index,s.commands);return HE(i,o.segmentGroup,a,n,r)}function yp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Tl(t){return"object"==typeof t&&null!=t&&t.outlets}function HE(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:kO(t,e,n);const a=xO(PO(o));return new eu(a,s,i)}function kO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:kO(s,e,n)}),new xe(t.segments,r)}class OO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&yp(r[0]))throw new D(4003,!1);const i=r.find(Tl);if(i&&i!==IO(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function VO(t,e,n){if(t||(t=new xe([],{})),0===t.segments.length&&t.hasChildren())return bl(t,e,n);const r=function YX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Tl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!LO(u,c,o))return s;r+=2}else{if(!LO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new xe(t.segments.slice(0,r.pathIndex),{});return s.children[ue]=new xe(t.segments.slice(r.pathIndex),t.children),bl(s,0,i)}return r.match&&0===i.length?new xe(t.segments,{}):r.match&&!t.hasChildren()?GE(t,e,n):r.match?bl(t,0,i):GE(t,e,n)}function bl(t,e,n){if(0===n.length)return new xe(t.segments,{});{const r=function QX(t){return Tl(t[0])?t[0].outlets:{[ue]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ue)&&t.children[ue]&&1===t.numberOfChildren&&0===t.children[ue].segments.length){const s=bl(t.children[ue],e,n);return new xe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=VO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new xe(t.segments,i)}}function GE(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Tl(s)){const u=XX(s.outlets);return new xe(r,u)}if(0===i&&yp(n[0])){r.push(new El(t.segments[e].path,FO(n[0]))),i++;continue}const o=Tl(s)?s.outlets[ue]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&yp(a)?(r.push(new El(o,FO(a))),i+=2):(r.push(new El(o,{})),i++)}return new xe(r,{})}function XX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=GE(new xe([],{}),0,r))}),e}function FO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function LO(t,e,n){return t==n.path&&Jr(e,n.parameters)}const Cl="imperative";class Zr{constructor(e,n){this.id=e,this.url=n}}class Ep extends Zr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fs extends Zr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dl extends Zr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tu extends Zr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Ip extends Zr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class UO extends Zr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JX extends Zr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZX extends Zr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eJ extends Zr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tJ extends Zr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nJ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rJ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iJ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sJ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zE{}class qE{constructor(e){this.url=e}}class uJ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Al,this.attachRef=null}}let Al=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new uJ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class jO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=WE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=WE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=KE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return KE(e,this._root).map(n=>n.value)}}function WE(t,e){if(t===e.value)return e;for(const n of e.children){const r=WE(t,n);if(r)return r}return null}function KE(t,e){if(t===e.value)return[e];for(const n of e.children){const r=KE(t,n);if(r.length)return r.unshift(e),r}return[]}class xi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function nu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class $O extends jO{constructor(e,n){super(e),this.snapshot=n,QE(this,e)}toString(){return this.snapshot.toString()}}function HO(t,e){const n=function cJ(t,e){const o=new wp([],{},{},"",{},ue,e,null,{});return new zO("",new xi(o,[]))}(0,e),r=new zn([new El("",{})]),i=new zn({}),s=new zn({}),o=new zn({}),a=new zn(""),u=new ru(r,i,o,a,s,ue,e,n.root);return u.snapshot=n.root,new $O(new xi(u,[]),n)}class ru{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(c=>c[vl]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(e=>Za(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(e=>Za(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function lJ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class wp{get title(){return this.data?.[vl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Za(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Za(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zO extends jO{constructor(e,n){super(n),this.url=e,QE(this,n)}toString(){return qO(this._root)}}function QE(t,e){e.value._routerState=t,e.children.forEach(n=>QE(t,n))}function qO(t){const e=t.children.length>0?` { ${t.children.map(qO).join(", ")} } `:"";return`${t.value}${e}`}function YE(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Jr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Jr(e.params,n.params)||t.paramsSubject.next(n.params),function DX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Jr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Jr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function XE(t,e){const n=Jr(t.params,e.params)&&function xX(t,e){return fo(t,e)&&t.every((n,r)=>Jr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||XE(t.parent,e.parent))}let JE=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new P,this.deactivateEvents=new P,this.attachEvents=new P,this.detachEvents=new P,this.parentContexts=B(Al),this.location=B(nr),this.changeDetector=B(qf),this.environmentInjector=B(Zn),this.inputBinder=B(Tp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new dJ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Z({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kn]})}return t})();class dJ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ru?this.route:e===Al?this.childContexts:this.parent.get(e,n)}}const Tp=new U("");let WO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=VE([r.queryParams,r.params,r.data]).pipe(tn(([s,o,a],u)=>(a={...s,...o,...a},0===u?Q(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function HK(t){const e=ye(t);if(!e)return null;const n=new Wc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function Sl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function fJ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Sl(t,r,i);return Sl(t,r)})}(t,e,n);return new xi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Sl(t,a)),o}}const r=function pJ(t){return new ru(new zn(t.url),new zn(t.params),new zn(t.queryParams),new zn(t.fragment),new zn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Sl(t,s));return new xi(r,i)}}const ZE="ngNavigationCancelingError";function KO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function QO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[ZE]=!0,r.cancellationCode=e,n&&(r.url=n),r}function YO(t){return t&&t[ZE]}let XO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=At({type:t,selectors:[["ng-component"]],standalone:!0,features:[Sv],decls:1,vars:0,template:function(r,i){1&r&&qe(0,"router-outlet")},dependencies:[JE],encapsulation:2})}return t})();function eI(t){const e=t.children&&t.children.map(eI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=XO),n}function Nr(t){return t.outlet||ue}function Rl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class wJ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),YE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=nu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=nu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=nu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=nu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new aJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new sJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(YE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),YE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Rl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class JO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bp{constructor(e,n){this.component=e,this.route=n}}function TJ(t,e,n){const r=t._root;return xl(r,e?e._root:null,n,[r.value])}function iu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Z4(t){return null!==yh(t)}(t)?e.get(t):t:r}function xl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=nu(e);return t.children.forEach(o=>{(function CJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function DJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!fo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fo(t.url,e.url)||!Jr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!XE(t,e)||!Jr(t.queryParams,e.queryParams);default:return!XE(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new JO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),xl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bp(a.outlet.component,o))}else o&&Pl(e,a,i),i.canActivateChecks.push(new JO(r)),xl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Pl(a,n.getContext(o),i)),i}function Pl(t,e,n){const r=nu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Pl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new bp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ml(t){return"function"==typeof t}function ZO(t){return t instanceof gl||"EmptyError"===t?.name}const Cp=Symbol("INITIAL_VALUE");function su(){return tn(t=>VE(t.map(e=>e.pipe(An(1),yO(Cp)))).pipe(le(e=>{for(const n of e)if(!0!==n){if(n===Cp)return Cp;if(!1===n||n instanceof eu)return n}return!0}),Sn(e=>e!==Cp),An(1)))}function eV(t){return function s4(...t){return o0(t)}(qt(e=>{if(po(e))throw KO(0,e)}),le(e=>!0===e))}class Dp{constructor(e){this.segmentGroup=e||null}}class tV{constructor(e){this.urlTree=e}}function ou(t){return Xa(new Dp(t))}function nV(t){return Xa(new tV(t))}class qJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new D(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[ue])return Xa(new D(4e3,!1));i=i.children[ue]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new eu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new xe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const tI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WJ(t,e,n,r,i){const s=nI(t,e,n);return s.matched?(r=function mJ(t,e){return t.providers&&!t._injector&&(t._injector=Av(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function HJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(o=>{const a=iu(o,t);return hs(function MJ(t){return t&&Ml(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(su(),eV()):Q(!0)}(r,e,n).pipe(le(o=>!0===o?s:{...tI}))):Q(s)}function nI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...tI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||CX)(n,t,e);if(!i)return{...tI};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function rV(t,e,n,r){return n.length>0&&function YJ(t,e,n){return n.some(r=>Ap(t,e,r)&&Nr(r)!==ue)}(t,n,r)?{segmentGroup:new xe(e,QJ(r,new xe(n,t.children))),slicedSegments:[]}:0===n.length&&function XJ(t,e,n){return n.some(r=>Ap(t,e,r))}(t,n,r)?{segmentGroup:new xe(t.segments,KJ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function KJ(t,e,n,r,i){const s={};for(const o of r)if(Ap(t,n,o)&&!i[Nr(o)]){const a=new xe([],{});s[Nr(o)]=a}return{...i,...s}}function QJ(t,e){const n={};n[ue]=e;for(const r of t)if(""===r.path&&Nr(r)!==ue){const i=new xe([],{});n[Nr(r)]=i}return n}function Ap(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class tZ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new qJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,!1)}recognize(){const e=rV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ue).pipe(ho(n=>{if(n instanceof tV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Dp?this.noMatchError(n):n}),le(n=>{const r=new wp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,{}),i=new xi(r,n),s=new zO("",i),o=function zX(t,e,n=null,r=null){return NO(MO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ue).pipe(ho(r=>{throw r instanceof Dp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=GO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ct(i).pipe(Ja(s=>{const o=r.children[s],a=function EJ(t,e){const n=t.filter(r=>Nr(r)===e);return n.push(...t.filter(r=>Nr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function wX(t,e){return lt(function IX(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(dt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),dp(null),function TX(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Sn((i,s)=>t(i,s,r)):Xi,UE(1),n?dp(e):vO(()=>new gl))}(),bt(s=>{if(null===s)return ou(r);const o=iV(s);return function nZ(t){t.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Q(o)}))}processSegment(e,n,r,i,s,o){return Ct(n).pipe(Ja(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ho(u=>{if(u instanceof Dp)return Q(null);throw u}))),ds(a=>!!a),ho(a=>{if(ZO(a))return function ZJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Q([]):ou(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function JJ(t,e,n,r){return!!(Nr(t)===r||r!==ue&&Ap(e,n,t))&&("**"===t.path||nI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ou(i):ou(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nV(s):this.applyRedirects.lineralizeSegments(r,s).pipe(bt(o=>{const a=new xe(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=nI(n,i,s);if(!a)return ou(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?nV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(bt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?IO(i).parameters:{};a=Q({snapshot:new wp(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sV(r),Nr(r),r.component??r._loadedComponent??null,r,oV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=WJ(n,r,i,e).pipe(le(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new wp(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sV(r),Nr(r),r.component??r._loadedComponent??null,r,oV(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(tn(u=>null===u?ou(n):this.getChildConfig(e=r._injector??e,r,i).pipe(tn(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=rV(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(le(v=>null===v?null:[new xi(d,v)]));if(0===c.length&&0===m.length)return Q([new xi(d,[])]);const _=Nr(r)===s;return this.processSegment(l,c,p,m,_?ue:s,!0).pipe(le(v=>[new xi(d,v)]))}))))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):function $J(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(o=>{const a=iu(o,t);return hs(function SJ(t){return t&&Ml(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(su(),eV())}(e,n,r).pipe(bt(i=>i?this.configLoader.loadChildren(e,n).pipe(qt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function zJ(t){return Xa(QO(!1,3))}())):Q({routes:[],injector:e})}}function rZ(t){const e=t.value.routeConfig;return e&&""===e.path}function iV(t){const e=[],n=new Set;for(const r of t){if(!rZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=iV(r.children);e.push(new xi(r.value,i))}return e.filter(r=>!n.has(r))}function sV(t){return t.data||{}}function oV(t){return t.resolve||{}}function aV(t){return"string"==typeof t.title||null===t.title}function rI(t){return tn(e=>{const n=t(e);return n?Ct(n).pipe(le(()=>e)):Q(e)})}const au=new U("ROUTES");let iI=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B($k)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=hs(n.loadComponent()).pipe(le(uV),qt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),yl(()=>{this.componentLoaders.delete(n)})),i=new LE(r,()=>new Tt).pipe(FE());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function lZ(t,e,n,r){return hs(t.loadChildren()).pipe(le(uV),bt(i=>i instanceof KN||Array.isArray(i)?Q(i):Ct(e.compileModuleAsync(i))),le(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(au,[],{optional:!0,self:!0}).flat()),{routes:o.map(eI),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(yl(()=>{this.childrenLoaders.delete(r)})),o=new LE(s,()=>new Tt).pipe(FE());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uV(t){return function dZ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Sp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tt,this.transitionAbortSubject=new Tt,this.configLoader=B(iI),this.environmentInjector=B(Zn),this.urlSerializer=B(Il),this.rootContexts=B(Al),this.inputBindingEnabled=null!==B(Tp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new rJ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new nJ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new zn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Sn(s=>0!==s.id),le(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),tn(s=>{this.currentTransition=s;let o=!1,a=!1;return Q(s).pipe(qt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),tn(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new tu(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Lr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(tn(h=>{const f=this.transitions?.getValue();return this.events.next(new Ep(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Lr:Promise.resolve(h)}),function iZ(t,e,n,r,i,s){return bt(o=>function eZ(t,e,n,r,i,s,o="emptyOnly"){return new tZ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(le(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),qt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new UO(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=u,v=new Ep(h,this.urlSerializer.serialize(f),p,m);this.events.next(v);const y=HO(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:y,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},Q(s)}{const h="";return this.events.next(new tu(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Lr}}),qt(u=>{const c=new JX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),le(u=>(this.currentTransition=s={...u,guards:TJ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function kJ(t,e){return bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Q({...n,guardsResult:!0}):function OJ(t,e,n,r){return Ct(t).pipe(bt(i=>function jJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Q(s.map(a=>{const u=Rl(e)??i,c=iu(a,u);return hs(function PJ(t){return t&&Ml(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ds())})).pipe(su()):Q(!0)}(i.component,i.route,n,e,r)),ds(i=>!0!==i,!0))}(o,r,i,t).pipe(bt(a=>a&&function AJ(t){return"boolean"==typeof t}(a)?function VJ(t,e,n,r){return Ct(e).pipe(Ja(i=>ml(function LJ(t,e){return null!==t&&e&&e(new iJ(t)),Q(!0)}(i.route.parent,r),function FJ(t,e){return null!==t&&e&&e(new oJ(t)),Q(!0)}(i.route,r),function BJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function bJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>_l(()=>Q(o.guards.map(u=>{const c=Rl(o.node)??n,l=iu(u,c);return hs(function xJ(t){return t&&Ml(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ds())})).pipe(su())));return Q(s).pipe(su())}(t,i.path,n),function UJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(s=>_l(()=>{const o=Rl(e)??n,a=iu(s,o);return hs(function RJ(t){return t&&Ml(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ds())}));return Q(i).pipe(su())}(t,i.route,n))),ds(i=>!0!==i,!0))}(r,s,t,e):Q(a)),le(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),qt(u=>{if(s.guardsResult=u.guardsResult,po(u.guardsResult))throw KO(0,u.guardsResult);const c=new ZX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Sn(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),rI(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(qt(c=>{const l=new eJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),tn(c=>{let l=!1;return Q(c).pipe(function sZ(t,e){return bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let s=0;return Ct(i).pipe(Ja(o=>function oZ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!aV(i)&&(s[vl]=i.title),function aZ(t,e,n,r){const i=function uZ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Q({});const s={};return Ct(i).pipe(bt(o=>function cZ(t,e,n,r){const i=Rl(e)??r,s=iu(t,i);return hs(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ds(),qt(a=>{s[o]=a}))),UE(1),hp(s),ho(o=>ZO(o)?Lr:Xa(o)))}(s,t,e,r).pipe(le(o=>(t._resolvedData=o,t.data=GO(t,n).resolve,i&&aV(i)&&(t.data[vl]=i.title),null)))}(o.route,r,t,e)),qt(()=>s++),UE(1),bt(o=>s===i.length?Q(n):Lr))})}(n.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),qt(c=>{const l=new tJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),rI(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(qt(h=>{l.component=h}),le(()=>{})));for(const h of l.children)d.push(...c(h));return d};return VE(c(u.targetSnapshot.root)).pipe(dp(),An(1))}),rI(()=>this.afterPreactivation()),le(u=>{const c=function hJ(t,e,n){const r=Sl(t,e._root,n?n._root:void 0);return new $O(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),qt(()=>{this.events.next(new zE)}),((t,e,n,r)=>le(i=>(new wJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),An(1),qt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),fp(this.transitionAbortSubject.pipe(qt(u=>{throw u}))),yl(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),ho(u=>{if(a=!0,YO(u))this.events.next(new Dl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function gJ(t){return YO(t)&&po(t.url)}(u)?this.events.next(new qE(u.url)):s.resolve(!1);else{this.events.next(new Ip(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return Lr}))}))}cancelNavigationTransition(n,r,i){const s=new Dl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cV(t){return t!==Cl}let lV=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(n){return n.data[vl]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return B(hZ)},providedIn:"root"})}return t})(),hZ=(()=>{class t extends lV{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(j(lO))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return B(gZ)},providedIn:"root"})}return t})();class pZ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let gZ=(()=>{class t extends pZ{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=zt(t)))(i||t)}}();static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Rp=new U("",{providedIn:"root",factory:()=>({})});let mZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:function(){return B(_Z)},providedIn:"root"})}return t})(),_Z=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Nl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Nl||{});function dV(t,e){t.events.pipe(Sn(n=>n instanceof fs||n instanceof Dl||n instanceof Ip||n instanceof tu),le(n=>n instanceof fs||n instanceof tu?Nl.COMPLETE:n instanceof Dl&&(0===n.code||1===n.code)?Nl.REDIRECTING:Nl.FAILED),Sn(n=>n!==Nl.REDIRECTING),An(1)).subscribe(()=>{e()})}function yZ(t){throw t}function vZ(t,e,n){return e.parse("/")}const EZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=B(jk),this.isNgZoneEnabled=!1,this._events=new Tt,this.options=B(Rp,{optional:!0})||{},this.pendingTasks=B($f),this.errorHandler=this.options.errorHandler||yZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=B(mZ),this.routeReuseStrategy=B(fZ),this.titleStrategy=B(lV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=B(au,{optional:!0})?.flat()??[],this.navigationTransitions=B(Sp),this.urlSerializer=B(Il),this.location=B(cE),this.componentInputBindingEnabled=!!B(Tp,{optional:!0}),this.eventsSubscription=new kn,this.isNgZoneEnabled=B(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new eu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HO(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(hV(r)&&this._events.next(r));if(r instanceof Ep)cV(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof tu)this.rawUrlTree=i.rawUrl;else if(r instanceof UO){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof zE)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Dl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof qE){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cV(i.source)};this.scheduleNavigation(s,Cl,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Ip&&this.restoreHistory(i,!0),r instanceof fs&&(this.navigated=!0),hV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Cl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(eI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=MO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return NO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=po(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Cl,null,r)}navigate(n,r={skipLocationChange:!1}){return function wZ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new D(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...EZ}:!1===r?{...IZ}:r,po(n))return TO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return TO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return dV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hV(t){return!(t instanceof zE||t instanceof qE)}class fV{}let CZ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Sn(n=>n instanceof fs),Ja(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Av(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ct(i).pipe(na())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Q(null);const s=i.pipe(bt(o=>null===o?Q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Ct([s,this.loader.loadComponent(r)]).pipe(na()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(j(Rn),j($k),j(Zn),j(fV),j(iI))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const oI=new U("");let pV=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ep?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof fs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof tu&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof BO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new BO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function NP(){throw new Error("invalid")}()};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function Pi(t,e){return{\u0275kind:t,\u0275providers:e}}function mV(){const t=B(wn);return e=>{const n=t.get(uo);if(e!==n.components[0])return;const r=t.get(Rn),i=t.get(_V);1===t.get(aI)&&r.initialNavigation(),t.get(yV,null,fe.Optional)?.setUpPreloading(),t.get(oI,null,fe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const _V=new U("",{factory:()=>new Tt}),aI=new U("",{providedIn:"root",factory:()=>1}),yV=new U("");function RZ(t){return Pi(0,[{provide:yV,useExisting:CZ},{provide:fV,useExisting:t}])}const vV=new U("ROUTER_FORROOT_GUARD"),PZ=[cE,{provide:Il,useClass:BE},Rn,Al,{provide:ru,useFactory:function gV(t){return t.routerState.root},deps:[Rn]},iI,[]];function MZ(){return new Qk("Router",Rn)}let EV=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[PZ,[],{provide:au,multi:!0,useValue:n},{provide:vV,useFactory:VZ,deps:[[Rn,new $h,new Hh]]},{provide:Rp,useValue:r||{}},r?.useHash?{provide:lo,useClass:KK}:{provide:lo,useClass:C1},{provide:oI,useFactory:()=>{const t=B(lY),e=B(Ae),n=B(Rp),r=B(Sp),i=B(Il);return n.scrollOffset&&t.setOffset(n.scrollOffset),new pV(i,r,t,e,n)}},r?.preloadingStrategy?RZ(r.preloadingStrategy).\u0275providers:[],{provide:Qk,multi:!0,useFactory:MZ},r?.initialNavigation?FZ(r):[],r?.bindToComponentInputs?Pi(8,[WO,{provide:Tp,useExisting:WO}]).\u0275providers:[],[{provide:IV,useFactory:mV},{provide:Zv,multi:!0,useExisting:IV}]]}}static forChild(n){return{ngModule:t,providers:[{provide:au,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(j(vV,8))};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({})}return t})();function VZ(t){return"guarded"}function FZ(t){return["disabled"===t.initialNavigation?Pi(3,[{provide:jf,multi:!0,useFactory:()=>{const e=B(Rn);return()=>{e.setUpLocationChangeListener()}}},{provide:aI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Pi(2,[{provide:aI,useValue:0},{provide:jf,multi:!0,deps:[wn],useFactory:e=>{const n=e.get(qK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Rn),s=e.get(_V);dV(i,()=>{r(!0)}),e.get(Sp).afterPreactivation=()=>(r(!0),s.closed?Q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const IV=new U("");function wV(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){wV(s,r,i,o,a,"next",u)}function a(u){wV(s,r,i,o,a,"throw",u)}o(void 0)})}}const TV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},bV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new $Z;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xp=function(t){return function(t){const e=TV(t);return bV.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Pp=function(t){try{return bV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Mp=()=>{try{return function zZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},DV=t=>{var e,n;return null===(n=null===(e=Mp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},AV=()=>{var t;return null===(t=Mp())||void 0===t?void 0:t.config},SV=t=>{var e;return null===(e=Mp())||void 0===e?void 0:e[`_${t}`]};class RV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xV(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function cI(){try{return"object"==typeof indexedDB}catch{return!1}}function lI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function PV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps.prototype.create)}}class ps{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function nee(t,e){return t.replace(ree,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new kr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const ree=/\{\$([^}]+)}/g;function kl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(NV(s)&&NV(o)){if(!kl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function NV(t){return null!==t&&"object"==typeof t}function Ol(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class oee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function aee(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=dI),void 0===i.error&&(i.error=dI),void 0===i.complete&&(i.complete=dI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(){}const uee=1e3,cee=2,lee=144e5,dee=.5;function kV(t,e=uee,n=cee){const r=e*Math.pow(n,t),i=Math.round(dee*r*(Math.random()-.5)*2);return Math.min(lee,r+i)}function We(t){return t&&t._delegate?t._delegate:t}class ir{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const go="[DEFAULT]";class fee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function gee(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===go?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const fI=[];var _e=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(_e||{});const OV={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},_ee=_e.INFO,yee={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},vee=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=yee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class kp{constructor(e){this.name=e,this._logLevel=_ee,this._logHandler=vee,this._userLogHandler=null,fI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?OV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const Eee=(t,e)=>e.some(n=>t instanceof n);let VV,FV;const LV=new WeakMap,pI=new WeakMap,UV=new WeakMap,gI=new WeakMap,mI=new WeakMap;let _I={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return pI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||UV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Aee(t){return"function"==typeof t?function Dee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wee(){return FV||(FV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(yI(this),e),gs(LV.get(this))}:function(...e){return gs(t.apply(yI(this),e))}:function(e,...n){const r=t.call(yI(this),e,...n);return UV.set(r,e.sort?e.sort():[e]),gs(r)}}(t):(t instanceof IDBTransaction&&function bee(t){if(pI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pI.set(t,e)}(t),Eee(t,function Iee(){return VV||(VV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_I):t)}function gs(t){if(t instanceof IDBRequest)return function Tee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LV.set(n,t)}).catch(()=>{}),mI.set(e,t),e}(t);if(gI.has(t))return gI.get(t);const e=Aee(t);return e!==t&&(gI.set(t,e),mI.set(e,t)),e}const yI=t=>mI.get(t),Ree=["get","getKey","getAll","getAllKeys","count"],xee=["put","add","delete","clear"],vI=new Map;function BV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(vI.get(e))return vI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ree.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return vI.set(e,s),s}!function Cee(t){_I=t(_I)}(t=>({...t,get:(e,n,r)=>BV(e,n)||t.get(e,n,r),has:(e,n)=>!!BV(e,n)||t.has(e,n)}));class Pee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Mee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const EI="@firebase/app",mo=new kp("@firebase/app"),Op="[DEFAULT]",ite={[EI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_o=new Map,Vp=new Map;function ste(t,e){try{t.container.addComponent(e)}catch(n){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Er(t){const e=t.name;if(Vp.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,t);for(const n of _o.values())ste(n,t);return!0}function Mi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ni=new ps("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ate{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const uu="10.4.0";function $V(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Op,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=AV()),!n)throw Ni.create("no-options");const s=_o.get(i);if(s){if(kl(n,s.options)&&kl(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new mee(i);for(const u of Vp.values())o.addComponent(u);const a=new ate(n,r,o);return _o.set(i,a),a}function Fp(t=Op){const e=_o.get(t);if(!e&&t===Op&&AV())return $V();if(!e)throw Ni.create("no-app",{appName:t});return e}function jn(t,e,n){var r;let i=null!==(r=ite[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void mo.warn(a.join(" "))}Er(new ir(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ute="firebase-heartbeat-database",cte=1,Vl="firebase-heartbeat-store";let wI=null;function HV(){return wI||(wI=function See(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=gs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(gs(o.result),u.oldVersion,u.newVersion,gs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(ute,cte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Vl)}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),wI}function TI(){return(TI=g(function*(t){try{return yield(yield HV()).transaction(Vl).objectStore(Vl).get(zV(t))}catch(e){if(e instanceof kr)mo.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e?.message});mo.warn(n.message)}}})).apply(this,arguments)}function GV(t,e){return bI.apply(this,arguments)}function bI(){return(bI=g(function*(t,e){try{const r=(yield HV()).transaction(Vl,"readwrite");yield r.objectStore(Vl).put(e,zV(t)),yield r.done}catch(n){if(n instanceof kr)mo.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n?.message});mo.warn(r.message)}}})).apply(this,arguments)}function zV(t){return`${t.name}!${t.options.appId}`}class fte{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qV();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=qV(),{heartbeatsToSend:r,unsentEntries:i}=function pte(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),WV(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=xp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function qV(){return(new Date).toISOString().substring(0,10)}class gte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!cI()&&lI().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function lte(t){return TI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return GV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return GV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function WV(t){return xp(JSON.stringify({version:2,heartbeats:t})).length}!function mte(t){Er(new ir("platform-logger",e=>new Pee(e),"PRIVATE")),Er(new ir("heartbeat",e=>new fte(e),"PRIVATE")),jn(EI,"0.9.19",t),jn(EI,"0.9.19","esm2017"),jn("fire-js","")}(""),jn("firebase","10.4.0","app");const vte=(t,e)=>e.some(n=>t instanceof n);let KV,QV;const YV=new WeakMap,CI=new WeakMap,XV=new WeakMap,DI=new WeakMap,AI=new WeakMap;let SI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return CI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||XV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Dte(t){return"function"==typeof t?function Cte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ite(){return QV||(QV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(RI(this),e),ms(YV.get(this))}:function(...e){return ms(t.apply(RI(this),e))}:function(e,...n){const r=t.call(RI(this),e,...n);return XV.set(r,e.sort?e.sort():[e]),ms(r)}}(t):(t instanceof IDBTransaction&&function Tte(t){if(CI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});CI.set(t,e)}(t),vte(t,function Ete(){return KV||(KV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,SI):t)}function ms(t){if(t instanceof IDBRequest)return function wte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ms(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YV.set(n,t)}).catch(()=>{}),AI.set(e,t),e}(t);if(DI.has(t))return DI.get(t);const e=Dte(t);return e!==t&&(DI.set(t,e),AI.set(e,t)),e}const RI=t=>AI.get(t),Ste=["get","getKey","getAll","getAllKeys","count"],Rte=["put","add","delete","clear"],xI=new Map;function JV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(xI.get(e))return xI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Rte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ste.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return xI.set(e,s),s}!function bte(t){SI=t(SI)}(t=>({...t,get:(e,n,r)=>JV(e,n)||t.get(e,n,r),has:(e,n)=>!!JV(e,n)||t.has(e,n)}));const ZV="@firebase/installations",PI="0.6.4",eF=1e4,tF=`w:${PI}`,nF="FIS_v2",xte="https://firebaseinstallations.googleapis.com/v1",Pte=36e5,ki=new ps("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rF(t){return t instanceof kr&&t.code.includes("request-failed")}function MI({projectId:t}){return`${xte}/projects/${t}/installations`}function iF(t){return{token:t.token,requestStatus:2,expiresIn:Ote(t.expiresIn),creationTime:Date.now()}}function NI(t,e){return kI.apply(this,arguments)}function kI(){return(kI=g(function*(t,e){const r=(yield e.json()).error;return ki.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function sF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function OI(t){return VI.apply(this,arguments)}function VI(){return(VI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Ote(t){return Number(t.replace("s","000"))}function FI(){return(FI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=MI(t),i=sF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:nF,appId:t.appId,sdkVersion:tF})},u=yield OI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:iF(c.authToken)}}throw yield NI("Create Installation",u)})).apply(this,arguments)}function aF(t){return new Promise(e=>{setTimeout(e,t)})}const Ute=/^[cdef][\w-]{21}$/,LI="";function Bte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function jte(t){return function Lte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Ute.test(n)?n:LI}catch{return LI}}function cu(t){return`${t.appName}!${t.appId}`}const lu=new Map;function uF(t,e){const n=cu(t);cF(n,e),function Gte(t,e){const n=function lF(){return!yo&&"BroadcastChannel"in self&&(yo=new BroadcastChannel("[Firebase] FID Change"),yo.onmessage=t=>{cF(t.data.key,t.data.fid)}),yo}();n&&n.postMessage({key:t,fid:e}),function dF(){0===lu.size&&yo&&(yo.close(),yo=null)}()}(n,e)}function cF(t,e){const n=lu.get(t);if(n)for(const r of n)r(e)}let yo=null;const zte="firebase-installations-database",qte=1,vo="firebase-installations-store";let UI=null;function BI(){return UI||(UI=function Ate(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ms(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ms(o.result),u.oldVersion,u.newVersion,ms(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(zte,qte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(vo)}})),UI}function Lp(t,e){return jI.apply(this,arguments)}function jI(){return(jI=g(function*(t,e){const n=cu(t),i=(yield BI()).transaction(vo,"readwrite"),s=i.objectStore(vo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&uF(t,e.fid),e})).apply(this,arguments)}function $I(t){return HI.apply(this,arguments)}function HI(){return(HI=g(function*(t){const e=cu(t),r=(yield BI()).transaction(vo,"readwrite");yield r.objectStore(vo).delete(e),yield r.done})).apply(this,arguments)}function Fl(t,e){return GI.apply(this,arguments)}function GI(){return(GI=g(function*(t,e){const n=cu(t),i=(yield BI()).transaction(vo,"readwrite"),s=i.objectStore(vo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&uF(t,a.fid),a})).apply(this,arguments)}function zI(t){return qI.apply(this,arguments)}function qI(){return qI=g(function*(t){let e;const n=yield Fl(t.appConfig,r=>{const i=function Wte(t){return fF(t||{fid:Bte(),registrationStatus:0})}(r),s=function Kte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ki.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Qte(t,e){return WI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Yte(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===LI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),qI.apply(this,arguments)}function WI(){return WI=g(function*(t,e){try{const n=yield function Fte(t,e){return FI.apply(this,arguments)}(t,e);return Lp(t.appConfig,n)}catch(n){throw rF(n)&&409===n.customData.serverCode?yield $I(t.appConfig):yield Lp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),WI.apply(this,arguments)}function Yte(t){return KI.apply(this,arguments)}function KI(){return(KI=g(function*(t){let e=yield hF(t.appConfig);for(;1===e.registrationStatus;)yield aF(100),e=yield hF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield zI(t);return r||n}return e})).apply(this,arguments)}function hF(t){return Fl(t,e=>{if(!e)throw ki.create("installation-not-found");return fF(e)})}function fF(t){return function Xte(t){return 1===t.registrationStatus&&t.registrationTime+eF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function QI(){return(QI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Zte(t,{fid:e}){return`${MI(t)}/${e}/authTokens:generate`}(t,n),i=function oF(t,{refreshToken:e}){const n=sF(t);return n.append("Authorization",function Vte(t){return`${nF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:tF,appId:t.appId}})},u=yield OI(()=>fetch(r,a));if(u.ok)return iF(yield u.json());throw yield NI("Generate Auth Token",u)})).apply(this,arguments)}function YI(t){return XI.apply(this,arguments)}function XI(){return XI=g(function*(t,e=!1){let n;const r=yield Fl(t.appConfig,s=>{if(!gF(s))throw ki.create("not-registered");const o=s.authToken;if(!e&&function nne(t){return 2===t.requestStatus&&!function rne(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Pte}(t)}(o))return s;if(1===o.requestStatus)return n=function ene(t,e){return JI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ki.create("app-offline");const a=function ine(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function tne(t,e){return ZI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),XI.apply(this,arguments)}function JI(){return(JI=g(function*(t,e){let n=yield pF(t.appConfig);for(;1===n.authToken.requestStatus;)yield aF(100),n=yield pF(t.appConfig);const r=n.authToken;return 0===r.requestStatus?YI(t,e):r})).apply(this,arguments)}function pF(t){return Fl(t,e=>{if(!gF(e))throw ki.create("not-registered");return function sne(t){return 1===t.requestStatus&&t.requestTime+eF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ZI(){return ZI=g(function*(t,e){try{const n=yield function Jte(t,e){return QI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Lp(t.appConfig,r),n}catch(n){if(!rF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Lp(t.appConfig,r)}else yield $I(t.appConfig);throw n}}),ZI.apply(this,arguments)}function gF(t){return void 0!==t&&2===t.registrationStatus}function ew(){return(ew=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield zI(e);return r?r.catch(console.error):YI(e).catch(console.error),n.fid})).apply(this,arguments)}function tw(){return tw=g(function*(t,e=!1){const n=t;return yield function une(t){return nw.apply(this,arguments)}(n),(yield YI(n,e)).token}),tw.apply(this,arguments)}function nw(){return(nw=g(function*(t){const{registrationPromise:e}=yield zI(t);e&&(yield e)})).apply(this,arguments)}function sw(t){return ki.create("missing-app-config-values",{valueName:t})}const mF="installations",fne=t=>{const e=t.getProvider("app").getImmediate(),n=function dne(t){if(!t||!t.options)throw sw("App Configuration");if(!t.name)throw sw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw sw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Mi(e,"heartbeat"),_delete:()=>Promise.resolve()}},pne=t=>{const n=Mi(t.getProvider("app").getImmediate(),mF).getImmediate();return{getId:()=>function one(t){return ew.apply(this,arguments)}(n),getToken:i=>function ane(t){return tw.apply(this,arguments)}(n,i)}};(function gne(){Er(new ir(mF,fne,"PUBLIC")),Er(new ir("installations-internal",pne,"PRIVATE"))})(),jn(ZV,PI),jn(ZV,PI,"esm2017");const Up="analytics",mne="firebase_id",_ne="origin",yne=6e4,vne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ow="https://www.googletagmanager.com/gtag/js",kt=new kp("@firebase/analytics"),xn=new ps("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ine(t){if(!t.startsWith(ow)){const e=xn.create("invalid-gtag-resource",{gtagURL:t});return kt.warn(e.message),""}return t}function _F(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function aw(){return(aw=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield _F(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){kt.error(a)}t("config",i,s)})).apply(this,arguments)}function uw(){return(uw=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield _F(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){kt.error(s)}})).apply(this,arguments)}const xne=30,yF=new class Mne{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Nne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function cw(){return(cw=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Nne(r)},s=vne.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function lw(){return(lw=g(function*(t,e=yF,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw xn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Lne;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:yne),vF({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function vF(t,e,n){return dw.apply(this,arguments)}function dw(){return dw=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=yF){var s;const{appId:o,measurementId:a}=t;try{yield function Vne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function kne(t){return cw.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Fne(t){if(!(t instanceof kr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?kV(n,i.intervalMillis,xne):kV(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),kt.debug(`Calling attemptFetch again in ${l} millis`),vF(t,d,r,i)}}),dw.apply(this,arguments)}class Lne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let hw,vw;function fw(){return(fw=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Ew(){return(Ew=g(function*(){if(!cI())return kt.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield lI()}catch(t){return kt.warn(xn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Iw(){return Iw=g(function*(t,e,n,r,i,s,o){var a;const u=function One(t){return lw.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&kt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>kt.error(f)),e.push(u);const c=function zne(){return Ew.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Rne(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ow)&&n.src.includes(t))return n;return null})(s)||function Tne(t,e){const n=function wne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Ine}),r=document.createElement("script"),i=`${ow}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),vw&&(i("consent","default",vw),function EF(t){vw=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[_ne]="firebase",h.update=!0,null!=d&&(h[mne]=d),i("config",l.measurementId,h),hw&&(i("set",hw),function IF(t){hw=t}(void 0)),l.measurementId}),Iw.apply(this,arguments)}class Wne{constructor(e){this.app=e}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},wF=[];const TF={};let CF,ti,Bp="dataLayer",ww=!1;function Qne(t,e,n){!function Kne(){const t=[];if(xV()&&t.push("This is a browser extension environment."),PV()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});kt.warn(n.message)}}();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw xn.create("no-api-key");kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[r])throw xn.create("already-exists",{id:r});if(!ww){!function bne(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Bp);const{wrappedGtag:s,gtagCore:o}=function Sne(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Ane(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Dne(t,e,n,r,i){return uw.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function Cne(t,e,n,r,i,s){return aw.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){kt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ei,wF,TF,Bp,"gtag");ti=s,CF=o,ww=!0}return ei[r]=function qne(t,e,n,r,i,s,o){return Iw.apply(this,arguments)}(t,wF,TF,e,CF,Bp,n),new Wne(t)}const DF="@firebase/analytics";!function Zne(){Er(new ir(Up,(e,{options:n})=>Qne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Er(new ir("analytics-internal",function t(e){try{const n=e.getProvider(Up).getImmediate();return{logEvent:(r,i,s)=>function Jne(t,e,n,r){t=We(t),function Une(t,e,n,r,i){return fw.apply(this,arguments)}(ti,ei[t.app.options.appId],e,n,r).catch(i=>kt.error(i))}(n,r,i,s)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),jn(DF,"0.10.0"),jn(DF,"0.10.0","esm2017")}();const ere=function PF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},MF=new ps("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jp=new kp("@firebase/auth");function $p(t,...e){jp.logLevel<=_e.ERROR&&jp.error(`Auth (${uu}): ${t}`,...e)}function $n(t,...e){throw Cw(t,...e)}function sr(t,...e){return Cw(t,...e)}function NF(t,e,n){const r=Object.assign(Object.assign({},ere()),{[e]:n});return new ps("auth","Firebase",r).create(e,{appName:t.name})}function Cw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MF.create(t,...e)}function M(t,e,...n){if(!t)throw Cw(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $p(e),new Error(e)}function Oi(t,e){t||ni(e)}function Ll(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function kF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=function XZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}()||function ZZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function nre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Dw(){return"http:"===kF()||"https:"===kF()}()||xV()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Aw(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class OF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ire={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},sre=new Ul(3e4,6e4);function Je(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function tt(t,e,n,r){return Sw.apply(this,arguments)}function Sw(){return(Sw=g(function*(t,e,n,r,i={}){return VF(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ol(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),OF.fetch()(FF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function VF(t,e,n){return Rw.apply(this,arguments)}function Rw(){return(Rw=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ire),e);try{const i=new ore(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Bl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Bl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Bl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Bl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw NF(t,l,c);$n(t,l)}}catch(i){if(i instanceof kr)throw i;$n(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function xw(){return(xw=g(function*(t,e,n,r,i={}){const s=yield tt(t,e,n,r,i);return"mfaPendingCredential"in s&&$n(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function FF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Aw(t.config,i):`${t.config.apiScheme}://${i}`}class ore{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),sre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sr(t,e,r);return i.customData._tokenResponse=n,i}function Nw(){return(Nw=g(function*(t,e){return tt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Ow(){return(Ow=g(function*(t,e){return tt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Vw(){return(Vw=g(function*(t,e=!1){const n=We(t),r=yield n.getIdToken(e),i=Hp(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:jl(Fw(i.auth_time)),issuedAtTime:jl(Fw(i.iat)),expirationTime:jl(Fw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Fw(t){return 1e3*Number(t)}function Hp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return $p("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pp(n);return i?JSON.parse(i):($p("Failed to decode base64 JWT payload"),null)}catch(i){return $p("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Fi(t,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof kr&&function fre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class pre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class UF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $l(t){return Uw.apply(this,arguments)}function Uw(){return Uw=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Fi(t,function lre(t,e){return Ow.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function _re(t){return t.map(e=>{var{providerId:n}=e,r=ph(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function mre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new UF(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Uw.apply(this,arguments)}function Bw(){return(Bw=g(function*(t){const e=We(t);yield $l(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function jw(){return(jw=g(function*(t,e){const n=yield VF(t,{},g(function*(){const r=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FF(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function hre(t){const e=Hp(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function yre(t,e){return jw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hl;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return ni("not implemented")}}function _s(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Eo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ph(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new UF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Fi(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function dre(t){return Vw.apply(this,arguments)}(this,e)}reload(){return function gre(t){return Bw.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield $l(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Fi(e,function ure(t,e){return Nw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:R,isAnonymous:N,providerData:G,stsTokenManager:de}=n;M(w&&de,e,"internal-error");const rt=Hl.fromJSON(this.name,de);M("string"==typeof w,e,"internal-error"),_s(d,e.name),_s(h,e.name),M("boolean"==typeof R,e,"internal-error"),M("boolean"==typeof N,e,"internal-error"),_s(f,e.name),_s(p,e.name),_s(m,e.name),_s(_,e.name),_s(v,e.name),_s(y,e.name);const Yi=new Eo({uid:w,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:N,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:rt,createdAt:v,lastLoginAt:y});return G&&Array.isArray(G)&&(Yi.providerData=G.map(cc=>Object.assign({},cc))),_&&(Yi._redirectEventId=_),Yi}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Hl;i.updateFromServerResponse(n);const s=new Eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $l(s),s})()}}const BF=new Map;function Li(t){Oi(t instanceof Function,"Expected a class definition");let e=BF.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BF.set(t,e),e)}const jF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Gp(t,e,n){return`firebase:${t}:${e}:${n}`}class hu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Eo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new hu(Li(jF),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Li(jF);const o=Gp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Eo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new hu(s,e,r)):new hu(s,e,r)})()}}function $F(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WF(e))return"Blackberry";if(KF(e))return"Webos";if($w(e))return"Safari";if((e.includes("chrome/")||GF(e))&&!e.includes("edge/"))return"Chrome";if(qF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function HF(t=Nt()){return/firefox\//i.test(t)}function $w(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GF(t=Nt()){return/crios\//i.test(t)}function zF(t=Nt()){return/iemobile/i.test(t)}function qF(t=Nt()){return/android/i.test(t)}function WF(t=Nt()){return/blackberry/i.test(t)}function KF(t=Nt()){return/webos/i.test(t)}function zp(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QF(t=Nt()){return zp(t)||qF(t)||KF(t)||WF(t)||/windows phone/i.test(t)||zF(t)}function YF(t,e=[]){let n;switch(t){case"Browser":n=$F(Nt());break;case"Worker":n=`${$F(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uu}/${r}`}class wre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function Hw(){return(Hw=g(function*(t,e={}){return tt(t,"GET","/v2/passwordPolicy",Je(t,e))})).apply(this,arguments)}class Cre{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(s=u.containsUppercaseLetter)||void 0===s||s),u.isValid&&(u.isValid=null===(o=u.containsNumericCharacter)||void 0===o||o),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Dre{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XF(this),this.idTokenSubscription=new XF(this),this.beforeStateQueue=new wre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield hu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield $l(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function rre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?We(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Li(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return g(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return g(function*(){const n=yield function Tre(t){return Hw.apply(this,arguments)}(e),r=new Cre(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ps("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Li(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield hu.create(n,[Li(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(M(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}{const u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function tre(t,...e){jp.logLevel<=_e.WARN&&jp.warn(`Auth (${uu}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Et(t){return We(t)}class XF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function see(t,e){const n=new oee(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function JF(t){return`__${t}${Math.floor(1e6*Math.random())}`}function eL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class nL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}function Ui(t,e){return uT.apply(this,arguments)}function uT(){return(uT=g(function*(t,e){return function Vi(t,e,n,r){return xw.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Je(t,e))})).apply(this,arguments)}class fu extends nL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ph(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Ui(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ui(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ol(n)}return e}}class vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oL extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Yre=(()=>{class t extends oL{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return fu._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Eo._fromIdTokenResponse(e,r,i),o=aL(r);return new Ir({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=aL(r);return new Ir({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function aL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Yp extends kr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yp(e,n,r,i)}}function uL(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Yp._fromErrorAndOperation(t,s,e,r):s})}function yT(){return(yT=g(function*(t,e,n=!1){const r=yield Fi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ir._forOperation(t,"link",r)})).apply(this,arguments)}function ET(){return(ET=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Fi(t,uL(r,i,e,t),n);M(s.idToken,r,"internal-error");const o=Hp(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(t.uid===a,r,"user-mismatch"),Ir._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&$n(r,"user-mismatch"),s}})).apply(this,arguments)}function IT(){return(IT=g(function*(t,e,n=!1){const r="signIn",i=yield uL(t,r,e),s=yield Ir._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function YT(){return(YT=g(function*(t){return We(t).delete()})).apply(this,arguments)}const Jp="__sak";class fL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jp,"1"),this.storage.removeItem(Jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wie=(()=>{class t extends fL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vie(){const t=Nt();return $w(t)||zp(t)}()&&function Ire(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=QF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Ere(){return function eee(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),pL=(()=>{class t extends fL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let bie=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Tie(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Zp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Cie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Zp("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function It(){return window}function eb(){return typeof It().WorkerGlobalScope<"u"&&"function"==typeof It().importScripts}function tb(){return(tb=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gL="firebaseLocalStorageDb",eg="firebaseLocalStorage",mL="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tg(t,e){return t.transaction([eg],e?"readwrite":"readonly").objectStore(eg)}function nb(){const t=indexedDB.open(gL,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eg,{keyPath:mL})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(eg)?e(r):(r.close(),yield function Pie(){const t=indexedDB.deleteDatabase(gL);return new ql(t).toPromise()}(),e(yield nb()))}))})}function _L(t,e,n){return rb.apply(this,arguments)}function rb(){return(rb=g(function*(t,e,n){const r=tg(t,!0).put({[mL]:e,value:n});return new ql(r).toPromise()})).apply(this,arguments)}function ib(){return(ib=g(function*(t,e){const n=tg(t,!1).get(e),r=yield new ql(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function yL(t,e){const n=tg(t,!0).delete(e);return new ql(n).toPromise()}const Oie=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield nb()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return eb()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=bie._getInstance(function Rie(){return eb()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Aie(){return tb.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Cie(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Sie(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield nb();return yield _L(n,Jp,"1"),yield yL(n,Jp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>_L(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Mie(t,e){return ib.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>yL(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=tg(o,!1).getAll();return new ql(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function wo(t,e){return e?Li(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}JF("rcb"),new Ul(3e4,6e4);class fb extends nL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xie(t){return function dL(t,e){return IT.apply(this,arguments)}(t.auth,new fb(t),t.bypassAuthState)}function Jie(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function lL(t,e){return ET.apply(this,arguments)}(n,new fb(t),t.bypassAuthState)}function Zie(t){return pb.apply(this,arguments)}function pb(){return(pb=g(function*(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function _T(t,e){return yT.apply(this,arguments)}(n,new fb(t),t.bypassAuthState)})).apply(this,arguments)}class EL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xie;case"linkViaPopup":case"linkViaRedirect":return Zie;case"reauthViaPopup":case"reauthViaRedirect":return Jie;default:$n(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ese=new Ul(2e3,1e4);function IL(t,e,n){return gb.apply(this,arguments)}function gb(){return(gb=g(function*(t,e,n){const r=Et(t);!function du(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&$n(t,"argument-error"),NF(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,vs);const i=wo(r,n);return new yb(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let yb=(()=>{class t extends EL{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return M(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){Oi(1===n.filter.length,"Popup operations only handle one event");const r=Zp();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(sr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,ese.get())};n()}}return t.currentPopupAction=null,t})();const tse="pendingRedirect",Wl=new Map;class nse extends EL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Wl.get(n.auth._key());if(!r){try{const s=(yield function rse(t,e){return vb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Wl.set(n.auth._key(),r)}return n.bypassAuthState||Wl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function vb(){return(vb=g(function*(t,e){const n=function TL(t){return Gp(tse,t.config.apiKey,t.name)}(e),r=function wL(t){return Li(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function ise(t,e){Wl.set(t._key(),e)}function bL(t,e){return Db.apply(this,arguments)}function Db(){return(Db=g(function*(t,e,n=!1){const r=Et(t),i=wo(r,e),o=yield new nse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class cse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function lse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AL(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(DL(e))}saveEventToCache(e){this.cachedEventUids.add(DL(e)),this.lastProcessedEventTime=Date.now()}}function DL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AL({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Sb(){return(Sb=g(function*(t,e={}){return tt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const hse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fse=/^https?/;function Rb(){return Rb=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function dse(t){return Sb.apply(this,arguments)}(t);for(const n of e)try{if(gse(n))return}catch{}$n(t,"unauthorized-domain")}),Rb.apply(this,arguments)}function gse(t){const e=Ll(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!fse.test(n))return!1;if(hse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const mse=new Ul(3e4,6e4);function SL(){const t=It().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let rg=null;function yse(t){return rg=rg||function _se(t){return new Promise((e,n)=>{var r,i,s;function o(){SL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SL(),n(sr(t,"network-request-failed"))},timeout:mse.get()})}if(null!==(i=null===(r=It().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=It().gapi)||void 0===s||!s.load){const a=JF("iframefcb");return It()[a]=()=>{gapi.load?o():n(sr(t,"network-request-failed"))},function Gw(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Are(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw rg=null,e})}(t),rg}const vse=new Ul(5e3,15e3),Ese="__/auth/iframe",Ise="emulator/auth/iframe",wse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bse(t){const e=t.config;M(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Aw(e,Ise):`https://${t.config.authDomain}/${Ese}`,r={apiKey:e.apiKey,appName:t.name,v:uu},i=Tse.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ol(r).slice(1)}`}function xb(){return xb=g(function*(t){const e=yield yse(t),n=It().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:bse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wse,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=sr(t,"network-request-failed"),u=It().setTimeout(()=>{o(a)},vse.get());function c(){It().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),xb.apply(this,arguments)}const Dse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class RL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Nse="__/auth/handler",kse="emulator/auth/handler",Ose=encodeURIComponent("fac");function xL(t,e,n,r,i,s){return Pb.apply(this,arguments)}function Pb(){return(Pb=g(function*(t,e,n,r,i,s){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:uu,eventId:i};if(e instanceof vs){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function iee(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof oL){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Ose}=${encodeURIComponent(u)}`:"";return`${function Vse({config:t}){return t.emulator?Aw(t,kse):`https://${t.authDomain}/${Nse}`}(t)}?${Ol(a).slice(1)}${c}`})).apply(this,arguments)}const Mb="webStorageSupport",Lse=class Fse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pL,this._completeRedirectFn=bL,this._overrideRedirectResult=ise}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Oi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield xL(e,n,r,Ll(),i);return function Pse(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Dse),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Nt().toLowerCase();n&&(a=GF(c)?"_blank":n),HF(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function vre(t=Nt()){var e;return zp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Mse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new RL(null);const d=window.open(e||"",a,l);M(d,t,"popup-blocked");try{d.focus()}catch{}return new RL(d)}(e,a,Zp())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function Die(t){It().location.href=t}(yield xL(e,n,r,Ll(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Oi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Cse(t){return xb.apply(this,arguments)}(e),i=new cse(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mb,{type:Mb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Mb];void 0!==o&&n(!!o),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function pse(t){return Rb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QF()||$w()||zp()}};var NL="@firebase/auth";class Use{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Hse=SV("authIdTokenMaxAge")||300;let OL=null;const Gse=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Hse)return;const s=r?.token;OL!==s&&(OL=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();!function jse(t){Er(new ir("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YF(t)},c=new Dre(r,i,s,u);return function Nre(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Li);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Er(new ir("auth-internal",e=>{const n=Et(e.getProvider("auth").getImmediate());return new Use(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(NL,"1.3.0",function Bse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),jn(NL,"1.3.0","esm2017")}("Browser");const qse=(t,e)=>e.some(n=>t instanceof n);let VL,FL;const LL=new WeakMap,kb=new WeakMap,UL=new WeakMap,Ob=new WeakMap,Vb=new WeakMap;let Fb={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return kb.get(t);if("objectStoreNames"===e)return t.objectStoreNames||UL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Zse(t){return"function"==typeof t?function Jse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Kse(){return FL||(FL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Lb(this),e),Bi(LL.get(this))}:function(...e){return Bi(t.apply(Lb(this),e))}:function(e,...n){const r=t.call(Lb(this),e,...n);return UL.set(r,e.sort?e.sort():[e]),Bi(r)}}(t):(t instanceof IDBTransaction&&function Yse(t){if(kb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kb.set(t,e)}(t),qse(t,function Wse(){return VL||(VL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Fb):t)}function Bi(t){if(t instanceof IDBRequest)return function Qse(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LL.set(n,t)}).catch(()=>{}),Vb.set(e,t),e}(t);if(Ob.has(t))return Ob.get(t);const e=Zse(t);return e!==t&&(Ob.set(t,e),Vb.set(e,t)),e}const Lb=t=>Vb.get(t);function BL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Bi(o.result),u.oldVersion,u.newVersion,Bi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Ub(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Bi(n).then(()=>{})}const eoe=["get","getKey","getAll","getAllKeys","count"],toe=["put","add","delete","clear"],Bb=new Map;function jL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Bb.get(e))return Bb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=toe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!eoe.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Bb.set(e,s),s}!function Xse(t){Fb=t(Fb)}(t=>({...t,get:(e,n,r)=>jL(e,n)||t.get(e,n,r),has:(e,n)=>!!jL(e,n)||t.has(e,n)}));const noe="/firebase-messaging-sw.js",roe="/firebase-cloud-messaging-push-scope",$L="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ioe="https://fcmregistrations.googleapis.com/v1",HL="google.c.a.c_id",soe="google.c.a.c_l",ooe="google.c.a.ts";var sg=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(sg||{});function ji(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function coe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const jb="fcm_token_details_db",loe=5,GL="fcm_token_object_Store";function $b(){return $b=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(jb))return null;let e=null;return(yield BL(jb,loe,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(GL))return;const c=a.objectStore(GL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ji(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ji(d.auth),p256dh:ji(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ji(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ji(d.auth),p256dh:ji(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ji(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Ub(jb),yield Ub("fcm_vapid_details_db"),yield Ub("undefined"),function hoe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),$b.apply(this,arguments)}const foe="firebase-messaging-database",poe=1,To="firebase-messaging-store";let Hb=null;function Gb(){return Hb||(Hb=BL(foe,poe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(To)}})),Hb}function zL(t){return zb.apply(this,arguments)}function zb(){return zb=g(function*(t){const e=Qb(t),r=yield(yield Gb()).transaction(To).objectStore(To).get(e);if(r)return r;{const i=yield function doe(t){return $b.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield qb(t,i),i}}),zb.apply(this,arguments)}function qb(t,e){return Wb.apply(this,arguments)}function Wb(){return(Wb=g(function*(t,e){const n=Qb(t),i=(yield Gb()).transaction(To,"readwrite");return yield i.objectStore(To).put(e,n),yield i.done,e})).apply(this,arguments)}function Kb(){return(Kb=g(function*(t){const e=Qb(t),r=(yield Gb()).transaction(To,"readwrite");yield r.objectStore(To).delete(e),yield r.done})).apply(this,arguments)}function Qb({appConfig:t}){return t.appId}const Wt=new ps("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _oe(t,e){return Yb.apply(this,arguments)}function Yb(){return(Yb=g(function*(t,e){const n=yield eC(t),r=WL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Zb(t.appConfig),i)).json()}catch(o){throw Wt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Wt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Xb(){return(Xb=g(function*(t,e){const n=yield eC(t),r=WL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Zb(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Wt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Wt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-update-no-token");return s.token})).apply(this,arguments)}function qL(t,e){return Jb.apply(this,arguments)}function Jb(){return(Jb=g(function*(t,e){const r={method:"DELETE",headers:yield eC(t)};try{const s=yield(yield fetch(`${Zb(t.appConfig)}/${e}`,r)).json();if(s.error)throw Wt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Zb({projectId:t}){return`${ioe}/projects/${t}/registrations`}function eC(t){return tC.apply(this,arguments)}function tC(){return(tC=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function WL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==$L&&(i.web.applicationPubKey=r),i}const voe=6048e5;function nC(){return nC=g(function*(t){const e=yield function woe(t,e){return oC.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ji(e.getKey("auth")),p256dh:ji(e.getKey("p256dh"))},r=yield zL(t.firebaseDependencies);if(r){if(function Toe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+voe?function Ioe(t,e){return iC.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield qL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return QL(t.firebaseDependencies,n)}return QL(t.firebaseDependencies,n)}),nC.apply(this,arguments)}function rC(){return rC=g(function*(t){const e=yield zL(t.firebaseDependencies);e&&(yield qL(t.firebaseDependencies,e.token),yield function goe(t){return Kb.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),rC.apply(this,arguments)}function iC(){return iC=g(function*(t,e){try{const n=yield function yoe(t,e){return Xb.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield qb(t.firebaseDependencies,r),n}catch(n){throw yield function KL(t){return rC.apply(this,arguments)}(t),n}}),iC.apply(this,arguments)}function QL(t,e){return sC.apply(this,arguments)}function sC(){return(sC=g(function*(t,e){const r={token:yield _oe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield qb(t,r),r.token})).apply(this,arguments)}function oC(){return(oC=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:coe(e)})})).apply(this,arguments)}function YL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function boe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Coe(t,e){e.data&&(t.data=e.data)}(e,t),function Doe(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function XL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function aC(t){return Wt.create("missing-app-config-values",{valueName:t})}XL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),XL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Roe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Soe(t){if(!t||!t.options)throw aC("App Configuration Object");if(!t.name)throw aC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw aC(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function uC(){return(uC=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(noe,{scope:roe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function cC(){return(cC=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function JL(t){return uC.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function lC(){return(lC=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=$L)})).apply(this,arguments)}function ZL(t,e){return dC.apply(this,arguments)}function dC(){return dC=g(function*(t,e){if(!navigator)throw Wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wt.create("permission-blocked");return yield function Poe(t,e){return lC.apply(this,arguments)}(t,e?.vapidKey),yield function xoe(t,e){return cC.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Eoe(t){return nC.apply(this,arguments)}(t)}),dC.apply(this,arguments)}function hC(){return(hC=g(function*(t,e,n){const r=function Noe(t){switch(t){case sg.NOTIFICATION_CLICKED:return"notification_open";case sg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[HL],message_name:n[soe],message_time:n[ooe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fC(){return fC=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===sg.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(YL(n)):t.onMessageHandler.next(YL(n)));const r=n.data;(function Aoe(t){return"object"==typeof t&&!!t&&HL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Moe(t,e,n){return hC.apply(this,arguments)}(t,n.messageType,r))}),fC.apply(this,arguments)}const e2="@firebase/messaging",Ooe=t=>{const e=new Roe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function koe(t,e){return fC.apply(this,arguments)}(e,n)),e},Voe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>ZL(e,r)}};function pC(){return(pC=g(function*(){try{yield lI()}catch{return!1}return typeof window<"u"&&cI()&&PV()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function mC(){return(mC=g(function*(t,e){return ZL(t=We(t),e)})).apply(this,arguments)}!function Foe(){Er(new ir("messaging",Ooe,"PUBLIC")),Er(new ir("messaging-internal",Voe,"PRIVATE")),jn(e2,"0.12.4"),jn(e2,"0.12.4","esm2017")}();var F,Goe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Or={},_C=_C||{},se=Goe||self;function og(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Kl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var yC="closure_uid_"+(1e9*Math.random()>>>0),qoe=0;function Woe(t,e,n){return t.call.apply(t.bind,arguments)}function Koe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function cn(t,e,n){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Woe:Koe).apply(null,arguments)}function ag(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Es(){this.s=this.s,this.o=this.o}Es.prototype.s=!1,Es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zoe(t){Object.prototype.hasOwnProperty.call(t,yC)&&t[yC]||(t[yC]=++qoe)}(this)},Es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const n2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function vC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function r2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(og(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var Yoe=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",()=>{},e),se.removeEventListener("test",()=>{},e)}catch{}return t}();function Ql(t){return/^[\s\xa0]*$/.test(t)}function ug(){var t=se.navigator;return t&&(t=t.userAgent)?t:""}function ri(t){return-1!=ug().indexOf(t)}function EC(t){return EC[" "](t),t}EC[" "]=function(){};var wC,t,Joe=ri("Opera"),gu=ri("Trident")||ri("MSIE"),i2=ri("Edge"),IC=i2||gu,s2=ri("Gecko")&&!(-1!=ug().toLowerCase().indexOf("webkit")&&!ri("Edge"))&&!(ri("Trident")||ri("MSIE"))&&!ri("Edge"),Zoe=-1!=ug().toLowerCase().indexOf("webkit")&&!ri("Edge");function o2(){var t=se.document;return t?t.documentMode:void 0}e:{var TC="",bC=(t=ug(),s2?/rv:([^\);]+)(\)|;)/.exec(t):i2?/Edge\/([\d\.]+)/.exec(t):gu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zoe?/WebKit\/(\S+)/.exec(t):Joe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(bC&&(TC=bC?bC[1]:""),gu){var CC=o2();if(null!=CC&&CC>parseFloat(TC)){wC=String(CC);break e}}wC=TC}var eae=se.document&&gu&&(o2()||parseInt(wC,10))||void 0;function Yl(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(s2){e:{try{EC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yl.$.h.call(this)}}Ot(Yl,ln);var tae={2:"touch",3:"pen",4:"mouse"};Yl.prototype.h=function(){Yl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xl="closure_listenable_"+(1e6*Math.random()|0),nae=0;function rae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++nae,this.fa=this.ia=!1}function cg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function AC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function u2(t){const e={};for(const n in t)e[n]=t[n];return e}const c2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<c2.length;s++)n=c2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lg(t){this.src=t,this.g={},this.h=0}function SC(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=n2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(cg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function RC(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}lg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=RC(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new rae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var xC="closure_lm_"+(1e6*Math.random()|0),PC={};function d2(t,e,n,r,i){if(r&&r.once)return f2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)d2(t,e[s],n,r,i);return null}return n=OC(n),t&&t[Xl]?t.O(e,n,Kl(r)?!!r.capture:!!r,i):h2(t,e,n,!1,r,i)}function h2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Kl(i)?!!i.capture:!!i,a=NC(t);if(a||(t[xC]=a=new lg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function sae(){const e=oae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Yoe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(g2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function f2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)f2(t,e[s],n,r,i);return null}return n=OC(n),t&&t[Xl]?t.P(e,n,Kl(r)?!!r.capture:!!r,i):h2(t,e,n,!0,r,i)}function p2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)p2(t,e[s],n,r,i);else r=Kl(r)?!!r.capture:!!r,n=OC(n),t&&t[Xl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=RC(s=t.g[e],n,r,i))&&(cg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=NC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=RC(e,n,r,i)),(n=-1<t?e[t]:null)&&MC(n))}function MC(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Xl])SC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(g2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=NC(e))?(SC(n,t),0==n.h&&(n.src=null,e[xC]=null)):cg(t)}}}function g2(t){return t in PC?PC[t]:PC[t]="on"+t}function oae(t,e){if(t.fa)t=!0;else{e=new Yl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&MC(t),t=n.call(r,e)}return t}function NC(t){return(t=t[xC])instanceof lg?t:null}var kC="__closure_events_fn_"+(1e9*Math.random()>>>0);function OC(t){return"function"==typeof t?t:(t[kC]||(t[kC]=function(e){return t.handleEvent(e)}),t[kC])}function Vt(){Es.call(this),this.i=new lg(this),this.S=this,this.J=null}function Kt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var i=e;l2(e=new ln(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=dg(o,r,!0,e)&&i}if(i=dg(o=e.g=t,r,!0,e)&&i,i=dg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=dg(o=e.g=n[s],r,!1,e)&&i}function dg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&SC(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ot(Vt,Es),Vt.prototype[Xl]=!0,Vt.prototype.removeEventListener=function(t,e,n,r){p2(this,t,e,n,r)},Vt.prototype.N=function(){if(Vt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cg(n[r]);delete t.g[e],t.h--}}this.J=null},Vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var VC=se.JSON.stringify;function uae(){var t=FC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var m2=new class aae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new lae,t=>t.reset());class lae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function hae(t){se.setTimeout(()=>{throw t},0)}let Jl,Zl=!1,FC=new class cae{constructor(){this.h=this.g=null}add(e,n){const r=m2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},_2=()=>{const t=se.Promise.resolve(void 0);Jl=()=>{t.then(fae)}};var fae=()=>{for(var t;t=uae();){try{t.h.call(t.g)}catch(n){hae(n)}var e=m2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Zl=!1};function hg(t,e){Vt.call(this),this.h=t||1,this.g=e||se,this.j=cn(this.qb,this),this.l=Date.now()}function LC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function UC(t,e,n){if("function"==typeof t)n&&(t=cn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cn(t.handleEvent,t)}return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function y2(t){t.g=UC(()=>{t.g=null,t.i&&(t.i=!1,y2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ot(hg,Vt),(F=hg.prototype).ga=!1,F.T=null,F.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kt(this,"tick"),this.ga&&(LC(this),this.start()))}},F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.N=function(){hg.$.N.call(this),LC(this),delete this.g};class pae extends Es{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:y2(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ed(t){Es.call(this),this.h=t,this.g={}}Ot(ed,Es);var v2=[];function E2(t,e,n,r){Array.isArray(n)||(n&&(v2[0]=n.toString()),n=v2);for(var i=0;i<n.length;i++){var s=d2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function I2(t){AC(t.g,function(e,n){this.g.hasOwnProperty(n)&&MC(e)},t),t.g={}}function fg(){this.g=!0}function mu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return VC(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ed.prototype.N=function(){ed.$.N.call(this),I2(this)},ed.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fg.prototype.Ea=function(){this.g=!1},fg.prototype.info=function(){};var bo={},w2=null;function pg(){return w2=w2||new Vt}function T2(t){ln.call(this,bo.Ta,t)}function td(t){const e=pg();Kt(e,new T2(e))}function b2(t,e){ln.call(this,bo.STAT_EVENT,t),this.stat=e}function Pn(t){const e=pg();Kt(e,new b2(e,t))}function C2(t,e){ln.call(this,bo.Ua,t),this.size=e}function nd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}bo.Ta="serverreachability",Ot(T2,ln),bo.STAT_EVENT="statevent",Ot(b2,ln),bo.Ua="timingevent",Ot(C2,ln);var gg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},D2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function BC(){}function S2(){}BC.prototype.h=null;var HC,rd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jC(){ln.call(this,"d")}function $C(){ln.call(this,"c")}function mg(){}function id(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ed(this),this.P=vae,this.V=new hg(t=IC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new R2}function R2(){this.i=null,this.g="",this.h=!1}Ot(jC,ln),Ot($C,ln),Ot(mg,BC),mg.prototype.g=function(){return new XMLHttpRequest},mg.prototype.i=function(){return{}},HC=new mg;var vae=45e3,GC={},_g={};function zC(t,e,n){t.L=1,t.v=Ig($i(e)),t.s=n,t.S=!0,x2(t,null)}function x2(t,e){t.G=Date.now(),sd(t),t.A=$i(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),B2(n.i,"t",r),t.C=0,n=t.l.J,t.h=new R2,t.g=lU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new pae(cn(t.Pa,t,t.g),t.O)),E2(t.U,t.g,"readystatechange",t.nb),e=t.I?u2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),td(),function gae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function P2(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function M2(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Eae(t,n),i==_g){4==e&&(t.o=4,Pn(14),r=!1),mu(t.j,t.m,null,"[Incomplete Response]");break}if(i==GC){t.o=4,Pn(15),mu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}mu(t.j,t.m,i,null),qC(t,i)}P2(t)&&i!=_g&&i!=GC&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Pn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ZC(e),e.M=!0,Pn(11))):(mu(t.j,t.m,n,"[Invalid Chunked Response]"),Co(t),od(t))}function Eae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?_g:(n=Number(e.substring(n,r)),isNaN(n)?GC:(r+=1)+n>e.length?_g:(e=e.slice(r,r+n),t.C=r+n,e))}function sd(t){t.Y=Date.now()+t.P,N2(t,t.P)}function N2(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=nd(cn(t.lb,t),e)}function yg(t){t.B&&(se.clearTimeout(t.B),t.B=null)}function od(t){0==t.l.H||t.J||oU(t.l,t)}function Co(t){yg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,LC(t.V),I2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function qC(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||WC(n.i,t)))if(!t.K&&WC(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Ag(n),Cg(n)}JC(n),Pn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=nd(cn(n.ib,n),6e3));if(1>=H2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ao(n,11)}else if((t.K||n.g==t)&&Ag(n),!Ql(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(KC(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Ke(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=cU(r,r.J?r.pa:null,r.Y),o.K){G2(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(yg(a),sd(a)),r.g=o}else iU(r);0<n.j.length&&Dg(n)}else"stop"!=c[0]&&"close"!=c[0]||Ao(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ao(n,7):XC(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}td()}catch{}}function k2(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(og(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function wae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(og(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Iae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(og(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(F=id.prototype).setTimeout=function(t){this.P=t},F.nb=function(t){t=t.target;const e=this.M;e&&3==ii(t)?e.l():this.Pa(t)},F.Pa=function(t){try{if(t==this.g)e:{const l=ii(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||IC||this.g&&(this.h.h||this.g.ja()||J2(this.g)))){this.J||4!=l||7==e||td(),yg(this);var n=this.g.da();this.ca=n;t:if(P2(this)){var r=J2(this.g);t="";var i=r.length,s=4==ii(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Co(this),od(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function mae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ql(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Pn(12),Co(this),od(this);break e}mu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qC(this,n)}this.S?(M2(this,l,o),IC&&this.i&&3==l&&(E2(this.U,this.V,"tick",this.mb),this.V.start())):(mu(this.j,this.m,o,null),qC(this,o)),4==l&&Co(this),this.i&&!this.J&&(4==l?oU(this.l,this):(this.i=!1,sd(this)))}else(function Bae(t){const e={};t=(t.g&&2<=ii(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ql(t[r]))continue;var n=dae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function iae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Pn(12)):(this.o=0,Pn(13)),Co(this),od(this)}}}catch{}},F.mb=function(){if(this.g){var t=ii(this.g),e=this.g.ja();this.C<e.length&&(yg(this),M2(this,t,e),this.i&&4!=t&&sd(this))}},F.cancel=function(){this.J=!0,Co(this)},F.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function _ae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(td(),Pn(17)),Co(this),this.o=2,od(this)):N2(this,this.Y-t)};var O2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Do){this.h=t.h,vg(this,t.j),this.s=t.s,this.g=t.g,Eg(this,t.m),this.l=t.l;var e=t.i,n=new cd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),V2(this,n),this.o=t.o}else t&&(e=String(t).match(O2))?(this.h=!1,vg(this,e[1]||"",!0),this.s=ad(e[2]||""),this.g=ad(e[3]||"",!0),Eg(this,e[4]),this.l=ad(e[5]||"",!0),V2(this,e[6]||"",!0),this.o=ad(e[7]||"")):(this.h=!1,this.i=new cd(null,this.h))}function $i(t){return new Do(t)}function vg(t,e,n){t.j=n?ad(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Eg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function V2(t,e,n){e instanceof cd?(t.i=e,function Rae(t,e){e&&!t.j&&(Is(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(L2(this,r),B2(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ud(e,Aae)),t.i=new cd(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function Ig(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ad(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ud(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,bae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Do.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ud(e,F2,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ud(e,F2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ud(n,"/"==n.charAt(0)?Dae:Cae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ud(n,Sae)),t.join("")};var F2=/[#\/\?@]/g,Cae=/[#\?:]/g,Dae=/[#\?]/g,Aae=/[#\?@]/g,Sae=/#/g;function cd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Is(t){t.g||(t.g=new Map,t.h=0,t.i&&function Tae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function L2(t,e){Is(t),e=_u(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function U2(t,e){return Is(t),e=_u(t,e),t.g.has(e)}function B2(t,e,n){L2(t,e),0<n.length&&(t.i=null,t.g.set(_u(t,e),vC(n)),t.h+=n.length)}function _u(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function j2(t){this.l=t||Pae,t=se.PerformanceNavigationTiming?0<(t=se.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=cd.prototype).add=function(t,e){Is(this),this.i=null,t=_u(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},F.forEach=function(t,e){Is(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},F.ta=function(){Is(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},F.Z=function(t){Is(this);let e=[];if("string"==typeof t)U2(this,t)&&(e=e.concat(this.g.get(_u(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},F.set=function(t,e){return Is(this),this.i=null,U2(this,t=_u(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},F.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Pae=10;function $2(t){return!!t.h||!!t.g&&t.g.size>=t.j}function H2(t){return t.h?1:t.g?t.g.size:0}function WC(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function KC(t,e){t.g?t.g.add(e):t.h=e}function G2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function z2(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return vC(t.i)}j2.prototype.cancel=function(){if(this.i=z2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Mae=class{stringify(t){return se.JSON.stringify(t,void 0)}parse(t){return se.JSON.parse(t,void 0)}};function Nae(){this.g=new Mae}function kae(t,e,n){const r=n||"";try{k2(t,function(i,s){let o=i;Kl(i)&&(o=VC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ld(t){this.l=t.ec||null,this.j=t.ob||!1}function Tg(t,e){Vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=QC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot(ld,BC),ld.prototype.g=function(){return new Tg(this.l,this.j)},ld.prototype.i=function(t){return function(){return t}}({}),Ot(Tg,Vt);var QC=0;function q2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function dd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,hd(t)}function hd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(F=Tg.prototype).open=function(t,e){if(this.readyState!=QC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,hd(this)},F.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dd(this)),this.readyState=QC},F.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,hd(this)),this.g&&(this.readyState=3,hd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;q2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},F.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dd(this):hd(this),3==this.readyState&&q2(this)}},F.Za=function(t){this.g&&(this.response=this.responseText=t,dd(this))},F.Ya=function(t){this.g&&(this.response=t,dd(this))},F.ka=function(){this.g&&dd(this)},F.setRequestHeader=function(t,e){this.v.append(t,e)},F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Vae=se.JSON.parse;function at(t){Vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=W2,this.L=this.M=!1}Ot(at,Vt);var W2="",Fae=/^https?$/i,Lae=["POST","PUT"];function K2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Q2(t),bg(t)}function Q2(t){t.F||(t.F=!0,Kt(t,"complete"),Kt(t,"error"))}function Y2(t){if(t.h&&typeof _C<"u"&&(!t.C[1]||4!=ii(t)||2!=t.da()))if(t.v&&4==ii(t))UC(t.La,0,t);else if(Kt(t,"readystatechange"),4==ii(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(O2)[1]||null;!i&&se.self&&se.self.location&&(i=se.self.location.protocol.slice(0,-1)),r=!Fae.test(i?i.toLowerCase():"")}n=r}if(n)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var s=2<ii(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Q2(t)}}finally{bg(t)}}}function bg(t,e){if(t.g){X2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=r}catch{}}}function X2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}function ii(t){return t.g?t.g.readyState:0}function J2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case W2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Z2(t){let e="";return AC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function YC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Z2(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ke(t,e,n))}function fd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eU(t){this.Ga=0,this.j=[],this.l=new fg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fd("baseRetryDelayMs",5e3,t),this.hb=fd("retryDelaySeedMs",1e4,t),this.eb=fd("forwardChannelMaxRetries",2,t),this.xa=fd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new j2(t&&t.concurrentRequestLimit),this.Ja=new Nae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function XC(t){if(tU(t),3==t.H){var e=t.W++,n=$i(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),pd(t,n),(e=new id(t,t.l,e)).L=2,e.v=Ig($i(n)),n=!1,se.navigator&&se.navigator.sendBeacon)try{n=se.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&se.Image&&((new Image).src=e.v,n=!0),n||(e.g=lU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),sd(e)}uU(t)}function Cg(t){t.g&&(ZC(t),t.g.cancel(),t.g=null)}function tU(t){Cg(t),t.u&&(se.clearTimeout(t.u),t.u=null),Ag(t),t.i.cancel(),t.m&&("number"==typeof t.m&&se.clearTimeout(t.m),t.m=null)}function Dg(t){if(!$2(t.i)&&!t.m){t.m=!0;var e=t.Na;Jl||_2(),Zl||(Jl(),Zl=!0),FC.add(e,t),t.C=0}}function nU(t,e){var n;n=e?e.m:t.W++;const r=$i(t.I);Ke(r,"SID",t.K),Ke(r,"RID",n),Ke(r,"AID",t.V),pd(t,r),t.o&&t.s&&YC(r,t.o,t.s),n=new id(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),KC(t.i,n),zC(n,r,e)}function pd(t,e){t.na&&AC(t.na,function(n,r){Ke(e,r,n)}),t.h&&k2({},function(n,r){Ke(e,r,n)})}function rU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?cn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{kae(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function iU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Jl||_2(),Zl||(Jl(),Zl=!0),FC.add(e,t),t.A=0}}function JC(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=nd(cn(t.Ma,t),aU(t,t.A)),t.A++,0))}function ZC(t){null!=t.B&&(se.clearTimeout(t.B),t.B=null)}function sU(t){t.g=new id(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=$i(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),pd(t,e),t.o&&t.s&&YC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ig($i(e)),n.s=null,n.S=!0,x2(n,t)}function Ag(t){null!=t.v&&(se.clearTimeout(t.v),t.v=null)}function oU(t,e){var n=null;if(t.g==e){Ag(t),ZC(t),t.g=null;var r=2}else{if(!WC(t.i,e))return;n=e.F,G2(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Kt(r=pg(),new C2(r,n)),Dg(t)}else iU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function jae(t,e){return!(H2(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=nd(cn(t.Na,t,e),aU(t,t.C)),t.C++,0)))}(t,e)||2==r&&JC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ao(t,5);break;case 4:Ao(t,10);break;case 3:Ao(t,6);break;default:Ao(t,2)}}function aU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ao(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=cn(t.pb,t);n||(n=new Do("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||vg(n,"https"),Ig(n)),function Oae(t,e){const n=new fg;if(se.Image){const r=new Image;r.onload=ag(wg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ag(wg,n,r,"TestLoadImage: error",!1,e),r.onabort=ag(wg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ag(wg,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Pn(2);t.H=0,t.h&&t.h.za(e),uU(t),tU(t)}function uU(t){if(t.H=0,t.ma=[],t.h){const e=z2(t.i);(0!=e.length||0!=t.j.length)&&(r2(t.ma,e),r2(t.ma,t.j),t.i.i.length=0,vC(t.j),t.j.length=0),t.h.ya()}}function cU(t,e,n){var r=n instanceof Do?$i(n):new Do(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Eg(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Do(null);r&&vg(s,r),e&&(s.g=e),i&&Eg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ke(r,n,e),Ke(r,"VER",t.ra),pd(t,r),r}function lU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(n&&t.Ha&&!t.va?new ld({ob:!0}):t.va)).Oa(t.J),e}function dU(){}function Sg(){if(gu&&!(10<=Number(eae)))throw Error("Environmental error: no available transport.")}function or(t,e){Vt.call(this),this.g=new eU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ql(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ql(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new yu(this)}function hU(t){jC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function fU(){$C.call(this),this.status=1}function yu(t){this.g=t}function Vr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function eD(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(F=at.prototype).Oa=function(t){this.M=t},F.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():HC.g(),this.C=function A2(t){return t.h||(t.h=t.i())}(this.u?this.u:HC),this.g.onreadystatechange=cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void K2(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=se.FormData&&t instanceof se.FormData,!(0<=n2(Lae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{X2(this),0<this.B&&((this.L=function Uae(t){return gu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.ua,this)):this.A=UC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){K2(this,s)}},F.ua=function(){typeof _C<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),bg(this))},F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bg(this,!0)),at.$.N.call(this)},F.La=function(){this.s||(this.G||this.v||this.l?Y2(this):this.kb())},F.kb=function(){Y2(this)},F.isActive=function(){return!!this.g},F.da=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Vae(e)}},F.Ia=function(){return this.m},F.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=eU.prototype).ra=8,F.H=1,F.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new id(this,this.l,t);let s=this.s;if(this.U&&(s?(s=u2(s),l2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rU(this,i,e),Ke(n=$i(this.I),"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),pd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Z2(s)))+"&"+e:this.o&&YC(n,this.o,s)),KC(this.i,i),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),i.aa=!0,zC(i,n,null)):zC(i,n,e),this.H=2}}else 3==this.H&&(t?nU(this,t):0==this.j.length||$2(this.i)||nU(this))},F.Ma=function(){if(this.u=null,sU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=nd(cn(this.jb,this),t)}},F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pn(10),Cg(this),sU(this))},F.ib=function(){null!=this.v&&(this.v=null,Cg(this),JC(this),Pn(19))},F.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pn(2)):(this.l.info("Failed to ping google.com"),Pn(1))},F.isActive=function(){return!!this.h&&this.h.isActive(this)},(F=dU.prototype).Ba=function(){},F.Aa=function(){},F.za=function(){},F.ya=function(){},F.isActive=function(){return!0},F.Va=function(){},Sg.prototype.g=function(t,e){return new or(t,e)},Ot(or,Vt),or.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cU(t,null,t.Y),Dg(t)},or.prototype.close=function(){XC(this.g)},or.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=VC(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Dg(e)},or.prototype.N=function(){this.g.h=null,delete this.j,XC(this.g),delete this.g,or.$.N.call(this)},Ot(hU,jC),Ot(fU,$C),Ot(yu,dU),yu.prototype.Ba=function(){Kt(this.g,"a")},yu.prototype.Aa=function(t){Kt(this.g,new hU(t))},yu.prototype.za=function(t){Kt(this.g,new fU)},yu.prototype.ya=function(){Kt(this.g,"b")},Ot(Vr,function $ae(){this.blockSize=-1}),Vr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)eD(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){eD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){eD(this,r),i=0;break}}this.h=i,this.i+=e},Vr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Hae={};function tD(t){return-128<=t&&128>t?function Xoe(t,e){var n=Hae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Pe([0|e],0>e?-1:0)}):new Pe([0|t],0>t?-1:0)}function si(t){if(isNaN(t)||!isFinite(t))return vu;if(0>t)return Qt(si(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=nD;return new Pe(e,0)}var nD=4294967296,vu=tD(0),rD=tD(1),gU=tD(16777216);function Hi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function wr(t){return-1==t.h}function Qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pe(n,~t.h).add(rD)}function Rg(t,e){return t.add(Qt(e))}function xg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function gd(t,e){this.g=t,this.h=e}function Pg(t,e){if(Hi(e))throw Error("division by zero");if(Hi(t))return new gd(vu,vu);if(wr(t))return e=Pg(Qt(t),e),new gd(Qt(e.g),Qt(e.h));if(wr(e))return e=Pg(t,Qt(e)),new gd(Qt(e.g),e.h);if(30<t.g.length){if(wr(t)||wr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=rD,r=e;0>=r.X(t);)n=mU(n),r=mU(r);var i=Eu(n,1),s=Eu(r,1);for(r=Eu(r,2),n=Eu(n,2);!Hi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Eu(r,1),n=Eu(n,1)}return e=Rg(t,i.R(e)),new gd(i,e)}for(i=vu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=si(n)).R(e);wr(o)||0<o.X(t);)o=(s=si(n-=r)).R(e);Hi(s)&&(s=rD),i=i.add(s),t=Rg(t,o)}return new gd(i,t)}function mU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pe(n,t.h)}function Eu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Pe(i,t.h)}(F=Pe.prototype).ea=function(){if(wr(this))return-Qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:nD+r)*e,e*=nD}return t},F.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Hi(this))return"0";if(wr(this))return"-"+Qt(this).toString(t);for(var e=si(Math.pow(t,6)),n=this,r="";;){var i=Pg(n,e).g,s=((0<(n=Rg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Hi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},F.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},F.X=function(t){return wr(t=Rg(this,t))?-1:Hi(t)?0:1},F.abs=function(){return wr(this)?Qt(this):this},F.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Pe(n,-2147483648&n[n.length-1]?-1:0)},F.R=function(t){if(Hi(this)||Hi(t))return vu;if(wr(this))return wr(t)?Qt(this).R(Qt(t)):Qt(Qt(this).R(t));if(wr(t))return Qt(this.R(Qt(t)));if(0>this.X(gU)&&0>t.X(gU))return si(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,xg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,xg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,xg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,xg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pe(n,0)},F.gb=function(t){return Pg(this,t).h},F.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pe(n,this.h&t.h)},F.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pe(n,this.h|t.h)},F.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pe(n,this.h^t.h)},Sg.prototype.createWebChannel=Sg.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,gg.NO_ERROR=0,gg.TIMEOUT=8,gg.HTTP_ERROR=6,D2.COMPLETE="complete",S2.EventType=rd,rd.OPEN="a",rd.CLOSE="b",rd.ERROR="c",rd.MESSAGE="d",Vt.prototype.listen=Vt.prototype.O,at.prototype.listenOnce=at.prototype.P,at.prototype.getLastError=at.prototype.Sa,at.prototype.getLastErrorCode=at.prototype.Ia,at.prototype.getStatus=at.prototype.da,at.prototype.getResponseJson=at.prototype.Wa,at.prototype.getResponseText=at.prototype.ja,at.prototype.send=at.prototype.ha,at.prototype.setWithCredentials=at.prototype.Oa,Vr.prototype.digest=Vr.prototype.l,Vr.prototype.reset=Vr.prototype.reset,Vr.prototype.update=Vr.prototype.j,Pe.prototype.add=Pe.prototype.add,Pe.prototype.multiply=Pe.prototype.R,Pe.prototype.modulo=Pe.prototype.gb,Pe.prototype.compare=Pe.prototype.X,Pe.prototype.toNumber=Pe.prototype.ea,Pe.prototype.toString=Pe.prototype.toString,Pe.prototype.getBits=Pe.prototype.D,Pe.fromNumber=si,Pe.fromString=function pU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Qt(pU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=si(Math.pow(e,8)),r=vu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=si(Math.pow(e,s)),r=r.R(s).add(si(o))):r=(r=r.R(n)).add(si(o))}return r};var Gae=Or.createWebChannelTransport=function(){return new Sg},zae=Or.getStatEventTarget=function(){return pg()},iD=Or.ErrorCode=gg,qae=Or.EventType=D2,Wae=Or.Event=bo,_U=Or.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mg=(Or.FetchXmlHttpFactory=ld,Or.WebChannel=S2),Kae=Or.XhrIo=at,Qae=Or.Md5=Vr,Iu=Or.Integer=Pe;const yU="@firebase/firestore";class Ft{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");let wu="10.4.0";const ws=new kp("@firebase/firestore");function Tu(){return ws.logLevel}function A(t,...e){if(ws.logLevel<=_e.DEBUG){const n=e.map(sD);ws.debug(`Firestore (${wu}): ${t}`,...n)}}function gt(t,...e){if(ws.logLevel<=_e.ERROR){const n=e.map(sD);ws.error(`Firestore (${wu}): ${t}`,...n)}}function ar(t,...e){if(ws.logLevel<=_e.WARN){const n=e.map(sD);ws.warn(`Firestore (${wu}): ${t}`,...n)}}function sD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function $(t="Unexpected state"){const e=`FIRESTORE (${wu}) INTERNAL ASSERTION FAILED: `+t;throw gt(e),new Error(e)}function q(t,e){t||$()}function O(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class vU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class Xae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jae{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new xt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new vU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new Ft(e)}}class Zae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eue{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Zae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tue{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(q("string"==typeof n.token),this.R=n.token,new EU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class IU{static V(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=nue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function bu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new nt(0,0))}static max(){return new W(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class md{constructor(e,n,r){void 0===n?n=0:n>e.length&&$(),void 0===r?r=e.length-n:r>e.length-n&&$(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===md.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof md?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends md{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const rue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends md{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return rue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}class V{constructor(e){this.path=e}static fromPath(e){return new V(Ee.fromString(e))}static fromName(e){return new V(Ee.fromString(e).popFirst(5))}static empty(){return new V(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new Ee(e.slice()))}}function bU(t){return new ur(t.readTime,t.key,-1)}class ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(W.min(),V.empty(),-1)}static max(){return new ur(W.max(),V.empty(),-1)}}function aD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=V.comparator(t.documentKey,e.documentKey),0!==n?n:ne(t.largestBatchId,e.largestBatchId))}const CU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ts(t){return uD.apply(this,arguments)}function uD(){return uD=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==CU)throw t;A("LocalStore","Unexpectedly lost primary lease")}),uD.apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof E?n:E.resolve(n)}catch(n){return E.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):E.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):E.reject(n)}static resolve(e){return new E((n,r)=>{n(e)})}static reject(e){return new E((n,r)=>{r(e)})}static waitFor(e){return new E((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=E.resolve(!1);for(const r of e)n=n.next(i=>i?E.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new E((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new E((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function bs(t){return"IndexedDbTransactionError"===t.name}let cr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this._e&&this._e(n),n}}return t.ae=-1,t})();function yd(t){return null==t}function vd(t){return 0===t&&1/t==-1/0}function kU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class $e{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Og(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Og(this.root,e,this.comparator,!1)}getReverseIterator(){return new Og(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Og(this.root,e,this.comparator,!0)}}class Og{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1,Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VU(this.data.getIterator())}getIteratorFrom(e){return new VU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class VU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new He(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class FU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FU("Invalid base64 string: "+s):s}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const Rue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(t){if(q(!!t),"string"==typeof t){let e=0;const n=Rue.exec(t);if(q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gi(t){return"string"==typeof t?Pt.fromBase64String(t):Pt.fromUint8Array(t)}function Vg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fg(t){const e=t.mapValue.fields.__previous_value__;return Vg(e)?Fg(e):e}function Ed(t){const e=Ds(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}class xue{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Po{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}const As={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vg(t)?4:jU(t)?9007199254740991:10:$()}function ai(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ed(t).isEqual(Ed(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ds(i.timestampValue),a=Ds(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Gi(t.bytesValue).isEqual(Gi(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ct(i.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ct(i.integerValue)===ct(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ct(i.doubleValue),a=ct(s.doubleValue);return o===a?vd(o)===vd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return bu(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(kU(o)!==kU(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!ai(o[u],a[u])))return!1;return!0}(t,e);default:return $()}var s}function Id(t,e){return void 0!==(t.values||[]).find(n=>ai(n,e))}function Rs(t,e){if(t===e)return 0;const n=Ss(t),r=Ss(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ct(s.integerValue||s.doubleValue),u=ct(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return LU(t.timestampValue,e.timestampValue);case 4:return LU(Ed(t),Ed(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Gi(s),u=Gi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=ne(a[c],u[c]);if(0!==l)return l}return ne(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ne(ct(s.latitude),ct(o.latitude));return 0!==a?a:ne(ct(s.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=Rs(a[c],u[c]);if(l)return l}return ne(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===As.mapValue&&o===As.mapValue)return 0;if(s===As.mapValue)return 1;if(o===As.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=ne(u[d],l[d]);if(0!==h)return h;const f=Rs(a[u[d]],c[l[d]]);if(0!==f)return f}return ne(u.length,l.length)}(t.mapValue,e.mapValue);default:throw $()}}function LU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ne(t,e);const n=Ds(t),r=Ds(e),i=ne(n.seconds,r.seconds);return 0!==i?i:ne(n.nanos,r.nanos)}function Su(t){return dD(t)}function dD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ds(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gi(t.bytesValue).toBase64():"referenceValue"in t?V.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=dD(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${dD(n.fields[o])}`;return i+"}"}(t.mapValue):$()}function Mo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hD(t){return!!t&&"integerValue"in t}function wd(t){return!!t&&"arrayValue"in t}function UU(t){return!!t&&"nullValue"in t}function BU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bg(t){return!!t&&"mapValue"in t}function Td(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Td(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Td(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Td(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Td(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xt(Td(this.value))}}function GU(t){const e=[];return Cs(t.fields,(n,r)=>{const i=new ut([n]);if(Bg(r)){const s=GU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Hn(e)}class Qe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qe(e,0,W.min(),W.min(),W.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new Qe(e,1,n,W.min(),r,i,0)}static newNoDocument(e,n){return new Qe(e,2,n,W.min(),W.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new Qe(e,3,n,W.min(),W.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xs{constructor(e,n){this.position=e,this.inclusive=n}}function zU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?V.comparator(V.fromName(o.referenceValue),n.key):Rs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class WU{}class ge extends WU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new kue(e,n,r):"array-contains"===n?new Fue(e,r):"in"===n?new ZU(e,r):"not-in"===n?new Lue(e,r):"array-contains-any"===n?new Uue(e,r):new ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Oue(e,r):new Vue(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Rs(n,this.value)):null!==n&&Ss(this.value)===Ss(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Me extends WU{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Me(e,n)}matches(e){return xu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return null!==e?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function xu(t){return"and"===t.op}function pD(t){return function KU(t){for(const e of t.filters)if(e instanceof Me)return!1;return!0}(t)&&xu(t)}function gD(t){if(t instanceof ge)return t.field.canonicalString()+t.op.toString()+Su(t.value);if(pD(t))return t.filters.map(e=>gD(e)).join(",");{const e=t.filters.map(n=>gD(n)).join(",");return`${t.op}(${e})`}}function QU(t,e){return t instanceof ge?(r=t,(i=e)instanceof ge&&r.op===i.op&&r.field.isEqual(i.field)&&ai(r.value,i.value)):t instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&QU(o,i.filters[a]),!0)}(t,e):void $();var r,i}function XU(t){return t instanceof ge?`${(n=t).field.canonicalString()} ${n.op} ${Su(n.value)}`:t instanceof Me?function(n){return n.op.toString()+" {"+n.getFilters().map(XU).join(" ,")+"}"}(t):"Filter";var n}class kue extends ge{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.matchesComparison(n)}}class Oue extends ge{constructor(e,n){super(e,"in",n),this.keys=JU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vue extends ge{constructor(e,n){super(e,"not-in",n),this.keys=JU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}class Fue extends ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wd(n)&&Id(n.arrayValue,this.value)}}class ZU extends ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Id(this.value.arrayValue,n)}}class Lue extends ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Id(this.value.arrayValue,n)}}class Uue extends ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Id(this.value.arrayValue,r))}}class Bue{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function mD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Bue(t,e,n,r,i,s,o)}function No(t){const e=O(t);if(null===e.he){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Su(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Su(r)).join(",")),e.he=n}return e.he}function bd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qU(t.startAt,e.startAt)&&qU(t.endAt,e.endAt)}function jg(t){return V.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class zi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null}}function Pu(t){return new zi(t)}function rB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function _D(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Hg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function yD(t){return null!==t.collectionGroup}function Mu(t){const e=O(t);if(null===e.Pe){e.Pe=[];const n=Hg(e),r=_D(e);if(null!==n&&null===r)n.isKeyField()||e.Pe.push(new Ru(n)),e.Pe.push(new Ru(ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Ru(ut.keyField(),s))}}}return e.Pe}function Mn(t){const e=O(t);return e.Ie||(e.Ie=function iB(t,e){if("F"===t.limitType)return mD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Ru(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new xs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xs(t.startAt.position,t.startAt.inclusive):null;return mD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Mu(t))),e.Ie}function vD(t,e){e.getFirstInequalityField(),Hg(t);const n=t.filters.concat([e]);return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gg(t,e,n){return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cd(t,e){return bd(Mn(t),Mn(e))&&t.limitType===e.limitType}function sB(t){return`${No(Mn(t))}|lt:${t.limitType}`}function Nu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XU(i)).join(", ")}]`),yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Su(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Su(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function Dd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):V.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Mu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,u){const c=zU(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Mu(r),i)||r.endAt&&!function(o,a,u){const c=zU(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Mu(r),i)));var r,i}function aB(t){return(e,n)=>{let r=!1;for(const i of Mu(t)){const s=jue(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function jue(t,e,n){const r=t.field.isKeyField()?V.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?Rs(u,c):$()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return OU(this.inner)}size(){return this.innerSize}}const $ue=new $e(V.comparator);function Gn(){return $ue}const uB=new $e(V.comparator);function Ad(...t){let e=uB;for(const n of t)e=e.insert(n.key,n);return e}function cB(t){let e=uB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ui(){return Sd()}function lB(){return Sd()}function Sd(){return new qi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hue=new $e(V.comparator),Gue=new He(V.comparator);function ce(...t){let e=Gue;for(const n of t)e=e.add(n);return e}const zue=new He(ne);function dB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function hB(t){return{integerValue:""+t}}function fB(t,e){return function AU(t){return"number"==typeof t&&Number.isInteger(t)&&!vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?hB(e):dB(t,e)}class zg{constructor(){this._=void 0}}function que(t,e,n){return t instanceof ku?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Vg(s)&&(s=Fg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ko?gB(t,e):t instanceof Oo?mB(t,e):function(i,s){const o=pB(i,s),a=_B(o)+_B(i.Te);return hD(o)&&hD(i.Te)?hB(a):dB(i.serializer,a)}(t,e)}function Wue(t,e,n){return t instanceof ko?gB(t,e):t instanceof Oo?mB(t,e):n}function pB(t,e){return t instanceof Ou?hD(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class ku extends zg{}class ko extends zg{constructor(e){super(),this.elements=e}}function gB(t,e){const n=yB(e);for(const r of t.elements)n.some(i=>ai(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oo extends zg{constructor(e){super(),this.elements=e}}function mB(t,e){let n=yB(e);for(const r of t.elements)n=n.filter(i=>!ai(i,r));return{arrayValue:{values:n}}}class Ou extends zg{constructor(e,n){super(),this.serializer=e,this.Te=n}}function _B(t){return ct(t.integerValue||t.doubleValue)}function yB(t){return wd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Que{constructor(e,n){this.version=e,this.transformResults=n}}class Ze{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Wg{}function vB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Fu(t.key,Ze.none()):new Vu(t.key,t.data,Ze.none());{const n=t.data,r=Xt.empty();let i=new He(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Wi(t.key,r,new Hn(i.toArray()),Ze.none())}}function Yue(t,e,n){t instanceof Vu?function(i,s,o){const a=i.value.clone(),u=wB(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(i,s,o){if(!qg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=wB(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(IB(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function xd(t,e,n,r){return t instanceof Vu?function(s,o,a,u){if(!qg(s.precondition,o))return a;const c=s.value.clone(),l=TB(s.fieldTransforms,u,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wi?function(s,o,a,u){if(!qg(s.precondition,o))return a;const c=TB(s.fieldTransforms,u,o),l=o.data;return l.setAll(IB(s)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,qg(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Xue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=pB(r.transform,i||null);null!=s&&(null===n&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function EB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&bu(r,i,(s,o)=>function Kue(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof ko&&i instanceof ko||r instanceof Oo&&i instanceof Oo?bu(r.elements,i.elements,ai):r instanceof Ou&&i instanceof Ou?ai(r.Te,i.Te):r instanceof ku&&i instanceof ku);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Vu extends Wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wi extends Wg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wB(t,e,n){const r=new Map;q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Wue(o,a,n[i]))}return r}function TB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,que(s,o,e))}return r}class Fu extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ID extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yue(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=vB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&bu(this.mutations,e.mutations,(n,r)=>EB(n,r))&&bu(this.baseMutations,e.baseMutations,(n,r)=>EB(n,r))}}class TD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){q(e.mutations.length===r.length);let i=Hue;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new TD(e,n,r,i)}}class bD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zue{constructor(e,n){this.count=e,this.unchangedNames=n}}var wt,Ie;function bB(t){switch(t){default:return $();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function CB(t){if(void 0===t)return gt("GRPC error has no .code"),I.UNKNOWN;switch(t){case wt.OK:return I.OK;case wt.CANCELLED:return I.CANCELLED;case wt.UNKNOWN:return I.UNKNOWN;case wt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case wt.INTERNAL:return I.INTERNAL;case wt.UNAVAILABLE:return I.UNAVAILABLE;case wt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case wt.NOT_FOUND:return I.NOT_FOUND;case wt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case wt.ABORTED:return I.ABORTED;case wt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case wt.DATA_LOSS:return I.DATA_LOSS;default:return $()}}(Ie=wt||(wt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";const ece=new Iu([4294967295,4294967295],0);function AB(t){const e=function DB(){return new TextEncoder}().encode(t),n=new Qae;return n.update(e),new Uint8Array(n.digest())}function SB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Iu([n,r],0),new Iu([i,s],0)]}class CD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pd(`Invalid padding: ${n}`);if(r<0)throw new Pd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Pd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Pd(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Iu.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(Iu.fromNumber(r)));return 1===i.compare(ece)&&(i=new Iu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const n=AB(e),[r,i]=SB(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new CD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ae)return;const n=AB(e),[r,i]=SB(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Md{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Nd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Md(W.min(),i,new $e(ne),Gn(),ce())}}class Nd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nd(r,n,ce(),ce(),ce())}}class Qg{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class RB{constructor(e,n){this.targetId=e,this.ye=n}}class xB{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PB{constructor(){this.we=0,this.Se=NB(),this.be=Pt.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=ce(),n=ce(),r=ce();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$()}}),new Nd(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=NB()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class tce{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Gn(),this.Ue=MB(),this.We=new $e(ne)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:$()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(jg(s))if(0===r){const o=new V(s.path);this.je(n,o,Qe.newNoDocument(o,W.min()))}else q(1===r);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),u=a?this.rt(a,e,o):1;0!==u&&(this.Ze(n),this.We=this.We.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Gi(r).toUint8Array()}catch(u){if(u instanceof FU)return ar("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new CD(o,i,s)}catch(u){return ar(u instanceof Pd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ae?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&jg(a.target)){const u=new V(a.target.path);null!==this.$e.get(u)||this.ut(o,u)||this.je(o,u,Qe.newNoDocument(u,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=ce();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.et(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Md(e,n,this.We,this.$e,r);return this.$e=Gn(),this.Ue=MB(),this.We=new $e(ne),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new PB,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new He(ne),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=null!==this.et(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new PB),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function MB(){return new $e(V.comparator)}function NB(){return new $e(V.comparator)}const nce={asc:"ASCENDING",desc:"DESCENDING"},rce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ice={and:"AND",or:"OR"};class sce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function DD(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function Lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oce(t,e){return Lu(t,e.toTimestamp())}function mt(t){return q(!!t),W.fromTimestamp(function(n){const r=Ds(n);return new nt(r.seconds,r.nanos)}(t))}function AD(t,e){return(r=t,new Ee(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function OB(t){const e=Ee.fromString(t);return q(GB(e)),e}function kd(t,e){return AD(t.databaseId,e.path)}function ci(t,e){const n=OB(e);if(n.get(1)!==t.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(FB(n))}function SD(t,e){return AD(t.databaseId,e)}function Od(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FB(t){return q(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function LB(t,e,n){return{name:kd(t,e),fields:n.value.mapValue.fields}}function Vd(t,e){let n;if(e instanceof Vu)n={update:LB(t,e.key,e.value)};else if(e instanceof Fu)n={delete:kd(t,e.key)};else if(e instanceof Wi)n={update:LB(t,e.key,e.data),updateMask:pce(e.fieldMask)};else{if(!(e instanceof ID))return $();n={verify:kd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ku)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ko)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ou)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw $()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:oce(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:$()),n;var s}function BB(t,e){return{documents:[SD(t,e.path)]}}function xD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=SD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=SD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return HB(Me.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ps((d=c).field),direction:dce(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=DD(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function jB(t){let e=function VB(t){const e=OB(t);return 4===e.length?Ee.emptyPath():FB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){q(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){const h=$B(d);return h instanceof Me&&pD(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>{return new Ru(Uu((p=h).field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,yd(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new xs((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new xs(d.values||[],!d.before)}(n.endAt)),function nB(t,e,n,r,i,s,o,a){return new zi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function $B(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Uu(n.unaryFilter.field);return ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Uu(n.unaryFilter.field);return ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Uu(n.unaryFilter.field);return ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Uu(n.unaryFilter.field);return ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(t):void 0!==t.fieldFilter?ge.create(Uu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Me.create(n.compositeFilter.filters.map(r=>$B(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $()}}(n.compositeFilter.op))}(t):$();var n}function dce(t){return nce[t]}function hce(t){return rce[t]}function fce(t){return ice[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function Uu(t){return ut.fromServerFormat(t.fieldPath)}function HB(t){return t instanceof ge?function(n){if("=="===n.op){if(BU(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(UU(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(BU(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(UU(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:hce(n.op),value:n.value}}}(t):t instanceof Me?function(n){const r=n.getFilters().map(i=>HB(i));return 1===r.length?r[0]:{compositeFilter:{op:fce(n.op),filters:r}}}(t):$()}function pce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ki{constructor(e,n,r,i,s=W.min(),o=W.min(),a=Pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zB{constructor(e){this.ht=e}}function PD(t){const e=jB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gg(e,e.limit,"L"):e}class Uo{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(ct(e.integerValue));else if("doubleValue"in e){const r=ct(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),vd(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),"string"==typeof r?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(Gi(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?jU(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):$()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),V.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}Uo.Ct=new Uo;class wce{constructor(){this.an=new FD}addToCollectionParentIndex(e,n){return this.an.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(ur.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}}class FD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Ee.comparator)).toArray()}}new Uint8Array(0);class hn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class jo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new jo(0)}static Ln(){return new jo(-1)}}class Sce{constructor(){this.changes=new qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pce{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class yj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&xd(r.mutation,i,Hn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ad();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gn();const o=Sd(),a=Sd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Wi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),xd(l.mutation,c,l.mutation.getFieldMask(),nt.now())):o.set(c.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Pce(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sd();let i=new $e((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Hn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ce()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=lB();l.forEach(h=>{if(!s.has(h)){const f=vB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return V.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):yD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):E.resolve(ui());let a=-1,u=s;return o.next(c=>E.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ce())).next(l=>({batchId:a,changes:cB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(r=>{let i=Ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ad();return this.indexManager.getCollectionParents(e,s).next(a=>E.forEach(a,u=>{const c=(d=n,h=u.child(s),new zi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,Qe.newInvalidDocument(l)))});let a=Ad();return o.forEach((u,c)=>{const l=s.get(u);void 0!==l&&xd(l.mutation,c,Hn.empty(),nt.now()),Dd(n,c)&&(a=a.insert(u,c))}),a})}}class Mce{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return E.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,{id:(i=n).id,version:i.version,createTime:mt(i.createTime)}),E.resolve();var i}getNamedQuery(e,n){return E.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,{name:(i=n).name,query:PD(i.bundledQuery),readTime:mt(i.readTime)}),E.resolve();var i}}class Nce{constructor(){this.overlays=new $e(V.comparator),this.Pr=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ui();return E.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),E.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){const i=ui(),s=n.length+1,o=new V(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return E.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $e((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=ui(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ui(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return E.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bD(n,r));let s=this.Pr.get(n);void 0===s&&(s=ce(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}class LD{constructor(){this.Ir=new He(Ut.dr),this.Tr=new He(Ut.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Ut(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new V(new Ee([])),r=new Ut(n,e),i=new Ut(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new V(new Ee([])),r=new Ut(n,e),i=new Ut(n,e+1);let s=ce();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ut(e,0),r=this.Ir.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return V.comparator(e.key,n.key)||ne(e.yr,n.yr)}static Er(e,n){return ne(e.yr,n.yr)||V.comparator(e.key,n.key)}}class kce{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new He(Ut.dr)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++;const o=new wD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Dr(n+1),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ne);return n.forEach(i=>{const s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),E.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;V.isDocumentKey(s)||(s=s.child(""));const o=new Ut(new V(s),0);let a=new He(ne);return this.Sr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.yr)),!0)},o),E.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){q(0===this.vr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return E.forEach(n.mutations,i=>{const s=new Ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Ut(n,0),i=this.Sr.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Oce{constructor(e){this.Fr=e,this.docs=new $e(V.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qe.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gn();const o=n.path,a=new V(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||aD(bU(l),r)<=0||(i.has(l.key)||Dd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,n,r,i){$()}Mr(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Vce(this)}getSize(e){return E.resolve(this.size)}}class Vce extends Sce{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}class Fce{constructor(e){this.persistence=e,this.Or=new qi(n=>No(n),bd),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Nr=0,this.Br=new LD,this.targetCount=0,this.Lr=jo.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),E.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.Qn(n),E.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),E.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Br.containsKey(n))}}class UD{constructor(e,n){this.kr={},this.overlays={},this.qr=new cr(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Fce(this),this.indexManager=new wce,this.remoteDocumentCache=new Oce(r=>this.referenceDelegate.$r(r)),this.serializer=new zB(n),this.Ur=new Mce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nce,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new kce(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new Lce(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return E.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class Lce extends oue{constructor(e){super(),this.currentSequenceNumber=e}}class rm{constructor(e){this.persistence=e,this.jr=new LD,this.Hr=null}static Jr(e){return new rm(e)}get Yr(){if(this.Hr)return this.Hr;throw $()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),E.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Yr,r=>{const i=V.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return E.or([()=>E.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}class HD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new HD(e,n.fromCache,r,i)}}class Bce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ej{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Bce;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(Tu()<=_e.DEBUG&&A("QueryEngine","SDK will not create cache indexes for query:",Nu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),E.resolve()):(Tu()<=_e.DEBUG&&A("QueryEngine","Query:",Nu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Tu()<=_e.DEBUG&&A("QueryEngine","The SDK decides to create cache indexes for query:",Nu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):E.resolve())}Hi(e,n){if(rB(n))return E.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Gg(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Xi(n,a);return this.es(n,c,o,u.readTime)?this.Hi(e,Gg(n,null,"F")):this.ts(e,c,n,u)}))})))}Ji(e,n,r,i){return rB(n)||i.isEqual(W.min())?E.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?E.resolve(null):(Tu()<=_e.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nu(n)),this.ts(e,o,n,function TU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new nt(n+1,0):new nt(n,r));return new ur(i,V.empty(),e)}(i,-1)).next(a=>a))})}Xi(e,n){let r=new He(aB(e));return n.forEach((i,s)=>{Dd(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return Tu()<=_e.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",Nu(n)),this.ji.getDocumentsMatchingQuery(e,n,ur.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class jce{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new $e(ne),this.ss=new qi(s=>No(s),bd),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yj(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function wj(t,e){return GD.apply(this,arguments)}function GD(){return GD=g(function*(t,e){const n=O(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ce();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({cs:c,removedBatchIds:o,addedBatchIds:a}))})})}),GD.apply(this,arguments)}function Tj(t){const e=O(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function Gce(t,e){const n=O(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zu(t,e,n){return zD.apply(this,arguments)}function zD(){return zD=g(function*(t,e,n){const r=O(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!bs(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}),zD.apply(this,arguments)}function om(t,e,n){const r=O(t);let i=W.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,l){const d=O(u),h=d.ss.get(l);return void 0!==h?E.resolve(d.rs.get(h)):d.Kr.getTargetData(c,l)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:W.min(),n?s:ce())).next(a=>(function Aj(t,e,n){let r=t.os.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}(r,function oB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Ps:s})))}class YD{constructor(){this.activeTargetIds=function ED(){return zue}()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xj{constructor(){this.ro=new YD,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new YD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wce{so(e){}shutdown(){}}class Pj{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let cm=null;function JD(){return null===cm?cm=268435456+Math.round(2147483648*Math.random()):cm++,"0x"+cm.toString(16)}const Kce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qce{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const fn="WebChannelConnection";class Yce extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=JD(),u=this.Do(n,r);A("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(c,s,o),this.vo(n,u,c,i).then(l=>(A("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ar("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+wu,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){return`${this.po}/v1/${r}:${Kce[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=JD();return new Promise((o,a)=>{const u=new Kae;u.setWithCredentials(!0),u.listenOnce(qae.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case iD.NO_ERROR:const l=u.getResponseJson();A(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case iD.TIMEOUT:A(fn,`RPC '${e}' ${s} timed out`),a(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case iD.HTTP_ERROR:const d=u.getStatus();if(A(fn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(v)>=0?v:I.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(I.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{A(fn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);A(fn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Mo(e,n,r){const i=JD(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Gae(),a=zae(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Co(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");A(fn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Qce({ho:_=>{f?A(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(A(fn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(fn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},Po:()=>d.close()}),m=(_,v,y)=>{_.listen(v,w=>{try{y(w)}catch(R){setTimeout(()=>{throw R},0)}})};return m(d,Mg.EventType.OPEN,()=>{f||A(fn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Mg.EventType.CLOSE,()=>{f||(f=!0,A(fn,`RPC '${e}' stream ${i} transport closed`),p.mo())}),m(d,Mg.EventType.ERROR,_=>{f||(f=!0,ar(fn,`RPC '${e}' stream ${i} transport errored:`,_),p.mo(new C(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Mg.EventType.MESSAGE,_=>{var v;if(!f){const y=_.data[0];q(!!y);const R=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(R){A(fn,`RPC '${e}' stream ${i} received error:`,R);const N=R.status;let G=function(Yi){const cc=wt[Yi];if(void 0!==cc)return CB(cc)}(N),de=R.message;void 0===G&&(G=I.INTERNAL,de="Unknown error status: "+N+" with message "+R.message),f=!0,p.mo(new C(G,de)),d.close()}else A(fn,`RPC '${e}' stream ${i} received:`,y),p.fo(y)}}),m(a,Wae.STAT_EVENT,_=>{_.stat===_U.PROXY?A(fn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===_U.NOPROXY&&A(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Vo()},0),p}}function lm(){return typeof document<"u"?document:null}function Gd(t){return new sce(t,!0)}class ZD{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class Nj{constructor(e,n,r,i,s,o,a,u){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new ZD(e,n)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return g(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return g(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,n){var r=this;return g(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(gt(n.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(n)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new C(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){var e=this;this.state=5,this.Ho.Qo(g(function*(){e.state=0,e.start()}))}a_(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xce extends Nj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=function uce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:$(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(q(void 0===l||"string"==typeof l),Pt.fromBase64String(l||"")):(q(void 0===l||l instanceof Uint8Array),Pt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?I.UNKNOWN:CB(c.code);return new C(l,c.message||"")}(o);n=new xB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ci(t,r.document.name),s=mt(r.document.updateTime),o=r.document.createTime?mt(r.document.createTime):W.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=Qe.newFoundDocument(i,s,o,a);n=new Qg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ci(t,r.document),s=r.readTime?mt(r.readTime):W.min(),o=Qe.newNoDocument(i,s);n=new Qg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ci(t,r.document);n=new Qg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Zue(i,s);n=new RB(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return W.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?W.min():o.readTime?mt(o.readTime):W.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=Od(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=jg(u)?{documents:BB(s,u)}:{query:xD(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kB(s,o.resumeToken);const c=DD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(W.min())>0){a.readTime=Lu(s,o.snapshotVersion.toTimestamp());const c=DD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function lce(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=Od(this.serializer),n.removeTarget=e,this.n_(n)}}class Jce extends Nj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=function cce(t,e){return t&&t.length>0?(q(void 0!==e),t.map(n=>function(i,s){let o=mt(i.updateTime?i.updateTime:s);return o.isEqual(W.min())&&(o=mt(s)),new Que(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=mt(e.commitTime);return this.listener.T_(r,n)}return q(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=Od(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vd(this.serializer,r))};this.n_(n)}}class Zce extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(I.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(I.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class tle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(gt(n),this.p_=!1):A("OnlineStateTracker",n)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class nle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(a=>{r.enqueueAndForget(g(function*(){var u;Os(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(l){const d=O(l);d.F_.add(4),yield qu(d),d.O_.set("Unknown"),d.F_.delete(4),yield zd(d)}),function c(l){return u.apply(this,arguments)})(o))}))}),this.O_=new tle(r,i)}}function zd(t){return tA.apply(this,arguments)}function tA(){return tA=g(function*(t){if(Os(t))for(const e of t.M_)yield e(!0)}),tA.apply(this,arguments)}function qu(t){return nA.apply(this,arguments)}function nA(){return nA=g(function*(t){for(const e of t.M_)yield e(!1)}),nA.apply(this,arguments)}function dm(t,e){const n=O(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),sA(n)?iA(n):Ku(n).Yo()&&rA(n,e))}function qd(t,e){const n=O(t),r=Ku(n);n.v_.delete(e),r.Yo()&&kj(n,e),0===n.v_.size&&(r.Yo()?r.e_():Os(n)&&n.O_.set("Unknown"))}function rA(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ku(t).l_(e)}function kj(t,e){t.N_.Le(e),Ku(t).h_(e)}function iA(t){t.N_=new tce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Ku(t).start(),t.O_.y_()}function sA(t){return Os(t)&&!Ku(t).Jo()&&t.v_.size>0}function Os(t){return 0===O(t).F_.size}function Oj(t){t.N_=void 0}function rle(t){return oA.apply(this,arguments)}function oA(){return oA=g(function*(t){t.v_.forEach((e,n)=>{rA(t,e)})}),oA.apply(this,arguments)}function ile(t,e){return aA.apply(this,arguments)}function aA(){return aA=g(function*(t,e){Oj(t),sA(t)?(t.O_.b_(e),iA(t)):t.O_.set("Unknown")}),aA.apply(this,arguments)}function sle(t,e,n){return uA.apply(this,arguments)}function uA(){return uA=g(function*(t,e,n){if(t.O_.set("Online"),e instanceof xB&&2===e.state&&e.cause)try{yield(r=g(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.v_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.v_.delete(u),s.N_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hm(t,r)}else if(e instanceof Qg?t.N_.Ge(e):e instanceof RB?t.N_.Xe(e):t.N_.He(e),!n.isEqual(W.min()))try{const r=yield Tj(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=s.v_.get(c);l&&s.v_.set(c,l.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const l=s.v_.get(u);if(!l)return;s.v_.set(u,l.withResumeToken(Pt.EMPTY_BYTE_STRING,l.snapshotVersion)),kj(s,u);const d=new Ki(l.target,u,c,l.sequenceNumber);rA(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield hm(t,r)}var r}),uA.apply(this,arguments)}function hm(t,e,n){return cA.apply(this,arguments)}function cA(){return cA=g(function*(t,e,n){if(!bs(e))throw e;t.F_.add(1),yield qu(t),t.O_.set("Offline"),n||(n=()=>Tj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.F_.delete(1),yield zd(t)}))}),cA.apply(this,arguments)}function Vj(t,e){return e().catch(n=>hm(t,n,e))}function Wu(t){return lA.apply(this,arguments)}function lA(){return lA=g(function*(t){const e=O(t),n=Vs(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;ole(e);)try{const i=yield Gce(e.localStore,r);if(null===i){0===e.C_.length&&n.e_();break}r=i.batchId,ale(e,i)}catch(i){yield hm(e,i)}Fj(e)&&Lj(e)}),lA.apply(this,arguments)}function ole(t){return Os(t)&&t.C_.length<10}function ale(t,e){t.C_.push(e);const n=Vs(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function Fj(t){return Os(t)&&!Vs(t).Jo()&&t.C_.length>0}function Lj(t){Vs(t).start()}function ule(t){return dA.apply(this,arguments)}function dA(){return dA=g(function*(t){Vs(t).A_()}),dA.apply(this,arguments)}function cle(t){return hA.apply(this,arguments)}function hA(){return hA=g(function*(t){const e=Vs(t);for(const n of t.C_)e.d_(n.mutations)}),hA.apply(this,arguments)}function lle(t,e,n){return fA.apply(this,arguments)}function fA(){return fA=g(function*(t,e,n){const r=t.C_.shift(),i=TD.from(r,e,n);yield Vj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Wu(t)}),fA.apply(this,arguments)}function dle(t,e){return pA.apply(this,arguments)}function pA(){return pA=g(function*(t,e){var n;e&&Vs(t).I_&&(yield(n=g(function*(i,s){if(bB(a=s.code)&&a!==I.ABORTED){const o=i.C_.shift();Vs(i).Xo(),yield Vj(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Wu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),Fj(t)&&Lj(t)}),pA.apply(this,arguments)}function Uj(t,e){return gA.apply(this,arguments)}function gA(){return gA=g(function*(t,e){const n=O(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Os(n);n.F_.add(3),yield qu(n),r&&n.O_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),yield zd(n)}),gA.apply(this,arguments)}function _A(){return _A=g(function*(t,e){const n=O(t);e?(n.F_.delete(2),yield zd(n)):e||(n.F_.add(2),yield qu(n),n.O_.set("Unknown"))}),_A.apply(this,arguments)}function Ku(t){return t.B_||(t.B_=function(n,r,i){const s=O(n);return s.V_(),new Xce(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:rle.bind(null,t),Eo:ile.bind(null,t),c_:sle.bind(null,t)}),t.M_.push(function(){var e=g(function*(n){n?(t.B_.Xo(),sA(t)?iA(t):t.O_.set("Unknown")):(yield t.B_.stop(),Oj(t))});return function(n){return e.apply(this,arguments)}}())),t.B_}function Vs(t){return t.L_||(t.L_=function(n,r,i){const s=O(n);return s.V_(),new Jce(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:ule.bind(null,t),Eo:dle.bind(null,t),E_:cle.bind(null,t),T_:lle.bind(null,t)}),t.M_.push(function(){var e=g(function*(n){n?(t.L_.Xo(),yield Wu(t)):(yield t.L_.stop(),t.C_.length>0&&(A("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))});return function(n){return e.apply(this,arguments)}}())),t.L_}class yA{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new yA(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qu(t,e){if(gt("AsyncQueue",`${e}: ${t}`),bs(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Yu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=Ad(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new Yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Bj{constructor(){this.k_=new $e(V.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(n,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(n):1===e.type&&2===r.type?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):$():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xu(e,n,Yu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class hle{constructor(){this.Q_=void 0,this.listeners=[]}}class fle{constructor(){this.queries=new qi(e=>sB(e),Cd),this.onlineState="Unknown",this.K_=new Set}}function vA(t,e){return EA.apply(this,arguments)}function EA(){return EA=g(function*(t,e){const n=O(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new hle),i)try{s.Q_=yield n.onListen(r)}catch(o){const a=Qu(o,`Initialization of query '${Nu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&TA(n)}),EA.apply(this,arguments)}function IA(t,e){return wA.apply(this,arguments)}function wA(){return wA=g(function*(t,e){const n=O(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),wA.apply(this,arguments)}function ple(t,e){const n=O(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&TA(n)}function gle(t,e,n){const r=O(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function TA(t){t.K_.forEach(e=>{e.next()})}class bA{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Hj{constructor(e){this.key=e}}class Gj{constructor(e){this.key=e}}class zj{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ce(),this.mutatedKeys=ce(),this.ua=aB(e),this.ca=new Yu(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Bj,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Dd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.ua(f,u)>0||c&&this.ua(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((c,l)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return p(h)-p(f)}(c.type,l.type)||this.ua(c.doc,l.doc)),this.da(r);const o=n?this.Ta():[],a=0===this.aa.size&&this.current?1:0,u=a!==this._a;return this._a=a,0!==s.length||u?{snapshot:new Xu(this.query,e.ca,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Bj,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=ce(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Gj(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Hj(r))}),n}Ra(e){this.oa=e.Ps,this.aa=ce();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Xu.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class yle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vle{constructor(e){this.key=e,this.ma=!1}}class Ele{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new qi(a=>sB(a),Cd),this.pa=new Map,this.ya=new Set,this.wa=new $e(V.comparator),this.Sa=new Map,this.ba=new LD,this.Da={},this.Ca=new Map,this.va=jo.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function Ile(t,e){return CA.apply(this,arguments)}function CA(){return CA=g(function*(t,e){const n=function KA(t){const e=O(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ble.bind(null,e),e.fa.c_=ple.bind(null,e.eventManager),e.fa.xa=gle.bind(null,e.eventManager),e}(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=yield function Gu(t,e){const n=O(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new Ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}(n.localStore,Mn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function DA(t,e,n,r,i){return AA.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&dm(n.remoteStore,o)}return i}),CA.apply(this,arguments)}function AA(){return AA=g(function*(t,e,n,r,i){t.Ma=(d,h,f)=>{return(p=g(function*(_,v,y,w){let R=v.view.ha(y);R.es&&(R=yield om(_.localStore,v.query,!1).then(({documents:de})=>v.view.ha(de,R)));const N=w&&w.targetChanges.get(v.targetId),G=v.view.applyChanges(R,_.isPrimaryClient,N);return FA(_,v.targetId,G.Ea),G.snapshot}),function m(_,v,y,w){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield om(t.localStore,e,!0),o=new zj(e,s.Ps),a=o.ha(s.documents),u=Nd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);FA(t,n,c.Ea);const l=new yle(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}),AA.apply(this,arguments)}function wle(t,e){return SA.apply(this,arguments)}function SA(){return SA=g(function*(t,e){const n=O(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Cd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield zu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),qd(n.remoteStore,r.targetId),Ju(n,r.targetId)}).catch(Ts))):(Ju(n,r.targetId),yield zu(n.localStore,r.targetId,!0))}),SA.apply(this,arguments)}function RA(){return RA=g(function*(t,e,n){const r=function QA(t){const e=O(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dle.bind(null,e),e}(t);try{const i=yield function(o,a){const u=O(o),c=nt.now(),l=a.reduce((f,p)=>f.add(p.key),ce());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Gn(),m=ce();return u._s.getEntries(f,l).next(_=>{p=_,p.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(_=>{d=_;const v=[];for(const y of a){const w=Xue(y,d.get(y.key).overlayedDocument);null!=w&&v.push(new Wi(y.key,w,GU(w.value.mapValue),Ze.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,v,a)}).next(_=>{h=_;const v=_.applyToLocalDocumentSet(d,m);return u.documentOverlayCache.saveOverlays(f,_.batchId,v)})}).then(()=>({batchId:h.batchId,changes:cB(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Da[o.currentUser.toKey()];c||(c=new $e(ne)),c=c.insert(a,u),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),yield Qi(r,i.changes),yield Wu(r.remoteStore)}catch(i){const s=Qu(i,"Failed to persist write");n.reject(s)}}),RA.apply(this,arguments)}function qj(t,e){return xA.apply(this,arguments)}function xA(){return xA=g(function*(t,e){const n=O(t);try{const r=yield function Hce(t,e){const n=O(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Kr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Kr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var m,_,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Pt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),_=f,v=l,(0===(m=h).resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Kr.updateTargetData(s,f))});let u=Gn(),c=ce();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function bj(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ls:o,hs:i}})}(s,o,e.documentUpdates).next(l=>{u=l.ls,c=l.hs})),!r.isEqual(W.min())){const l=n.Kr.getLastRemoteSnapshotVersion(s).next(d=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.rs=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?q(o.ma):i.removedDocuments.size>0&&(q(o.ma),o.ma=!1))}),yield Qi(n,r,e)}catch(r){yield Ts(r)}}),xA.apply(this,arguments)}function Wj(t,e,n){const r=O(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=O(o);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.U_(a)&&(c=!0)}),c&&TA(u)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ble(t,e,n){return PA.apply(this,arguments)}function PA(){return PA=g(function*(t,e,n){const r=O(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new $e(V.comparator);o=o.insert(s,Qe.newNoDocument(s,W.min()));const a=ce().add(s),u=new Md(W.min(),new Map,new $e(ne),o,a);yield qj(r,u),r.wa=r.wa.remove(s),r.Sa.delete(e),LA(r)}else yield zu(r.localStore,e,!1).then(()=>Ju(r,e,n)).catch(Ts)}),PA.apply(this,arguments)}function Cle(t,e){return MA.apply(this,arguments)}function MA(){return MA=g(function*(t,e){const n=O(t),r=e.batch.batchId;try{const i=yield function $ce(t,e){const n=O(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=E.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(m=>{const _=c.docVersions.get(p);q(null!==_),m.version.compareTo(_)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),l.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);VA(n,r,null),OA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Qi(n,i)}catch(i){yield Ts(i)}}),MA.apply(this,arguments)}function Dle(t,e,n){return NA.apply(this,arguments)}function NA(){return NA=g(function*(t,e,n){const r=O(t);try{const i=yield function(o,a){const u=O(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(q(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);VA(r,e,n),OA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Qi(r,i)}catch(i){yield Ts(i)}}),NA.apply(this,arguments)}function OA(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function VA(t,e,n){const r=O(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Ju(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||Kj(t,r)})}function Kj(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(qd(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),LA(t))}function FA(t,e,n){for(const r of n)r instanceof Hj?(t.ba.addReference(r.key,e),Sle(t,r)):r instanceof Gj?(A("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Kj(t,r.key)):$()}function Sle(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(A("SyncEngine","New document in limbo: "+n),t.ya.add(r),LA(t))}function LA(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new V(Ee.fromString(e)),r=t.va.next();t.Sa.set(r,new vle(n)),t.wa=t.wa.insert(n,r),dm(t.remoteStore,new Ki(Mn(Pu(n.path)),r,"TargetPurposeLimboResolution",cr.ae))}}function Qi(t,e,n){return UA.apply(this,arguments)}function UA(){return UA=g(function*(t,e,n){const r=O(t),i=[],s=[],o=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=HD.$i(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.fa.c_(i),yield(a=g(function*(c,l){const d=O(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>E.forEach(l,f=>E.forEach(f.Qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>E.forEach(f.Ki,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!bs(h))throw h;A("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.rs.get(f),_=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.rs=d.rs.insert(f,_)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,s))}),UA.apply(this,arguments)}function Rle(t,e){return BA.apply(this,arguments)}function BA(){return BA=g(function*(t,e){const n=O(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield wj(n.localStore,e);n.currentUser=e,(s=n).Ca.forEach(a=>{a.forEach(u=>{u.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ca.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qi(n,r.cs)}var s}),BA.apply(this,arguments)}function xle(t,e){const n=O(t),r=n.Sa.get(e);if(r&&r.ma)return ce().add(r.key);{let i=ce();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}class fm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Gd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Ij(t,e,n,r){return new jce(t,e,n,r)}(this.persistence,new Ej,e.initialUser,this.serializer)}createPersistence(e){return new UD(rm.Jr,this.serializer)}createSharedClientState(e){return new xj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Zu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Wj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Rle.bind(null,r.syncEngine),yield function mA(t,e){return _A.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fle}createDatastore(e){const n=Gd(e.databaseInfo.databaseId),r=new Yce(e.databaseInfo);return new Zce(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>Wj(this.syncEngine,n,0),a=Pj.C()?new Pj:new Wce,new nle(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,u,c,l){const d=new Ele(i,s,o,a,u,c);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(r){const i=O(r);A("RemoteStore","RemoteStore shutting down."),i.F_.add(5),yield qu(i),i.x_.shutdown(),i.O_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class jle{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return g(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new C(I.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=g(function*(o,a){const u=O(o),c=Od(u.serializer)+"/documents",l={documents:a.map(p=>kd(u.serializer,p))},d=yield u.Fo("BatchGetDocuments",c,l,a.length),h=new Map;d.forEach(p=>{const m=function ace(t,e){return"found"in e?function(r,i){q(!!i.found);const s=ci(r,i.found.name),o=mt(i.found.updateTime),a=i.found.createTime?mt(i.found.createTime):W.min(),u=new Xt({mapValue:{fields:i.found.fields}});return Qe.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){q(!!i.missing),q(!!i.readTime);const s=ci(r,i.missing),o=mt(i.readTime);return Qe.newNoDocument(s,o)}(t,e):$()}(u.serializer,p);h.set(m.key.toString(),m)});const f=[];return a.forEach(p=>{const m=h.get(p.toString());q(!!m),f.push(m)}),f}),function s(o,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return g(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const s=V.fromPath(i);e.mutations.push(new ID(s,e.precondition(s)))}),yield(r=g(function*(s,o){const a=O(s),u=Od(a.serializer)+"/documents",c={writes:o.map(l=>Vd(a.serializer,l))};yield a.bo("Commit",u,c)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw $();n=W.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new C(I.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(W.min())?Ze.exists(!1):Ze.updateTime(n):Ze.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(W.min()))throw new C(I.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ze.updateTime(n)}return Ze.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $le{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new ZD(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){var e=this;this.Ho.Qo(g(function*(){const n=new jle(e.datastore),r=e.Ha(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Ja(s)}))}).catch(i=>{e.Ja(i)})}))}Ha(e){try{const n=this.updateFunction(e);return!yd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!bB(n)}return!1}}class Hle{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=IU.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Qu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function gm(t,e){return YA.apply(this,arguments)}function YA(){return YA=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield wj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),YA.apply(this,arguments)}function XA(t,e){return JA.apply(this,arguments)}function JA(){return JA=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function ZA(t){return eS.apply(this,arguments)}(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Uj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Uj(e.remoteStore,s)),t._onlineComponents=e}),JA.apply(this,arguments)}function eS(){return eS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function e$(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ar("Error using user provided cache. Falling back to memory cache: "+n),yield gm(t,new fm)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield gm(t,new fm);return t._offlineComponents}),eS.apply(this,arguments)}function mm(t){return tS.apply(this,arguments)}function tS(){return tS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield XA(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield XA(t,new Zu))),t._onlineComponents}),tS.apply(this,arguments)}function tc(t){return rS.apply(this,arguments)}function rS(){return rS=g(function*(t){const e=yield mm(t),n=e.eventManager;return n.onListen=Ile.bind(null,e.syncEngine),n.onUnlisten=wle.bind(null,e.syncEngine),n}),rS.apply(this,arguments)}function o$(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const a$=new Map;function iS(t,e,n){if(!n)throw new C(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u$(t){if(!V.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function c$(t){if(V.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _m(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":$()}function me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_m(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class d${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ede(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=o$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d$(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Yae;switch(r.type){case"firstParty":return new eue(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=a$.get(n);r&&(A("ComponentProvider","Removing Datastore"),a$.delete(n),r.terminate())}(this),Promise.resolve()}}class Jt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jt(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}}class li extends Jt{constructor(e,n,r){super(e,n,Pu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new V(e))}withConverter(e){return new li(this.firestore,e,this._path)}}function Zt(t,e,...n){if(t=We(t),1===arguments.length&&(e=IU.V()),iS("doc","path",e),t instanceof Wd){const r=Ee.fromString(e,...n);return u$(r),new _t(t,null,new V(r))}{if(!(t instanceof _t||t instanceof li))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return u$(r),new _t(t.firestore,t instanceof li?t.converter:null,new V(r))}}class rde{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new ZD(this,"async_queue_retry"),this.ou=()=>{const n=lm();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=lm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=lm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new xt;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return g(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(n){if(!bs(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,gt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=yA.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&$()}verifyOperationInProgress(){}lu(){var e=this;return g(function*(){let n;do{n=e.Za,yield n}while(n!==e.Za)})()}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class Ge extends Wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||f$(this),this._firestoreClient.terminate()}}function yt(t){return t._firestoreClient||f$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function f$(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new xue(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,o$(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new Hle(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(Pt.fromBase64String(e))}catch(n){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ho(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Go{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oS{constructor(e){this._methodName=e}}class aS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const ade=/^__.*__$/;class ude{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class m${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class ym{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new ym(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Im(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(_$(this.Tu)&&ade.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class cde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gd(e)}wu(e,n,r,i=!1){return new ym({Tu:e,methodName:n,yu:r,path:ut.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zo(t){const e=t._freezeSettings(),n=Gd(t._databaseId);return new cde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vm(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);dS("Data must be an object, but it was:",o,r);const a=E$(r,o);let u,c;if(s.merge)u=new Hn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Yd(e,d,n);if(!o.contains(h))throw new C(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);w$(l,h)||l.push(h)}u=new Hn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new ude(new Xt(a),u,c)}class Qd extends oS{_toFieldTransform(e){if(2!==e.Tu)throw e.gu(1===e.Tu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function cS(t,e,n,r){const i=t.wu(1,e,n);dS("Data must be an object, but it was:",i,r);const s=[],o=Xt.empty();Cs(r,(u,c)=>{const l=Em(e,u,n);c=We(c);const d=i.mu(l);if(c instanceof Qd)s.push(l);else{const h=qo(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Hn(s);return new m$(o,a,i.fieldTransforms)}function lS(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[Yd(e,r,n)],u=[i];if(s.length%2!=0)throw new C(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Yd(e,s[h])),u.push(s[h+1]);const c=[],l=Xt.empty();for(let h=a.length-1;h>=0;--h)if(!w$(c,a[h])){const f=a[h];let p=u[h];p=We(p);const m=o.mu(f);if(p instanceof Qd)c.push(f);else{const _=qo(p,m);null!=_&&(c.push(f),l.set(f,_))}}const d=new Hn(c);return new m$(l,d,o.fieldTransforms)}function qo(t,e){if(I$(t=We(t)))return dS("Unsupported field value:",e,t),E$(t,e);if(t instanceof oS)return function(r,i){if(!_$(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&4!==e.Tu)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=qo(a,i.fu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=We(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return fB(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=nt.fromDate(r);return{timestampValue:Lu(i.serializer,s)}}if(r instanceof nt){const s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lu(i.serializer,s)}}if(r instanceof aS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ho)return{bytesValue:kB(i.serializer,r._byteString)};if(r instanceof _t){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:AD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${_m(r)}`)}(t,e)}function E$(t,e){const n={};return OU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(r,i)=>{const s=qo(i,e.Au(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function I$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof aS||t instanceof Ho||t instanceof _t||t instanceof oS)}function dS(t,e,n){if(!I$(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=_m(n);throw e.gu("an object"===r?t+" a custom object":t+" "+r)}var i}function Yd(t,e,n){if((e=We(e))instanceof Go)return e._internalPath;if("string"==typeof e)return Em(t,e);throw Im("Field path arguments must be of type string or ",t,!1,void 0,n)}const fde=new RegExp("[~\\*/\\[\\]]");function Em(t,e,n){if(e.search(fde)>=0)throw Im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Go(...e.split("."))._internalPath}catch{throw Im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Im(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(I.INVALID_ARGUMENT,a+t+u)}function w$(t,e){return t.some(n=>n.isEqual(e))}class Xd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class pde extends Xd{data(){return super.data()}}function wm(t,e){return"string"==typeof e?Em(t,e):e instanceof Go?e._internalPath:e._delegate._internalPath}class hS{}class fS extends hS{}class Jd extends fS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jd(e,n,r)}_apply(e){const n=this._parse(e);return A$(e._query,n),new Jt(e.firestore,e.converter,vD(e._query,n))}_parse(e){const n=zo(e.firestore);return function(s,o,a,u,c,l,d){let h;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new C(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){D$(d,l);const f=[];for(const p of d)f.push(C$(u,s,p));h={arrayValue:{values:f}}}else h=C$(u,s,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||D$(d,l),h=function v$(t,e,n,r=!1){return qo(n,t.wu(r?4:3,e))}(a,"where",d,"in"===l||"not-in"===l);return ge.create(c,l,h)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class nc extends hS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nc(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Me.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)A$(o,u),o=vD(o,u)}(e._query,n),new Jt(e.firestore,e.converter,vD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pS extends fS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pS(e,n)}_apply(e){const n=function(i,s,o){if(null!==i.startAt)throw new C(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new C(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Ru(s,o);return function(c,l){if(null===_D(c)){const d=Hg(c);null!==d&&S$(0,d,l.field)}}(i,a),a}(e._query,this._field,this._direction);return new Jt(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new zi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class Tm extends fS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Tm(e,n,r)}_apply(e){return new Jt(e.firestore,e.converter,Gg(e._query,this._limit,this._limitType))}}function C$(t,e,n){if("string"==typeof(n=We(n))){if(""===n)throw new C(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yD(e)&&-1!==n.indexOf("/"))throw new C(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!V.isDocumentKey(r))throw new C(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mo(t,new V(r))}if(n instanceof _t)return Mo(t,n._key);throw new C(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(n)}.`)}function D$(t,e){if(!Array.isArray(t)||0===t.length)throw new C(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A$(t,e){if(e.isInequality()){const r=Hg(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new C(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=_D(t);null!==s&&S$(0,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new C(I.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function S$(t,e,n){if(!n.isEqual(e))throw new C(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class x${convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw $()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new aS(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ed(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);q(GB(r));const i=new Po(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||gt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function Dm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class yde extends x${constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}class Wo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rc extends Xd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Am extends rc{data(e={}){return super.data(e)}}class ic{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Am(this._firestore,this._userDataWriter,r.key,r,new Wo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Am(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new Am(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:Ede(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ede(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}function lr(t){t=me(t,_t);const e=me(t.firestore,Ge);return function i$(t,e,n={}){const r=new xt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(s,o,a,u,c){const l=new pm({next:h=>{o.enqueueAndForget(()=>IA(s,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new C(I.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&"server"===u.source?c.reject(new C(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new bA(Pu(a.path),l,{includeMetadataChanges:!0,Z_:!0});return vA(s,d)}(yield tc(t),t.asyncQueue,e,n,r)})),r.promise}(yt(e),t._key).then(n=>function mS(t,e,n){const r=n.docs.get(e._key),i=new Fs(t);return new rc(t,i,e._key,r,new Wo(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class Fs extends x${constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function gS(t,e,n){t=me(t,_t);const r=me(t.firestore,Ge),i=Dm(t.converter,e,n);return Zd(r,[vm(zo(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ze.none())])}function P$(t){return Zd(me(t.firestore,Ge),[new Fu(t._key,Ze.none())])}function Zd(t,e){return function(r,i){const s=new xt;return r.asyncQueue.enqueueAndForget(g(function*(){return function Tle(t,e,n){return RA.apply(this,arguments)}(yield function nS(t){return mm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(yt(t),e)}const Pde={maxAttempts:5};function Ls(t,e){if((t=We(t)).firestore!==e)throw new C(I.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Nde extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=zo(n)}get(n){const r=Ls(n,this._firestore),i=new yde(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return $();const o=s[0];if(o.isFoundDocument())return new Xd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Xd(this._firestore,i,r._key,null,r.converter);throw $()})}set(n,r,i){const s=Ls(n,this._firestore),o=Dm(s.converter,r,i),a=vm(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Ls(n,this._firestore);let a;return a="string"==typeof(r=We(r))||r instanceof Go?lS(this._dataReader,"Transaction.update",o._key,r,i,s):cS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Ls(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ls(e,this._firestore),r=new Fs(this._firestore);return super.get(e).then(i=>new rc(this._firestore,r,n._key,i._document,new Wo(!1,!1),n.converter))}}!function(e,n=!0){wu=uu,Er(new ir("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ge(new Jae(r.getProvider("auth-internal")),new tue(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),jn(yU,"4.2.0",e),jn(yU,"4.2.0","esm2017")}();const O$=$V({apiKey:"AIzaSyADljtJJVmWrxoQru7Z0K31BBcoAhC_t2M",authDomain:"hacked23-24.firebaseapp.com",projectId:"hacked23-24",storageBucket:"hacked23-24.appspot.com",messagingSenderId:"762917826898",appId:"1:762917826898:web:2e61a3302af9834f530a8b",measurementId:"G-BCYK66FZ62"}),V$=(function Yne(t=Fp()){const e=Mi(t=We(t),Up);e.isInitialized()?e.getImmediate():function Xne(t,e={}){const n=Mi(t,Up);if(n.isInitialized()){const i=n.getImmediate();if(kl(e,n.getOptions()))return i;throw xn.create("already-initialized")}n.initialize({options:e})}(t)}(O$),new Yre),Ye=function zse(t=Fp()){const e=Mi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Mre(t,e){const n=Mi(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(kl(n.getOptions(),e??{}))return i;$n(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Lse,persistence:[Oie,wie,pL]}),r=SV("authTokenSyncURL");if(r){const s=Gse(r);(function die(t,e,n){We(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function lie(t,e,n,r){We(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=DV("auth");return i&&function kre(t,e,n){const r=Et(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=eL(e),{host:o,port:a}=function Ore(t){const e=eL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tL(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:tL(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Vre(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(),F$=function joe(t=Fp()){return function Loe(){return pC.apply(this,arguments)}().then(e=>{if(!e)throw Wt.create("unsupported-browser")},e=>{throw Wt.create("indexed-db-unsupported")}),Mi(We(t),"messaging").getImmediate()}(O$),Bt=function sde(t,e){const r="string"==typeof t?t:e||"(default)",i=Mi("object"==typeof t?t:Fp(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=DV("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function tde(t,e,n,r={}){var i;const s=(t=me(t,Wd))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ft.MOCK_USER;else{a=function YZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xp(JSON.stringify({alg:"none",type:"JWT"})),xp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ft(c)}t._authCredentials=new Xae(new vU(a,u))}}(i,...s)}return i}();function L$(t){return new Promise(e=>setTimeout(e,t))}function Vde(){return yS.apply(this,arguments)}function yS(){return yS=g(function*(){try{const e=(yield IL(Ye,V$)).user;console.log("Logged in user:",e);const n=Zt(Bt,"users",e.uid);yield L$(2500);const r=yield lr(n);!0!==r.get("registrationCompleted")&&(console.log(r.get("registrationCompleted")),alert("Per favore, completare la registrazione prima di accedere."),yield P$(n),yield function pie(t){return YT.apply(this,arguments)}(e))}catch(t){console.error("Error logging in:",t)}}),yS.apply(this,arguments)}function vS(){return vS=g(function*(){try{const e=(yield IL(Ye,V$)).user;console.log("Logged in user:",e);const n=Zt(Bt,"users",e.uid);yield L$(2500);const r=yield lr(n);if(!0!==r.get("registrationCompleted")){console.log(r.get("registrationCompleted"));const i=Zt(Bt,"metadata","student_count");yield function kde(t,e,n){t=me(t,Ge);const r=Object.assign(Object.assign({},Pde),n);return function(s){if(s.maxAttempts<1)throw new C(I.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new xt;return s.asyncQueue.enqueueAndForget(g(function*(){const c=yield function r$(t){return mm(t).then(e=>e.datastore)}(s);new $le(s.asyncQueue,c,a,o,u).run()})),u.promise}(yt(t),i=>e(new Nde(t,i)),r)}(Bt,function(){var s=g(function*(o){const a=yield o.get(i);if(!a.exists())throw"Document does not exist!";const u=a.data().count+1;o.update(i,{count:u})});return function(o){return s.apply(this,arguments)}}())}}catch(t){console.error("Error logging in:",t)}}),vS.apply(this,arguments)}function U$(){return ES.apply(this,arguments)}function ES(){return ES=g(function*(){try{yield function fie(t){return We(t).signOut()}(Ye),console.log("Logged out successfully")}catch(t){console.error("Error logging out:",t)}}),ES.apply(this,arguments)}function IS(){return IS=g(function*(){try{"granted"===(yield Notification.requestPermission())&&function $oe(t,e){return mC.apply(this,arguments)}(F$,{vapidKey:"BKOIvinydaKL00iJbhKrJNOQVuqq6lYM5jC8-1oyiI4OVLdBsB7X82XG_dSkvZmDD0tp-k2owyuE4_TUjaRmKo8"}).then(function(){var e=g(function*(n){if(n){console.log("User token:",n);const r=Ye.currentUser;if(r){const i=Zt(Bt,"users",r.uid);yield gS(i,{notificationToken:n},{merge:!0})}else console.warn("Utente non autenticato. Non \xe8 possibile salvare il token.")}else console.log("No registration token available. Request permission to generate one.")});return function(n){return e.apply(this,arguments)}}()).catch(e=>{console.log("An error occurred while retrieving token. ",e)})}catch(t){console.error("Errore durante la richiesta del permesso:",t)}}),IS.apply(this,arguments)}function B$(){return wS.apply(this,arguments)}function wS(){return wS=g(function*(){try{const t=Ye.currentUser;if(t){const n=yield(yield fetch("https://us-central1-hacked23-24.cloudfunctions.net/sendNotification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:t.uid})})).json();console.log(n)}else console.warn("Utente non autenticato.")}catch(t){console.error("Errore durante l'invio della notifica:",t)}}),wS.apply(this,arguments)}function Ude(){return TS.apply(this,arguments)}function TS(){return TS=g(function*(){try{const t=Ye.currentUser,e=3e3;if(t){const r=yield(yield fetch("https://us-central1-hacked23-24.cloudfunctions.net/sendNotificationDelayed",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:t.uid,delay:e})})).json();console.log(r),console.log("bg data")}else console.warn("Utente non autenticato.")}catch(t){console.error("Errore durante l'invio della notifica:",t)}}),TS.apply(this,arguments)}!function Hoe(t,e){(function Boe(t,e){if(!navigator)throw Wt.create("only-available-in-window");t.onMessageHandler=e})(t=We(t),e)}(F$,t=>{console.log("Notifica da onMessage:",t),t.notification?"granted"===Notification.permission?new Notification(t.notification.title||"Titolo predefinito",{body:t.notification.body||"Corpo predefinito"}):console.warn("Permesso per le notifiche non concesso."):console.warn("Notifica senza contenuto.")});const Bde="https://random-user-by-api-ninjas.p.rapidapi.com/v1/randomuser",jde={method:"GET",headers:{"X-RapidAPI-Key":"34f54b7ca9mshae462c74aeccbc2p12b2d4jsncf73428f9321","X-RapidAPI-Host":"random-user-by-api-ninjas.p.rapidapi.com"}};function j$(){return CS.apply(this,arguments)}function CS(){return(CS=g(function*(){const n=(yield(yield fetch(Bde,jde)).json()).username;return console.log(n),n})).apply(this,arguments)}let di=(()=>{class t{constructor(){this.userSubject=new zn(null),this.user$=this.userSubject.asObservable(),function hie(t,e,n,r){We(t).onAuthStateChanged(e,n,r)}(Ye,n=>{console.log("User: ",n),this.userSubject.next(n||null)})}isLoggedIn(){return!!this.userSubject.value}getUserUid(){return this.userSubject.value?.uid||""}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$$=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(T(Ei),T(an))};static#t=this.\u0275dir=Z({type:t})}return t})(),Ko=(()=>{class t extends $${static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=zt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,features:[Te]})}return t})();const Tr=new U("NgValueAccessor"),Gde={provide:Tr,useExisting:Ne(()=>Rm),multi:!0},qde=new U("CompositionEventMode");let Rm=(()=>{class t extends $${constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zde(){const t=cs()?cs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(T(Ei),T(an),T(qde,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ke("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Be([Gde]),Te]})}return t})();const pn=new U("NgValidators"),Bs=new U("NgAsyncValidators");function Z$(t){return null!=t}function eH(t){return Jc(t)?Ct(t):t}function tH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function nH(t,e){return e.map(n=>n(t))}function rH(t){return t.map(e=>function Kde(t){return!t.validate}(e)?e:n=>e.validate(n))}function DS(t){return null!=t?function iH(t){if(!t)return null;const e=t.filter(Z$);return 0==e.length?null:function(n){return tH(nH(n,e))}}(rH(t)):null}function AS(t){return null!=t?function sH(t){if(!t)return null;const e=t.filter(Z$);return 0==e.length?null:function(n){return function $de(...t){const e=b0(t),{args:n,keys:r}=gO(t),i=new ze(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;en(n[l]).subscribe(dt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?mO(r,a):a),s.complete())}))}});return e?i.pipe(OE(e)):i}(nH(n,e).map(eH)).pipe(le(tH))}}(rH(t)):null}function oH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function SS(t){return t?Array.isArray(t)?t:[t]:[]}function Pm(t,e){return Array.isArray(t)?t.includes(e):t===e}function cH(t,e){const n=SS(e);return SS(t).forEach(i=>{Pm(n,i)||n.push(i)}),n}function lH(t,e){return SS(e).filter(n=>!Pm(t,n))}class dH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Nn extends dH{get formDirective(){return null}get path(){return null}}class js extends dH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mm=(()=>{class t extends hH{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(T(js,2))};static#t=this.\u0275dir=Z({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&as("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Te]})}return t})();const eh="VALID",km="INVALID",sc="PENDING",th="DISABLED";function Om(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class mH{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===eh}get invalid(){return this.status===km}get pending(){return this.status==sc}get disabled(){return this.status===th}get enabled(){return this.status!==th}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lH(e,this._rawAsyncValidators))}hasValidator(e){return Pm(this._rawValidators,e)}hasAsyncValidator(e){return Pm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=th,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=eh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eh||this.status===sc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?th:eh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sc,this._hasOwnPendingAsyncValidator=!0;const n=eH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new P,this.statusChanges=new P}_calculateStatus(){return this._allControlsDisabled()?th:this.errors?km:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sc)?sc:this._anyControlsHaveStatus(km)?km:eh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Om(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Zde(t){return Array.isArray(t)?DS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function ehe(t){return Array.isArray(t)?AS(t):t||null}(this._rawAsyncValidators)}}const oc=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Vm}),Vm="always";function nh(t,e,n=Vm){(function kS(t,e){const n=function aH(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(oH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function uH(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(oH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Um(e._rawValidators,i),Um(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function rhe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_H(t,e)})}(t,e),function she(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function ihe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_H(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function nhe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Um(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function _H(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function EH(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function IH(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const wH=class extends mH{constructor(e=null,n,r){super(function PS(t){return(Om(t)?t.validators:t)||null}(n),function MS(t,e){return(Om(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Om(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=IH(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){IH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},fhe={provide:js,useExisting:Ne(()=>ih)},CH=(()=>Promise.resolve())();let ih=(()=>{class t extends js{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new wH,this._registered=!1,this.name="",this.update=new P,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function FS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Rm?n=s:function uhe(t){return Object.getPrototypeOf(t.constructor)===Ko}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function VS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){CH.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Ka(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);CH.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Fm(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(T(Nn,9),T(pn,10),T(Bs,10),T(Tr,10),T(qf,8),T(oc,8))};static#t=this.\u0275dir=Z({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Be([fhe]),Te,Kn]})}return t})(),AH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({})}return t})();const bhe={provide:Tr,useExisting:Ne(()=>jm),multi:!0};function kH(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let jm=(()=>{class t extends Ko{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=kH(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Che(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=zt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ke("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([bhe]),Te]})}return t})(),OH=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(kH(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(T(an),T(Ei),T(jm,9))};static#t=this.\u0275dir=Z({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Dhe={provide:Tr,useExisting:Ne(()=>$S),multi:!0};function VH(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let $S=(()=>{class t extends Ko{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Ahe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=zt(t)))(i||t)}}();static#t=this.\u0275dir=Z({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ke("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([Dhe]),Te]})}return t})(),FH=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(VH(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(VH(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(T(an),T(Ei),T($S,9))};static#t=this.\u0275dir=Z({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),Vhe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({imports:[AH]})}return t})(),WH=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:oc,useValue:n.callSetDisabledState??Vm}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({imports:[Vhe]})}return t})();function Lhe(t,e){1&t&&(x(0,"a",17),k(1,"Profile"),S())}function Uhe(t,e){1&t&&(x(0,"a",18)(1,"strong"),k(2,"Login"),S()())}function Bhe(t,e){1&t&&(x(0,"a",19)(1,"strong"),k(2,"Dashboard"),S()())}let Yo=(()=>{class t{constructor(n){this.authService=n,this.isMenuActive=!1}toggleMenu(){this.isMenuActive=!this.isMenuActive}static#e=this.\u0275fac=function(r){return new(r||t)(T(di))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-navbar"]],decls:24,vars:7,consts:[["role","navigation","aria-label","main navigation",1,"navbar"],[1,"container"],[1,"navbar-brand"],["href","/",1,"navbar-item"],["id","test","role","button","aria-label","menu","aria-expanded","false",1,"navbar-burger",3,"click"],["aria-hidden","true"],["id","navbarBasicExample",1,"navbar-menu"],[1,"navbar-start"],["href","/leaderboard",1,"navbar-item"],["href","/trophies",1,"navbar-item"],["class","navbar-item","href","/user",4,"ngIf"],["href","/exercises",1,"navbar-item"],[1,"navbar-end"],[1,"navbar-item"],[1,"buttons"],["class","button is-primary","href","/auth",4,"ngIf"],["class","button is-primary","href","/user",4,"ngIf"],["href","/user",1,"navbar-item"],["href","/auth",1,"button","is-primary"],["href","/user",1,"button","is-primary"]],template:function(r,i){1&r&&(x(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"strong"),k(5,"HackEd"),S()(),x(6,"a",4),ke("click",function(){return i.toggleMenu()}),qe(7,"span",5)(8,"span",5)(9,"span",5),S()(),x(10,"div",6)(11,"div",7)(12,"a",8),k(13,"Leaderboard"),S(),x(14,"a",9),k(15,"Trophies"),S(),st(16,Lhe,2,0,"a",10),x(17,"a",11),k(18,"Exercises"),S()(),x(19,"div",12)(20,"div",13)(21,"div",14),st(22,Uhe,3,0,"a",15),st(23,Bhe,3,0,"a",16),S()()()()()()),2&r&&(K(6),as("is-active",i.isMenuActive),K(4),as("is-active",i.isMenuActive),K(6),Se("ngIf",!i.authService.isLoggedIn()),K(6),Se("ngIf",!i.authService.isLoggedIn()),K(1),Se("ngIf",i.authService.isLoggedIn()))},dependencies:[hl]})}return t})();function jhe(t,e){if(1&t&&(x(0,"option",16),k(1),S()),2&t){const n=e.$implicit;Se("value",n),K(1),_r(n)}}function $he(t,e){if(1&t&&(x(0,"p",19),k(1,"Your username: "),x(2,"strong"),k(3),S()()),2&t){const n=Mt(3);K(3),_r(n.username)}}function Hhe(t,e){if(1&t&&(x(0,"p"),k(1,"Your clan: "),x(2,"strong"),k(3),S()()),2&t){const n=Mt(3);K(3),_r(n.selectedClan)}}function Ghe(t,e){if(1&t){const n=Qr();x(0,"div")(1,"h2",5),k(2,"Your Random Username"),S(),x(3,"button",17),ke("click",function(){return fr(n),pr(Mt(2).generateRandomUsername())}),k(4,"Generate Random Username"),S(),st(5,$he,4,1,"p",18),st(6,Hhe,4,1,"p",12),S()}if(2&t){const n=Mt(2);K(5),Se("ngIf",n.username),K(1),Se("ngIf",n.username)}}function zhe(t,e){if(1&t){const n=Qr();x(0,"div",20)(1,"h2",5),k(2,"Ready to Join HackEd?"),S(),x(3,"button",21),ke("click",function(){return fr(n),pr(Mt(2).registerProcedure())}),k(4,"Register with Google"),S()()}if(2&t){const n=Mt(2);K(3),Se("disabled",!n.username)}}function qhe(t,e){if(1&t){const n=Qr();x(0,"div",1)(1,"h1",2),k(2,"Welcome to HackEd"),S(),x(3,"div",3)(4,"div",4)(5,"h2",5),k(6,"Register"),S(),x(7,"div",6)(8,"label",7),k(9,"Choose Your Clan"),S(),x(10,"div",8)(11,"div",9)(12,"select",10),ke("ngModelChange",function(i){return fr(n),pr(Mt().selectedClan=i)})("change",function(){return fr(n),pr(Mt().onClanSelected())}),st(13,jhe,2,2,"option",11),S()()()(),st(14,Ghe,7,2,"div",12),st(15,zhe,5,1,"div",13),S(),x(16,"div",14)(17,"h2",5),k(18,"Coming Back?"),S(),x(19,"button",15),ke("click",function(){return fr(n),pr(Mt().loginWithGoogleDev())}),k(20,"Login"),S()()()()}if(2&t){const n=Mt();K(12),Se("ngModel",n.selectedClan),K(1),Se("ngForOf",n.clans),K(1),Se("ngIf",n.selectedClan),K(1),Se("ngIf",n.selectedClan)}}let Whe=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.getRandomUsername=j$,this.loginWithGoogleDev=Vde,this.isLogged=!1,this.username="",this.clans=["Binary Battlers","Crypto Crusaders","Network Nomads","System Sentinels"],this.selectedClan="",this.clanSelected=!1}ngOnInit(){this.authService.user$.subscribe(n=>{n?(this.isLogged=!0,this.router.navigate(["/user"])):this.isLogged=!1})}onClanSelected(){this.selectedClan&&(this.clanSelected=!0)}generateRandomUsername(){var n=this;return g(function*(){n.username=yield j$(),console.log(n.username)})()}registerProcedure(){var n=this;return g(function*(){yield function Fde(){return vS.apply(this,arguments)}(),console.log("Chiamata a usernameToServer() iniziata...");const r=n.username;if(console.log("Username ottenuto:",r),r)if(Ye.currentUser){const i=Ye.currentUser.uid,s=Ye.currentUser.email,o=Zt(Bt,"users",i);console.log("Tentativo di scrittura nel database con UID:",i),yield gS(o,{email:s,username:r,registrationCompleted:!0,level:1,exercises_solved:0,clan:n.selectedClan,exp:0,solved_exercises:[],percentage:0},{merge:!0});const a=yield lr(o);console.log(a.data()),console.log("Scrittura nel database completata.")}else console.error("No user uid found");else console.error("Errore nel generare un username casuale!")})()}static#e=this.\u0275fac=function(r){return new(r||t)(T(di),T(Rn))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-auth"]],decls:2,vars:1,consts:[["class","auth-container",4,"ngIf"],[1,"auth-container"],[1,"title","has-text-centered"],[1,"columns","is-centered","is-8"],[1,"column","has-border-right","pl-10","has-text-centered"],[1,"subtitle"],[1,"field"],[1,"label"],[1,"control"],[1,"select"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"column","pl-5","has-text-centered"],[1,"button","is-info",3,"click"],[3,"value"],[1,"button","is-primary",3,"click"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"mt-4"],[1,"button","is-success",3,"disabled","click"]],template:function(r,i){1&r&&(qe(0,"app-navbar"),st(1,qhe,21,4,"div",0)),2&r&&(K(1),Se("ngIf",!i.isLogged))},dependencies:[Ya,hl,OH,FH,jm,Mm,ih,Yo],styles:[".has-border-right[_ngcontent-%COMP%]{border-right:1px solid #d5d5d5;padding-right:1.5rem;margin-right:1.5rem}"]})}return t})(),Khe=(()=>{class t{constructor(n){this.auth=n}static#e=this.\u0275fac=function(r){return new(r||t)(T(di))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-home-content"]],decls:54,vars:0,consts:[[1,"hero","is-medium","is-primary"],[1,"hero-body"],[1,"container"],[1,"title"],[1,"subtitle"],[1,"section"],[1,"my-5"],[1,"columns"],[1,"column"],[1,"title","is-4"],[1,"container","has-text-centered"],["href","/auth",1,"button","is-medium","is-primary"],[1,"footer"],[1,"content","has-text-centered"]],template:function(r,i){1&r&&(qe(0,"app-navbar"),x(1,"body")(2,"section",0)(3,"div",1)(4,"div",2)(5,"h1",3),k(6,"Welcome to HackEd!"),S(),x(7,"h2",4),k(8,"Your portal to learn and improve in cybersecurity."),S()()()(),x(9,"section",5)(10,"div",2)(11,"h2",3),k(12,"Challenges and Clans"),S(),x(13,"p",6),k(14," Take on practical cybersecurity challenges and join one of the 4 competing clans. Collaborate, compete, and reach the top! "),S(),x(15,"div",7)(16,"div",8)(17,"h3",9),k(18,"Binary Battlers"),S(),x(19,"p"),k(20," Heroes of the digital world, they translate reality into zeros and ones, protecting every bit and byte in the vast digital universe. "),S()(),x(21,"div",8)(22,"h3",9),k(23,"Crypto Crusaders"),S(),x(24,"p"),k(25," Guardians of the Cyberspace secrets, they hold ancient keys, deciphering riddles and keeping information safe. "),S()(),x(26,"div",8)(27,"h3",9),k(28,"Network Nomads"),S(),x(29,"p"),k(30," Internet explorers, they travel through the vast network, ensuring every packet reaches its destination. "),S()(),x(31,"div",8)(32,"h3",9),k(33,"System Sentinels"),S(),x(34,"p"),k(35," Protectors of operating systems, they watch over every process, guarding the digital essence from threats and intruders. "),S()()()()(),x(36,"section",5)(37,"div",2)(38,"h2",3),k(39,"Certificates and Trophies"),S(),x(40,"p"),k(41," Earn certificates for every completed challenge and proudly display your conquered trophies. Learn, compete, and become a master of cybersecurity. "),S()()(),x(42,"section",5)(43,"div",10)(44,"h2",3),k(45,"Ready to join?"),S(),x(46,"p",6),k(47," Sign up now and start your journey in cybersecurity. "),S(),x(48,"a",11),k(49,"Register"),S()()(),x(50,"footer",12)(51,"div",13)(52,"p"),k(53," \xa9 2023 HackEd. All rights reserved. "),S()()()())},dependencies:[Yo]})}return t})();class $m{}class Hm{}class hi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof hi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new hi;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof hi?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Yhe{encodeKey(e){return KH(e)}encodeValue(e){return KH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Jhe=/%(\d[a-f0-9])/gi,Zhe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function KH(t){return encodeURIComponent(t).replace(Jhe,(e,n)=>Zhe[n]??e)}function Gm(t){return`${t}`}class $s{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yhe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xhe(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Gm):[Gm(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new $s({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Gm(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Gm(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class efe{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function QH(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function YH(t){return typeof Blob<"u"&&t instanceof Blob}function XH(t){return typeof FormData<"u"&&t instanceof FormData}class sh{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function tfe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new hi),this.context||(this.context=new efe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new $s,this.urlWithParams=n}serializeBody(){return null===this.body?null:QH(this.body)||YH(this.body)||XH(this.body)||function nfe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $s?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XH(this.body)?null:YH(this.body)?this.body.type||null:QH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $s?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new sh(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var ac=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ac||{});class GS{constructor(e,n=200,r="OK"){this.headers=e.headers||new hi,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class zS extends GS{constructor(e={}){super(e),this.type=ac.ResponseHeader}clone(e={}){return new zS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uc extends GS{constructor(e={}){super(e),this.type=ac.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new uc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class JH extends GS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function qS(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let zm=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof sh)s=n;else{let u,c;u=i.headers instanceof hi?i.headers:new hi(i.headers),i.params&&(c=i.params instanceof $s?i.params:new $s({fromObject:i.params})),s=new sh(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Q(s).pipe(Ja(u=>this.handler.handle(u)));if(n instanceof sh||"events"===i.observe)return o;const a=o.pipe(Sn(u=>u instanceof uc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(le(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(le(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(le(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(le(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new $s).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,qS(i,r))}post(n,r,i={}){return this.request("POST",n,qS(i,r))}put(n,r,i={}){return this.request("PUT",n,qS(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(j($m))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function tG(t,e){return e(t)}function ife(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const ofe=new U(""),oh=new U(""),nG=new U("");function afe(){let t=null;return(e,n)=>{null===t&&(t=(B(ofe,{optional:!0})??[]).reduceRight(ife,tG));const r=B($f),i=r.add();return t(e,n).pipe(yl(()=>r.remove(i)))}}let rG=(()=>{class t extends $m{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=B($f)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(oh),...this.injector.get(nG,[])]));this.chain=i.reduceRight((s,o)=>function sfe(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(s,o,this.injector),tG)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(yl(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(j(Hm),j(Zn))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const dfe=/^\)\]\}',?\n/;let sG=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new D(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ct(r.\u0275loadImpl()):Q(null)).pipe(tn(()=>new ze(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((m,_)=>o.setRequestHeader(m,_.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const m=n.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(n.responseType){const m=n.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const m=o.statusText||"OK",_=new hi(o.getAllResponseHeaders()),v=function hfe(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return u=new zS({headers:_,status:o.status,statusText:m,url:v}),u},l=()=>{let{headers:m,status:_,statusText:v,url:y}=c(),w=null;204!==_&&(w=typeof o.response>"u"?o.responseText:o.response),0===_&&(_=w?200:0);let R=_>=200&&_<300;if("json"===n.responseType&&"string"==typeof w){const N=w;w=w.replace(dfe,"");try{w=""!==w?JSON.parse(w):null}catch(G){w=N,R&&(R=!1,w={error:G,text:w})}}R?(s.next(new uc({body:w,headers:m,status:_,statusText:v,url:y||void 0})),s.complete()):s.error(new JH({error:w,headers:m,status:_,statusText:v,url:y||void 0}))},d=m=>{const{url:_}=c(),v=new JH({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});s.error(v)};let h=!1;const f=m=>{h||(s.next(c()),h=!0);let _={type:ac.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(_.total=m.total),"text"===n.responseType&&o.responseText&&(_.partialText=o.responseText),s.next(_)},p=m=>{let _={type:ac.UploadProgress,loaded:m.loaded};m.lengthComputable&&(_.total=m.total),s.next(_)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:ac.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(j(q1))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const WS=new U("XSRF_ENABLED"),oG=new U("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),aG=new U("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class uG{}let gfe=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=O1(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(j(Cn),j(Sr),j(oG))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function mfe(t,e){const n=t.url.toLowerCase();if(!B(WS)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=B(uG).getToken(),i=B(aG);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Hs=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Hs||{});function _fe(...t){const e=[zm,sG,rG,{provide:$m,useExisting:rG},{provide:Hm,useExisting:sG},{provide:oh,useValue:mfe,multi:!0},{provide:WS,useValue:!0},{provide:uG,useClass:gfe}];for(const n of t)e.push(...n.\u0275providers);return uf(e)}const cG=new U("LEGACY_INTERCEPTOR_FN");function yfe(){return function Xo(t,e){return{\u0275kind:t,\u0275providers:e}}(Hs.LegacyInterceptors,[{provide:cG,useFactory:afe},{provide:oh,useExisting:cG,multi:!0}])}let vfe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({providers:[_fe(yfe())]})}return t})(),Cfe=(()=>{class t{constructor(n){this.http=n,this.API_ENDPOINT="https://brave-rabbit-annually.ngrok-free.app/api/compile"}handleCompile(n,r,i){var s=this;return g(function*(){const o={code:n,input:r,languageId:i},a={"ngrok-skip-browser-warning":"true"};try{const u=yield function Qhe(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new ta({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new gl)}});t.subscribe(s)})}(s.http.post(s.API_ENDPOINT,o,{headers:a}));if(u&&u.output)return u.output;throw new Error("Output not found in the response")}catch(u){throw console.error("Error during compilation:",u),u}})()}static#e=this.\u0275fac=function(r){return new(r||t)(j(zm))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lG=(()=>{class t{constructor(){this.trophies=[{id:1,description:"Risolvi il primo esercizio",requirement:"hello-security",unlocked:!1,iconURL:"/assets/trophy.png"},{id:2,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"},{id:3,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"},{id:4,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"},{id:5,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"}]}isExerciseSolvedByUser(n,r){return g(function*(){try{const i=Zt(Bt,"users",n);return((yield lr(i)).get("solved_exercises")||[]).includes(r)}catch(i){return console.error("Error:",i),!1}})()}updateTrophiesForUser(n){var r=this;return g(function*(){for(const i of r.trophies)i.unlocked=yield r.isExerciseSolvedByUser(n,i.requirement)})()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Dfe=["addListener","removeListener"],Afe=["addEventListener","removeEventListener"],Sfe=["on","off"];function Jo(t,e,n,r){if(he(n)&&(r=n,n=void 0),r)return Jo(t,e,n).pipe(OE(r));const[i,s]=function Pfe(t){return he(t.addEventListener)&&he(t.removeEventListener)}(t)?Afe.map(o=>a=>t[o](e,a,n)):function Rfe(t){return he(t.addListener)&&he(t.removeListener)}(t)?Dfe.map(dG(t,e)):function xfe(t){return he(t.on)&&he(t.off)}(t)?Sfe.map(dG(t,e)):[];if(!i&&c_(t))return bt(o=>Jo(o,e,n))(en(t));if(!i)throw new TypeError("Invalid event target");return new ze(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function dG(t,e){return n=>r=>t[n](e,r)}const Mfe=["editorContainer"],KS=new U("NGX_MONACO_EDITOR_CONFIG");let fG,hG=!1,Nfe=(()=>{class t{set insideNg(n){this._insideNg=n,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}constructor(n){this.config=n,this.onInit=new P,this._insideNg=!1}ngAfterViewInit(){hG?fG.then(()=>{this.initMonaco(this._options,this.insideNg)}):(hG=!0,fG=new Promise(n=>{const r=this.config.baseUrl||"./assets";if("object"==typeof window.monaco)return this.initMonaco(this._options,this.insideNg),void n();const i=a=>{let u=a||window.require,c={paths:{vs:`${r}/monaco/min/vs`}};Object.assign(c,this.config.requireConfig||{}),u.config(c),u(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),n()})};if(this.config.monacoRequire)i(this.config.monacoRequire);else if(window.require)if(window.require.config)i();else{var s=`${r}/monaco/min/vs/loader.js`,o=new XMLHttpRequest;o.addEventListener("load",()=>{let a=document.createElement("script");a.type="text/javascript",a.text=["var nodeRequire = require;",o.responseText.replace('"use strict";',""),"var monacoAmdRequire = require;","require = nodeRequire;","require.nodeRequire = require;"].join("\n"),document.body.appendChild(a),i(window.monacoAmdRequire)}),o.open("GET",s),o.send()}else{const a=document.createElement("script");a.type="text/javascript",a.src=`${r}/monaco/min/vs/loader.js`,a.addEventListener("load",()=>{i()}),document.body.appendChild(a)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}static#e=this.\u0275fac=function(r){return new(r||t)(T(KS))};static#t=this.\u0275cmp=At({type:t,selectors:[["ng-component"]],viewQuery:function(r,i){if(1&r&&vk(Mfe,7),2&r){let s;Uv(s=function Bv(){return function p7(t,e){return t[Br].queries[e].queryList}(b(),PR())}())&&(i._editorContainer=s.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})(),kfe=(()=>{class t extends Nfe{set options(n){this._options=Object.assign({},this.config.defaultOptions,n),this._editor&&(this._editor.dispose(),this.initMonaco(n,this.insideNg))}get options(){return this._options}set model(n){this.options.model=n,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}constructor(n,r){super(r),this.zone=n,this.editorConfig=r,this._value="",this.propagateChange=i=>{},this.onTouched=()=>{}}writeValue(n){this._value=n||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(n){this.propagateChange=n}registerOnTouched(n){this.onTouched=n}initMonaco(n,r){const i=!!n.model;if(i){const s=monaco.editor.getModel(n.model.uri||"");s?(n.model=s,n.model.setValue(this._value)):n.model=monaco.editor.createModel(n.model.value,n.model.language,n.model.uri)}r?this._editor=monaco.editor.create(this._editorContainer.nativeElement,n):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,n)}),i||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(s=>{const o=this._editor.getValue();this.zone.run(()=>{this.propagateChange(o),this._value=o})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=Jo(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}static#e=this.\u0275fac=function(r){return new(r||t)(T(Ae),T(KS))};static#t=this.\u0275cmp=At({type:t,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[Be([{provide:Tr,useExisting:Ne(()=>t),multi:!0}]),Te],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(r,i){1&r&&qe(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"]})}return t})(),Ofe=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[{provide:KS,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({imports:[ap]})}return t})();class Vfe extends kn{constructor(e,n){super()}schedule(e,n=0){return this}}const Wm={setInterval(t,e,...n){const{delegate:r}=Wm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Wm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},QS={now:()=>(QS.delegate||Date).now(),delegate:void 0};class ah{constructor(e,n=ah.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ah.now=QS.now;const pG=new class Lfe extends ah{constructor(e,n=ah.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class Ffe extends Vfe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Wm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Wm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ea(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),Ufe=pG;function gG(t=0,e,n=Ufe){let r=-1;return null!=e&&(T0(e)?n=e:r=e),new ze(i=>{let s=function Bfe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}class jfe extends Tt{constructor(e=1/0,n=1/0,r=QS){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function mG(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,d_({connector:()=>new jfe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}let Zo={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const yG=/[&<>"']/,Hfe=new RegExp(yG.source,"g"),vG=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Gfe=new RegExp(vG.source,"g"),zfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},EG=t=>zfe[t];function gn(t,e){if(e){if(yG.test(t))return t.replace(Hfe,EG)}else if(vG.test(t))return t.replace(Gfe,EG);return t}const qfe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function IG(t){return t.replace(qfe,(e,n)=>"colon"===(n=n.toLowerCase())?":":"#"===n.charAt(0)?"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):"")}const Wfe=/(^|[^\[])\^/g;function Ve(t,e){t="string"==typeof t?t:t.source,e=e||"";const n={replace:(r,i)=>(i=(i=i.source||i).replace(Wfe,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const Kfe=/[^\w:]/g,Qfe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function wG(t,e,n){if(t){let r;try{r=decodeURIComponent(IG(n)).replace(Kfe,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!Qfe.test(n)&&(n=function Zfe(t,e){Km[" "+t]||(Km[" "+t]=Yfe.test(t)?t+"/":Ym(t,"/",!0));const n=-1===(t=Km[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(Xfe,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(Jfe,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Km={},Yfe=/^[^:]+:\/*[^/]*$/,Xfe=/^([^:]+:)[\s\S]*$/,Jfe=/^([^:]+:\/*[^/]*)[\s\S]*$/,Qm={exec:function(){}};function TG(t,e){const r=t.replace(/\|/g,(s,o,a)=>{let u=!1,c=o;for(;--c>=0&&"\\"===a[c];)u=!u;return u?"|":" |"}).split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Ym(t,e,n){const r=t.length;if(0===r)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s!==e||n){if(s===e||!n)break;i++}else i++}return t.slice(0,r-i)}function bG(t,e){if(e<1)return"";let n="";for(;e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t}function CG(t,e,n,r){const i=e.href,s=e.title?gn(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:s,text:gn(o)}}class YS{constructor(e){this.options=e||Zo}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ym(r,"\n")}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=function npe(t,e){const n=t.match(/^(\s+)(?:```)/);if(null===n)return e;const r=n[1];return e.split("\n").map(i=>{const s=i.match(/^\s+/);if(null===s)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join("\n")}(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=Ym(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,s,o,a,u,c,l,d,h,f,p,m=n[1].trim();const _=m.length>1,v={type:"list",raw:"",ordered:_,start:_?+m.slice(0,-1):"",loose:!1,items:[]};m=_?`\\d{1,9}\\${m.slice(-1)}`:`\\${m}`,this.options.pedantic&&(m=_?m:"[*+-]");const y=new RegExp(`^( {0,3}${m})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,(n=y.exec(e))&&!this.rules.block.hr.test(e));){if(r=n[0],e=e.substring(r.length),l=n[2].split("\n",1)[0].replace(/^\t+/,R=>" ".repeat(3*R.length)),d=e.split("\n",1)[0],this.options.pedantic?(o=2,f=l.trimLeft()):(o=n[2].search(/[^ ]/),o=o>4?1:o,f=l.slice(o),o+=n[1].length),u=!1,!l&&/^ *$/.test(d)&&(r+=d+"\n",e=e.substring(d.length+1),p=!0),!p){const R=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),N=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),G=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),de=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(h=e.split("\n",1)[0],d=h,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(G.test(d)||de.test(d)||R.test(d)||N.test(e)));){if(d.search(/[^ ]/)>=o||!d.trim())f+="\n"+d.slice(o);else{if(u||l.search(/[^ ]/)>=4||G.test(l)||de.test(l)||N.test(l))break;f+="\n"+d}!u&&!d.trim()&&(u=!0),r+=h+"\n",e=e.substring(h.length+1),l=d.slice(o)}}v.loose||(c?v.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(f),i&&(s="[ ] "!==i[0],f=f.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:f}),v.raw+=r}v.items[v.items.length-1].raw=r.trimRight(),v.items[v.items.length-1].text=f.trimRight(),v.raw=v.raw.trimRight();const w=v.items.length;for(a=0;a<w;a++)if(this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]),!v.loose){const R=v.items[a].tokens.filter(G=>"space"===G.type),N=R.length>0&&R.some(G=>/\n.*\n/.test(G.raw));v.loose=N}if(v.loose)for(a=0;a<w;a++)v.items[a].loose=!0;return v}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&("pre"===n[1]||"script"===n[1]||"style"===n[1]),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):gn(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:TG(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=n[0];let s,o,a,u,i=r.align.length;for(s=0;s<i;s++)r.align[s]=/^ *-+: *$/.test(r.align[s])?"right":/^ *:-+: *$/.test(r.align[s])?"center":/^ *:-+ *$/.test(r.align[s])?"left":null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=TG(r.rows[s],r.header.length).map(c=>({text:c}));for(i=r.header.length,o=0;o<i;o++)r.header[o].tokens=this.lexer.inline(r.header[o].text);for(i=r.rows.length,o=0;o<i;o++)for(u=r.rows[o],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:"="===n[2].charAt(0)?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r="\n"===n[1].charAt(n[1].length-1)?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:gn(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):gn(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=Ym(r.slice(0,-1),"\\");if((r.length-o.length)%2==0)return}else{const o=function epe(t,e){if(-1===t.indexOf(e[1]))return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}(n[2],"()");if(o>-1){const u=(0===n[0].indexOf("!")?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,u).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(r)?i.slice(1):i.slice(1,-1)),CG(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return CG(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const s=i[1]||i[2]||"";if(!s||s&&(""===r||this.rules.inline.punctuation.exec(r))){const o=i[0].length-1;let a,u,c=o,l=0;const d="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+o);null!=(i=d.exec(n));){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(u=a.length,i[3]||i[4]){c+=u;continue}if((i[5]||i[6])&&o%3&&!((o+u)%3)){l+=u;continue}if(c-=u,c>0)continue;u=Math.min(u,u+c+l);const h=e.slice(0,o+i.index+(i[0].length-a.length)+u);if(Math.min(o,u)%2){const p=h.slice(1,-1);return{type:"em",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}const f=h.slice(2,-2);return{type:"strong",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=gn(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,s;return"@"===r[2]?(i=gn(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=gn(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if("@"===r[2])i=gn(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let o;do{o=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(o!==r[0]);i=gn(r[0]),s="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):gn(r[0]):r[0]:gn(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const Y={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Qm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Y.def=Ve(Y.def).replace("label",Y._label).replace("title",Y._title).getRegex(),Y.bullet=/(?:[*+-]|\d{1,9}[.)])/,Y.listItemStart=Ve(/^( *)(bull) */).replace("bull",Y.bullet).getRegex(),Y.list=Ve(Y.list).replace(/bull/g,Y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Y.def.source+")").getRegex(),Y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Y._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Y.html=Ve(Y.html,"i").replace("comment",Y._comment).replace("tag",Y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Y.paragraph=Ve(Y._paragraph).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.blockquote=Ve(Y.blockquote).replace("paragraph",Y.paragraph).getRegex(),Y.normal={...Y},Y.gfm={...Y.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Y.gfm.table=Ve(Y.gfm.table).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.gfm.paragraph=Ve(Y._paragraph).replace("hr",Y.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Y.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Y._tag).getRegex(),Y.pedantic={...Y.normal,html:Ve("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Qm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ve(Y.normal._paragraph).replace("hr",Y.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Y.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const H={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Qm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Qm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function rpe(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function DG(t){let n,r,e="";const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}H._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",H.punctuation=Ve(H.punctuation).replace(/punctuation/g,H._punctuation).getRegex(),H.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,H.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,H._comment=Ve(Y._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),H.emStrong.lDelim=Ve(H.emStrong.lDelim).replace(/punct/g,H._punctuation).getRegex(),H.emStrong.rDelimAst=Ve(H.emStrong.rDelimAst,"g").replace(/punct/g,H._punctuation).getRegex(),H.emStrong.rDelimUnd=Ve(H.emStrong.rDelimUnd,"g").replace(/punct/g,H._punctuation).getRegex(),H._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,H._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,H._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,H.autolink=Ve(H.autolink).replace("scheme",H._scheme).replace("email",H._email).getRegex(),H._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,H.tag=Ve(H.tag).replace("comment",H._comment).replace("attribute",H._attribute).getRegex(),H._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,H._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,H._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,H.link=Ve(H.link).replace("label",H._label).replace("href",H._href).replace("title",H._title).getRegex(),H.reflink=Ve(H.reflink).replace("label",H._label).replace("ref",Y._label).getRegex(),H.nolink=Ve(H.nolink).replace("ref",Y._label).getRegex(),H.reflinkSearch=Ve(H.reflinkSearch,"g").replace("reflink",H.reflink).replace("nolink",H.nolink).getRegex(),H.normal={...H},H.pedantic={...H.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ve(/^!?\[(label)\]\((.*?)\)/).replace("label",H._label).getRegex(),reflink:Ve(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",H._label).getRegex()},H.gfm={...H.normal,escape:Ve(H.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},H.gfm.url=Ve(H.gfm.url,"i").replace("email",H.gfm._extended_email).getRegex(),H.breaks={...H.gfm,br:Ve(H.br).replace("{2,}","*").getRegex(),text:Ve(H.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Gs{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Zo,this.options.tokenizer=this.options.tokenizer||new YS,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Y.normal,inline:H.normal};this.options.pedantic?(n.block=Y.pedantic,n.inline=H.pedantic):this.options.gfm&&(n.block=Y.gfm,n.inline=this.options.breaks?H.breaks:H.gfm),this.tokenizer.rules=n}static get rules(){return{block:Y,inline:H}}static lex(e,n){return new Gs(n).lex(e)}static lexInline(e,n){return new Gs(n).inlineTokens(e)}lex(e){let n;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){let r,i,s,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,c)=>u+"    ".repeat(c.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,n))&&(e=e.substring(r.raw.length),n.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&n.length>0?n[n.length-1].raw+="\n":n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?n.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(l){c=l.call({lexer:this},u),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],o&&"paragraph"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,a,u,c,o=e;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(o));)l.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+bG("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(o));)o=o.slice(0,a.index)+"["+bG("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(o));)o=o.slice(0,a.index+a[0].length-2)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(c=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(l=>!!(r=l.call({lexer:this},e,n))&&(e=e.substring(r.raw.length),n.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,c)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,DG)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,DG))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let l=1/0;const d=e.slice(1);let h;this.options.extensions.startInline.forEach(function(f){h=f.call({lexer:this},d),"number"==typeof h&&h>=0&&(l=Math.min(l,h))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(r=this.tokenizer.inlineText(s,rpe)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(c=r.raw.slice(-1)),u=!0,i=n[n.length-1],i&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}}return n}}class uh{constructor(e){this.options=e||Zo}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);null!=s&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+gn(i)+'">'+(r?e:gn(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:gn(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,n,r,i){return this.options.headerIds?`<h${n} id="${this.options.headerPrefix+i.slug(r)}">${e}</h${n}>\n`:`<h${n}>${e}</h${n}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,n,r){const i=n?"ol":"ul";return"<"+i+(n&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+n+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(null===(e=wG(this.options.sanitize,this.options.baseUrl,e)))return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(null===(e=wG(this.options.sanitize,this.options.baseUrl,e)))return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class AG{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class SG{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do{i++,r=e+"-"+i}while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}class zs{constructor(e){this.options=e||Zo,this.options.renderer=this.options.renderer||new uh,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new AG,this.slugger=new SG}static parse(e,n){return new zs(n).parse(e)}static parseInline(e,n){return new zs(n).parseInline(e)}parse(e,n=!0){let i,s,o,a,u,c,l,d,h,f,p,m,_,v,y,w,R,N,G,r="";const de=e.length;for(i=0;i<de;i++)if(f=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(G=this.options.extensions.renderers[f.type].call({parser:this},f),!1!==G||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)))r+=G||"";else switch(f.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(f.tokens),f.depth,IG(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(f.text,f.lang,f.escaped);continue;case"table":for(d="",l="",a=f.header.length,s=0;s<a;s++)l+=this.renderer.tablecell(this.parseInline(f.header[s].tokens),{header:!0,align:f.align[s]});for(d+=this.renderer.tablerow(l),h="",a=f.rows.length,s=0;s<a;s++){for(c=f.rows[s],l="",u=c.length,o=0;o<u;o++)l+=this.renderer.tablecell(this.parseInline(c[o].tokens),{header:!1,align:f.align[o]});h+=this.renderer.tablerow(l)}r+=this.renderer.table(d,h);continue;case"blockquote":h=this.parse(f.tokens),r+=this.renderer.blockquote(h);continue;case"list":for(p=f.ordered,m=f.start,_=f.loose,a=f.items.length,h="",s=0;s<a;s++)y=f.items[s],w=y.checked,R=y.task,v="",y.task&&(N=this.renderer.checkbox(w),_?y.tokens.length>0&&"paragraph"===y.tokens[0].type?(y.tokens[0].text=N+" "+y.tokens[0].text,y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&"text"===y.tokens[0].tokens[0].type&&(y.tokens[0].tokens[0].text=N+" "+y.tokens[0].tokens[0].text)):y.tokens.unshift({type:"text",text:N}):v+=N),v+=this.parse(y.tokens,_),h+=this.renderer.listitem(v,R,w);r+=this.renderer.list(h,p,m);continue;case"html":r+=this.renderer.html(f.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case"text":for(h=f.tokens?this.parseInline(f.tokens):f.text;i+1<de&&"text"===e[i+1].type;)f=e[++i],h+="\n"+(f.tokens?this.parseInline(f.tokens):f.text);r+=n?this.renderer.paragraph(h):h;continue;default:{const rt='Token with "'+f.type+'" type was not found.';if(this.options.silent)return void console.error(rt);throw new Error(rt)}}return r}parseInline(e,n){n=n||this.renderer;let i,s,o,r="";const a=e.length;for(i=0;i<a;i++)if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),!1!==o||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)))r+=o||"";else switch(s.type){case"escape":case"text":r+=n.text(s.text);break;case"html":r+=n.html(s.text);break;case"link":r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break;case"image":r+=n.image(s.href,s.title,s.text);break;case"strong":r+=n.strong(this.parseInline(s.tokens,n));break;case"em":r+=n.em(this.parseInline(s.tokens,n));break;case"codespan":r+=n.codespan(s.text);break;case"br":r+=n.br();break;case"del":r+=n.del(this.parseInline(s.tokens,n));break;default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}class XS{constructor(e){this.options=e||Zo}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function RG(t,e){return(n,r,i)=>{"function"==typeof r&&(i=r,r=null);const s={...r},o=function ipe(t,e,n){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const i="<p>An error occurred:</p><pre>"+gn(r.message+"",!0)+"</pre>";return e?Promise.resolve(i):n?void n(null,i):i}if(e)return Promise.reject(r);if(!n)throw r;n(r)}}((r={...X.defaults,...s}).silent,r.async,i);if(typeof n>"u"||null===n)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function tpe(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(r),r.hooks&&(r.hooks.options=r),i){const a=r.highlight;let u;try{r.hooks&&(n=r.hooks.preprocess(n)),u=t(n,r)}catch(d){return o(d)}const c=function(d){let h;if(!d)try{r.walkTokens&&X.walkTokens(u,r.walkTokens),h=e(u,r),r.hooks&&(h=r.hooks.postprocess(h))}catch(f){d=f}return r.highlight=a,d?o(d):i(null,h)};if(!a||a.length<3||(delete r.highlight,!u.length))return c();let l=0;return X.walkTokens(u,function(d){"code"===d.type&&(l++,setTimeout(()=>{a(d.text,d.lang,function(h,f){if(h)return c(h);null!=f&&f!==d.text&&(d.text=f,d.escaped=!0),l--,0===l&&c()})},0))}),void(0===l&&c())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(a=>t(a,r)).then(a=>r.walkTokens?Promise.all(X.walkTokens(a,r.walkTokens)).then(()=>a):a).then(a=>e(a,r)).then(a=>r.hooks?r.hooks.postprocess(a):a).catch(o);try{r.hooks&&(n=r.hooks.preprocess(n));const a=t(n,r);r.walkTokens&&X.walkTokens(a,r.walkTokens);let u=e(a,r);return r.hooks&&(u=r.hooks.postprocess(u)),u}catch(a){return o(a)}}}function X(t,e,n){return RG(Gs.lex,zs.parse)(t,e,n)}X.options=X.setOptions=function(t){return function $fe(t){Zo=t}(X.defaults={...X.defaults,...t}),X},X.getDefaults=function _G(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},X.defaults=Zo,X.use=function(...t){const e=X.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{const r={...n};if(r.async=X.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers[i.name];e.renderers[i.name]=s?function(...o){let a=i.renderer.apply(this,o);return!1===a&&(a=s.apply(this,o)),a}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){const i=X.defaults.renderer||new uh;for(const s in n.renderer){const o=i[s];i[s]=(...a)=>{let u=n.renderer[s].apply(i,a);return!1===u&&(u=o.apply(i,a)),u}}r.renderer=i}if(n.tokenizer){const i=X.defaults.tokenizer||new YS;for(const s in n.tokenizer){const o=i[s];i[s]=(...a)=>{let u=n.tokenizer[s].apply(i,a);return!1===u&&(u=o.apply(i,a)),u}}r.tokenizer=i}if(n.hooks){const i=X.defaults.hooks||new XS;for(const s in n.hooks){const o=i[s];i[s]=XS.passThroughHooks.has(s)?a=>{if(X.defaults.async)return Promise.resolve(n.hooks[s].call(i,a)).then(c=>o.call(i,c));const u=n.hooks[s].call(i,a);return o.call(i,u)}:(...a)=>{let u=n.hooks[s].apply(i,a);return!1===u&&(u=o.apply(i,a)),u}}r.hooks=i}if(n.walkTokens){const i=X.defaults.walkTokens;r.walkTokens=function(s){let o=[];return o.push(n.walkTokens.call(this,s)),i&&(o=o.concat(i.call(this,s))),o}}X.setOptions(r)})},X.walkTokens=function(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(X,r)),r.type){case"table":for(const i of r.header)n=n.concat(X.walkTokens(i.tokens,e));for(const i of r.rows)for(const s of i)n=n.concat(X.walkTokens(s.tokens,e));break;case"list":n=n.concat(X.walkTokens(r.items,e));break;default:X.defaults.extensions&&X.defaults.extensions.childTokens&&X.defaults.extensions.childTokens[r.type]?X.defaults.extensions.childTokens[r.type].forEach(function(i){n=n.concat(X.walkTokens(r[i],e))}):r.tokens&&(n=n.concat(X.walkTokens(r.tokens,e)))}return n},X.parseInline=RG(Gs.lexInline,zs.parseInline),X.Parser=zs,X.parser=zs.parse,X.Renderer=uh,X.TextRenderer=AG,X.Lexer=Gs,X.lexer=Gs.lex,X.Tokenizer=YS,X.Slugger=SG,X.Hooks=XS,X.parse=X;const spe=["*"];let xG=(()=>{class t{constructor(){this._buttonClick$=new Tt,this.copied$=this._buttonClick$.pipe(tn(()=>gh(Q(!0),gG(3e3).pipe(hp(!1)))),S0(),mG(1)),this.copiedText$=this.copied$.pipe(yO(!1),le(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=At({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(r,i){1&r&&(x(0,"button",0),ke("click",function(){return i.onCopyToClipboardClick()}),xv(1,"async"),k(2),xv(3,"async"),S()),2&r&&(as("copied",Pv(1,3,i.copied$)),K(2),_r(Pv(3,5,i.copiedText$)))},dependencies:[$1],encapsulation:2,changeDetection:0})}return t})();class upe{}var JS=function(t){return t.CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",t}(JS||{});class lpe{}const PG=new U("SECURITY_CONTEXT");let ZS=(()=>{class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,r,i,s,o,a){this.platform=n,this.securityContext=r,this.http=i,this.clipboardOptions=s,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new uh},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Tt,this.reload$=this._reload$.asObservable(),this.options=o}parse(n,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:o,mermaid:a,disableSanitizer:u}=r,c={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(c.renderer||new uh));const l=this.trimIndentation(n),d=i?this.decodeHtml(l):l,h=o?this.parseEmoji(d):d,f=this.parseMarked(h,c,s);return(u?f:this.sanitizer.sanitize(this.securityContext,f))||""}render(n,r=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:o,katex:a,katexOptions:u,mermaid:c,mermaidOptions:l}=r;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...o}),a&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...u}),c&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...l}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(le(r=>this.handleExtension(n,r)))}highlight(n){if(!Ri(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const r=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!Ri(this.platform))return n;const r=document.createElement("textarea");return r.innerHTML=n,r.value}extendRenderer(n){const r=n;if(!0===r.\u0275NgxMarkdownRendererExtended)return n;const i=n.code;return n.code=function(s,o,a){return"mermaid"===o?`<div class="mermaid">${s}</div>`:i.call(this,s,o,a)},r.\u0275NgxMarkdownRendererExtended=!0,n}handleExtension(n,r){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,o=s.lastIndexOf("/"),a=o>-1?s.substring(o+1).split("?")[0]:"",u=a.lastIndexOf("."),c=u>-1?a.substring(u+1):"";return c&&"md"!==c?"```"+c+"\n"+r+"\n```":r}parseMarked(n,r,i=!1){return i?X.parseInline(n,r):X.parse(n,r)}parseEmoji(n){if(!Ri(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,r){if(Ri(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,r)}}renderClipboard(n,r,i){if(!Ri(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:o}=i,a=n.querySelectorAll("pre");for(let u=0;u<a.length;u++){const c=a.item(u),l=document.createElement("div");l.style.position="relative",c.parentNode.insertBefore(l,c),l.appendChild(c);const d=document.createElement("div");let h,f;d.style.position="absolute",d.style.top=".5em",d.style.right=".5em",d.style.opacity="0",d.style.transition="opacity 250ms ease-out",l.insertAdjacentElement("beforeend",d),c.onmouseover=()=>d.style.opacity="1",c.onmouseout=()=>d.style.opacity="0",h=s?r.createComponent(s).hostView:o?r.createEmbeddedView(o):r.createComponent(xG).hostView,h.rootNodes.forEach(p=>{p.onmouseover=()=>d.style.opacity="1",d.appendChild(p),f=new ClipboardJS(p,{text:()=>c.innerText})}),h.onDestroy(()=>f.destroy())}}renderMermaid(n,r=this.DEFAULT_MERMAID_OPTIONS){if(!Ri(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(r),mermaid.init(i))}trimIndentation(n){if(!n)return"";let r;return n.split("\n").map(i=>{let s=r;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(r)&&(r=s),s?i.substring(s):i}).join("\n")}static#e=this.\u0275fac=function(r){return new(r||t)(j(Sr),j(PG),j(zm,8),j(upe,8),j(lpe,8),j(kE))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),MG=(()=>{class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(n){this._srcRelativeLink=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,r,i){this.element=n,this.markdownService=r,this.viewContainerRef=i,this.error=new P,this.load=new P,this.ready=new P,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new Tt}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(fp(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,r=!1){let i;this.src&&this.srcRelativeLink&&(i={baseUrl:new URL(this.src,location.origin).pathname});const o={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(n,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:i,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,o,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n),this.load.emit(n)},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,JS.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,JS.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,r){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const o=r instanceof Array?r:[r];i.item(s).classList.add(...o)}}setPluginOptions(n,r){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(r).forEach(o=>{const a=r[o];if(a){const u=this.toLispCase(o);i.item(s).setAttribute(u,a.toString())}})}toLispCase(n){const r=n.match(/([A-Z])/g);if(!r)return n;let i=n.toString();for(let s=0,o=r.length;s<o;s++)i=i.replace(new RegExp(r[s]),"-"+r[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}static#e=this.\u0275fac=function(r){return new(r||t)(T(an),T(ZS),T(nr))};static#t=this.\u0275cmp=At({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Kn],ngContentSelectors:spe,decls:1,vars:0,template:function(r,i){1&r&&(function xM(t){const e=b()[ft][sn];if(!e.projection){const r=e.projection=Pc(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?N5(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function PM(t,e=0,n){const r=b(),i=ve(),s=Na(i,pe+t,16,null,n||null);null===s.projection&&(s.projection=e),U_(),(!r[mi]||ha())&&32!=(32&s.flags)&&function xq(t,e,n){Nx(e[ie],0,e,n,hy(t,n,e),Ax(n.parent||e[sn],n,e))}(i,r,s)}(0))},encapsulation:2})}return t})(),_pe=(()=>{class t{static forRoot(n){return{ngModule:t,providers:[ZS,n&&n.loader||[],n&&n.clipboardOptions||[],n&&n.markedOptions||[],{provide:PG,useValue:n&&null!=n.sanitize?n.sanitize:Jn.HTML}]}}static forChild(){return{ngModule:t}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({imports:[ap]})}return t})();var NG;!function(t){let e;var i;let n,r;(i=e=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",i.Loose="loose",i.Antiscript="antiscript",i.Sandbox="sandbox",function(i){i.Base="base",i.Forest="forest",i.Dark="dark",i.Default="default",i.Neutral="neutral"}(n=t.Theme||(t.Theme={})),function(i){i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(NG||(NG={}));const ype=function(t){return{"is-loading":t}};let kG=(()=>{class t{constructor(n,r,i){this.auth=n,this.serverService=r,this.trophyService=i,this.editorOptions={theme:"vs-dark",language:"javascript"},this.code="",this.languageId="",this.idTrophy=0,this.output="",this.customInput="",this.isProcessing=!1,this.currentTab="instructions"}runCode(){this.isProcessing=!0,this.serverService.handleCompile(this.code,this.customInput,+this.languageId).then(n=>{this.output=n,this.checkSolution(this.output),this.isProcessing=!1}).catch(n=>{this.output="Error during compilation or execution.",console.error(n),this.isProcessing=!1})}checkSolution(n){var r=this;return g(function*(){try{const i=Zt(Bt,"exercises","hello-security"),o=(yield lr(i)).get("solution");console.log("User Solution:",JSON.stringify(n)),console.log("DB Solution:",JSON.stringify(o)),o.trim()===n.trim()?(B$(),console.log("You got it!!!"),Ye.currentUser?yield r.updateExperienceAndSolvedExercises(Ye.currentUser.uid,"hello-security"):console.error("No user is currently logged in.")):console.log("Wrong Solution")}catch(i){console.error("Error:",i)}})()}updateExperienceAndSolvedExercises(n,r){return g(function*(){const i=Zt(Bt,"users",n),s=yield lr(i),o=s.get("experience")||0,a=s.get("exercises_solved")||0,u=s.get("solved_exercises")||[],c=s.get("percentage")||0;u.includes(r)?console.log("Exercise already solved!"):(yield function wde(t,e,n,...r){t=me(t,_t);const i=me(t.firestore,Ge),s=zo(i);let o;return o="string"==typeof(e=We(e))||e instanceof Go?lS(s,"updateDoc",t._key,e,n,r):cS(s,"updateDoc",t._key,e),Zd(i,[o.toMutation(t._key,Ze.exists(!0))])}(i,{exp:o+50,exercises_solved:a+1,solved_exercises:[...u,r],percentage:c+5}),console.log("Experience, solved exercises and percentage of progression updated!"))})()}static#e=this.\u0275fac=function(r){return new(r||t)(T(di),T(Cfe),T(lG))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-code-editor"]],inputs:{editorOptions:"editorOptions",code:"code",languageId:"languageId",idTrophy:"idTrophy",instructions:"instructions"},decls:17,vars:9,consts:[[1,"columns","is-vcentered","is-gapless","is-fullheight"],[1,"column","is-two-thirds"],[1,"editor-height",3,"options","ngModel","ngModelChange"],[1,"m-2"],[1,"button","is-primary","is-pulled-right",3,"disabled","ngClass","click"],[1,"box","m-4","output-height"],[1,"title","is-5"],[1,"column"],[1,"content","p-4","istruzioni"],[3,"data"]],template:function(r,i){1&r&&(qe(0,"app-navbar"),x(1,"div",0)(2,"div",1)(3,"ngx-monaco-editor",2),ke("ngModelChange",function(o){return i.code=o}),S(),x(4,"div",3)(5,"button",4),ke("click",function(){return i.runCode()}),k(6),S()(),x(7,"div",5)(8,"h2",6),k(9,"Output"),S(),x(10,"pre"),k(11),S()()(),x(12,"div",7)(13,"div",8)(14,"h2"),k(15,"Istruzioni"),S(),qe(16,"markdown",9),S()()()),2&r&&(K(3),Se("options",i.editorOptions)("ngModel",i.code),K(2),Se("disabled",i.isProcessing)("ngClass",function nk(t,e,n,r){return rk(b(),vn(),t,e,n,r)}(7,ype,i.isProcessing)),K(1),tr(" ",i.isProcessing?"Processing":"Run Code"," "),K(5),_r(i.output),K(5),Se("data",i.instructions))},dependencies:[F1,kfe,Mm,ih,MG,Yo],styles:[".columns.is-fullheight[_ngcontent-%COMP%]{min-height:100vh}.istruzioni[_ngcontent-%COMP%]{top:0;width:100%;z-index:100;background-color:#fff;overflow-y:auto;max-height:100vh}ngx-monaco-editor[_ngcontent-%COMP%]{height:80vh;width:100%}@media only screen and (max-width: 768px){.columns[_ngcontent-%COMP%]{flex-direction:column}}"]})}return t})();function vpe(t,e){if(1&t){const n=Qr();x(0,"button",21),ke("click",function(){return fr(n),pr(Mt().deleteUser())}),k(1," Delete User "),S()}}function Epe(t,e){if(1&t){const n=Qr();x(0,"button",22),ke("click",function(){return fr(n),pr(Mt().logoutFromGoogle())}),k(1," Logout "),S()}}function Ipe(t,e){if(1&t){const n=Qr();x(0,"button",23),ke("click",function(){return fr(n),pr(Mt().navigate())}),k(1," Login "),S()}}function wpe(t,e){if(1&t){const n=Qr();x(0,"button",24),ke("click",function(){return fr(n),pr(Mt().editUsername())}),k(1,"Modifica"),S()}}function Tpe(t,e){if(1&t&&(x(0,"li"),k(1),S()),2&t){const n=e.$implicit;K(1),_r(n)}}function bpe(t,e){if(1&t){const n=Qr();x(0,"button",23),ke("click",function(){return fr(n),pr(Mt().saveUsername())}),k(1,"Salva"),S()}}let Cpe=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.username="",this.isLogged=!1,this.logoutFromGoogle=U$,this.editable=!1,Ye.onAuthStateChanged(i=>{i?this.retrieveData():this.username="Stranger!"})}ngOnInit(){this.authService.user$.subscribe(n=>{n?(this.isLogged=!0,this.retrieveData()):this.isLogged=!1})}editUsername(){this.editable=!0}saveUsername(){var n=this;return g(function*(){if(Ye.currentUser){const i=Zt(Bt,"users",Ye.currentUser.uid);yield gS(i,{username:n.username},{merge:!0}),n.editable=!1}else alert("No user uid found")})()}navigate(){this.router.navigate(["/auth"])}delay(n){return g(function*(){return new Promise(r=>setTimeout(r,n))})()}retrieveData(){var n=this;return g(function*(){if(Ye.currentUser){const i=Zt(Bt,"users",Ye.currentUser.uid);yield n.delay(300);const s=yield lr(i);n.username=s.get("username")?s.get("username"):"Stranger!",n.clan=s.get("clan")?s.get("clan"):"No clan!",n.exp=s.get("exp")?s.get("exp"):"No exp",n.level=s.get("level")?s.get("level"):"No level",n.percentage=s.get("email")?s.get("percentage"):"No percentage",n.email=s.get("email")?s.get("email"):"Weird no Email",s.get("solved_exercises")?n.solved_exercises=s.get("solved_exercises"):n.email="No exercises solved"}else alert("No user uid found")})()}deleteUser(){return g(function*(){const n=Ye.currentUser;if(n){const r=n.uid,i=Zt(Bt,"users",r);if((yield lr(i)).exists())try{yield P$(i),console.log("User data for UID",r,"deleted successfully"),yield U$(),yield n.delete(),console.log("User removed from Firebase Auth")}catch(o){console.error("Error during the delete user process:",o),o.details&&console.error("Error details:",o.details)}else console.log("No data found for UID",r)}else console.warn("No authenticated user found")})()}static#e=this.\u0275fac=function(r){return new(r||t)(T(di),T(Rn))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-profile"]],decls:55,vars:15,consts:[[1,"section","reduced-padding"],[1,"container"],[1,"title"],[1,"buttons","are-centered"],["class","button is-danger",3,"click",4,"ngIf"],["class","button is-info",3,"click",4,"ngIf"],["class","button is-primary",3,"click",4,"ngIf"],[1,"section"],[1,"box"],[1,"title","is-4"],[1,"field"],[1,"label"],[1,"control"],["type","text","placeholder","Nome utente",1,"input",3,"ngModel","readonly","ngModelChange"],["class","button is-small",3,"click",4,"ngIf"],["type","email","placeholder","Email","readonly","",1,"input",3,"value"],["type","text","placeholder","Nome Clan","readonly","",1,"input",3,"value"],["type","text","placeholder","Livello","readonly","",1,"input",3,"value"],["type","text","placeholder","exp","readonly","",1,"input",3,"value"],["max","100",1,"progress","is-primary",3,"value"],[4,"ngFor","ngForOf"],[1,"button","is-danger",3,"click"],[1,"button","is-info",3,"click"],[1,"button","is-primary",3,"click"],[1,"button","is-small",3,"click"]],template:function(r,i){1&r&&(qe(0,"app-navbar"),x(1,"section",0)(2,"div",1)(3,"h1",2),k(4),S(),x(5,"div",3),st(6,vpe,2,0,"button",4),st(7,Epe,2,0,"button",5),st(8,Ipe,2,0,"button",6),S()()(),x(9,"section",0)(10,"div",1)(11,"section",7)(12,"div",1)(13,"div",8)(14,"h1",9),k(15,"User Profile"),S(),x(16,"div",10)(17,"label",11),k(18,"Username"),S(),x(19,"div",12)(20,"input",13),ke("ngModelChange",function(o){return i.username=o}),S(),st(21,wpe,2,0,"button",14),S()(),x(22,"div",10)(23,"label",11),k(24,"Email"),S(),x(25,"div",12),qe(26,"input",15),S()(),x(27,"div",10)(28,"label",11),k(29,"Clan"),S(),x(30,"div",12),qe(31,"input",16),S()(),x(32,"div",10)(33,"label",11),k(34,"Level"),S(),x(35,"div",12),qe(36,"input",17),S()(),x(37,"div",10)(38,"label",11),k(39,"Experience Points (exp)"),S(),x(40,"div",12),qe(41,"input",18),S()(),x(42,"div",10)(43,"label",11),k(44,"Percentage of completion"),S(),x(45,"progress",19),k(46),S()(),x(47,"div",10)(48,"label",11),k(49,"Solved Exercises"),S(),x(50,"ul"),st(51,Tpe,2,1,"li",20),S()(),x(52,"div",10)(53,"div",12),st(54,bpe,2,0,"button",6),S()()()()()()()),2&r&&(K(4),tr(" Hello, ",i.username," "),K(2),Se("ngIf","Stranger!"!==i.username),K(1),Se("ngIf","Stranger!"!==i.username),K(1),Se("ngIf","Stranger!"===i.username),K(12),Se("ngModel",i.username)("readonly",!i.editable),K(1),Se("ngIf",!i.editable),K(5),io("value",i.email),K(5),io("value",i.clan),K(5),io("value",i.level),K(5),io("value",i.exp),K(4),io("value",i.percentage),K(1),tr("",i.percentage,"%"),K(5),Se("ngForOf",i.solved_exercises),K(3),Se("ngIf","Stranger!"!==i.username))},dependencies:[Ya,hl,Rm,Mm,ih,Yo],styles:[".reduced-padding[_ngcontent-%COMP%]{padding:20px 0!important}"]})}return t})();function Dpe(t,e){if(1&t&&(x(0,"div",4)(1,"figure",5),qe(2,"img",6),S(),x(3,"p"),k(4),S()()),2&t){const n=e.$implicit;K(1),as("grayed-out",!n.unlocked),K(1),Se("src",n.iconURL,wy)("alt","Icona Trofeo "+n.id),K(2),_r(n.description)}}let OG=(()=>{class t{constructor(n,r){this.trophyService=n,this.authService=r,this.trophies=this.trophyService.trophies}ngOnInit(){this.authService.user$.subscribe(n=>{if(n){const r=this.authService.getUserUid();this.trophyService.updateTrophiesForUser(r)}})}static#e=this.\u0275fac=function(r){return new(r||t)(T(lG),T(di))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-trophies-page"]],decls:4,vars:1,consts:[[1,"section"],[1,"container"],[1,"columns","is-multiline"],["class","column is-3",4,"ngFor","ngForOf"],[1,"column","is-3"],[1,"image","is-128x128"],[3,"src","alt"]],template:function(r,i){1&r&&(x(0,"section",0)(1,"div",1)(2,"div",2),st(3,Dpe,5,5,"div",3),S()()()),2&r&&(K(3),Se("ngForOf",i.trophies))},dependencies:[Ya],styles:[".grayed-out[_ngcontent-%COMP%]{filter:grayscale(100%);opacity:.6}"]})}return t})();function Ape(t,e){if(1&t){const n=Qr();x(0,"div",14),ke("click",function(){const s=fr(n).index;return pr(Mt().navigateToExercise(s))}),k(1),S()}if(2&t){const n=e.$implicit;K(1),tr(" ",n.name," ")}}let Spe=(()=>{class t{navigateToExercise(n){0===n&&this.router.navigate(["/exercises/1-hello-security"])}getStudentCount(){return g(function*(){if(!Ye.currentUser)return console.warn("Utente non autenticato"),0;try{const r=Zt(Bt,"metadata","student_count");return(yield lr(r)).get("count")}catch(r){return console.error("Errore durante la lettura del conto studenti:",r),0}})()}getUserProgression(){return g(function*(){const n=Ye.currentUser;if(!n)return console.warn("Utente non autenticato"),0;try{const r=Zt(Bt,"users",n.uid);return(yield lr(r)).get("percentage")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),0}})()}getUserExercises(){return g(function*(){const n=Ye.currentUser;if(!n)return console.warn("Utente non autenticato"),0;try{const r=Zt(Bt,"users",n.uid);return(yield lr(r)).get("exercises_solved")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),0}})()}getUserName(){return g(function*(){const n=Ye.currentUser;if(!n)return console.warn("Utente non autenticato"),"";try{const r=Zt(Bt,"users",n.uid);return(yield lr(r)).get("username")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),""}})()}createBoxes(){let n=[];for(let r=0;r<20;r++)n.push({name:`Box ${r+1}`});return n}constructor(n,r){this.router=n,this.autho=r,this.boxes=[{name:"Hello Security!"},{name:"Exercise 2"},{name:"Exercise 3"},{name:"Exercise 4"},{name:"Exercise 5"},{name:"Exercise 6"},{name:"Exercise 7"},{name:"Exercise 8"},{name:"Exercise 9"},{name:"Exercise 10"},{name:"Exercise 11"},{name:"Exercise 2"},{name:"Exercise 3"},{name:"Exercise 4"},{name:"Exercise 5"},{name:"Exercise 6"},{name:"Exercise 7"},{name:"Exercise 8"},{name:"Exercise 9"},{name:"Exercise 10"}],Ye.onAuthStateChanged(i=>{i?(console.log("user auth"),this.getStudentCount().then(s=>{this.studentsCount=s}).catch(s=>{console.error("Errore durante la lettura del conto studenti:",s)}),this.getUserProgression().then(s=>{this.progressPercentage=s}),this.getUserExercises().then(s=>{this.exercisesCompleted=s}),this.getUserName().then(s=>{this.userName=s}).catch(s=>{console.error("Errore durante la lettura del conto studenti:",s)})):this.navigate()})}ngOnInit(){}navigate(){this.router.navigate(["/auth"])}static#e=this.\u0275fac=function(r){return new(r||t)(T(Rn),T(di))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-exercises"]],decls:30,vars:6,consts:[[1,"section"],[1,"level"],[1,"level-left"],[1,"title","java-classname"],[1,"subtitle"],[1,"level-right"],[1,"box"],[1,"block"],[1,"columns"],[1,"column","is-two-quarters"],[1,"title"],[1,"box-grid"],["class","box-item",3,"click",4,"ngFor","ngForOf"],[1,"column"],[1,"box-item",3,"click"]],template:function(r,i){1&r&&(qe(0,"app-navbar"),x(1,"section",0)(2,"div",1)(3,"div",2)(4,"h1",3),k(5,"Cybersecurity"),S(),x(6,"h3",4),k(7),S()(),qe(8,"div",5),S(),x(9,"div",6)(10,"p"),k(11),S(),qe(12,"div",7),S(),x(13,"div",8)(14,"div",9)(15,"div",6)(16,"h2",10),k(17,"Exercises"),S(),x(18,"p"),k(19),S(),x(20,"p"),k(21),S(),qe(22,"br"),x(23,"div",11),st(24,Ape,2,1,"div",12),S()()(),x(25,"div",13)(26,"div",6)(27,"h2",10),k(28),S(),qe(29,"app-trophies-page"),S()()()()),2&r&&(K(7),tr("students: ",i.studentsCount," "),K(4),tr("You're ",i.progressPercentage,"% through the Cybersecurity track. Keep up the good work! \u{1f680}"),K(8),tr("Avg. exercises completed per week: ",i.exercisesCompleted,""),K(2),tr("Exercises completed: ",i.exercisesCompleted,""),K(3),Se("ngForOf",i.boxes),K(4),tr("",i.userName,"'s Trophies"))},dependencies:[Ya,Yo,OG],styles:[".java-classname[_ngcontent-%COMP%]{margin-right:10px}.box-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}.box-item[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:5px;cursor:pointer;border-radius:10%;display:flex;align-items:center;justify-content:center;height:50px;width:100px}.box-item[_ngcontent-%COMP%]:first-child{background-color:#00d1b2;justify-content:center}"]})}return t})(),Rpe=(()=>{class t{constructor(n){this.http=n,this.helloSecurityInstructions="",this.defaultCode="",this.languageId="48",this.idTrophy=1,this.editorOptions={theme:"vs-dark",language:"c"}}ngOnInit(){this.http.get("assets/exercises/1/helloSecurityInstructions.md",{responseType:"text"}).subscribe(n=>{this.helloSecurityInstructions=n}),this.http.get("assets/exercises/1/hello-securityCode.c",{responseType:"text"}).subscribe(n=>{this.defaultCode=n})}static#e=this.\u0275fac=function(r){return new(r||t)(T(zm))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-hello-security"]],decls:1,vars:5,consts:[[3,"instructions","code","languageId","editorOptions","idTrophy"]],template:function(r,i){1&r&&qe(0,"app-code-editor",0),2&r&&Se("instructions",i.helloSecurityInstructions)("code",i.defaultCode)("languageId",i.languageId)("editorOptions",i.editorOptions)("idTrophy",i.idTrophy)},dependencies:[kG],styles:[".columns.is-fullheight[_ngcontent-%COMP%]{min-height:100vh}.istruzioni[_ngcontent-%COMP%]{top:0;width:100%;z-index:100;background-color:#fff;overflow-y:auto;max-height:100vh}ngx-monaco-editor[_ngcontent-%COMP%]{height:80vh;width:100%}@media only screen and (max-width: 768px){.columns[_ngcontent-%COMP%]{flex-direction:column}}"]})}return t})();function xpe(t,e){if(1&t&&(x(0,"h1",2),k(1),S()),2&t){const n=Mt();K(1),tr("",n.userName,"'s Trophies cabinet")}}function Ppe(t,e){1&t&&(x(0,"h1",2),k(1,"Stranger's Trophies cabinet"),S())}let Mpe=(()=>{class t{constructor(n){this.autho=n,Ye.onAuthStateChanged(r=>{r&&this.getUserName().then(i=>{this.userName=i}).catch(i=>{console.error("Errore durante la lettura del nome studente",i)})})}getUserName(){return g(function*(){const n=Ye.currentUser;if(!n)return console.warn("Utente non autenticato"),"";try{const r=Zt(Bt,"users",n.uid);return(yield lr(r)).get("username")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),""}})()}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||t)(T(di))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-trophies"]],decls:5,vars:2,consts:[["class","is-size-2 has-text-centered",4,"ngIf","ngIfElse"],["strangerTitle",""],[1,"is-size-2","has-text-centered"]],template:function(r,i){if(1&r&&(qe(0,"app-navbar"),st(1,xpe,2,1,"h1",0),st(2,Ppe,2,0,"ng-template",null,1,bk),qe(4,"app-trophies-page")),2&r){const s=function IM(t){return da(function oz(){return ee.lFrame.contextLView}(),pe+t)}(3);K(1),Se("ngIf",i.userName)("ngIfElse",s)}},dependencies:[hl,Yo,OG]})}return t})();function Npe(t,e){if(1&t&&(x(0,"tr")(1,"td"),k(2),S(),x(3,"td"),k(4),S(),x(5,"td"),k(6),S()()),2&t){const n=e.$implicit,r=e.index;K(2),_r(r+1),K(2),_r(n.username),K(2),_r(n.exp)}}const kpe=[{path:"offline",component:(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=At({type:t,selectors:[["app-offline-page"]],decls:2,vars:0,template:function(r,i){1&r&&(x(0,"p"),k(1,"offline-page works!"),S())}})}return t})()},{path:"",component:Khe},{path:"auth",component:Whe},{path:"code",component:kG},{path:"user",component:Cpe},{path:"trophies",component:Mpe},{path:"leaderboard",component:(()=>{class t{ngOnInit(){var n=this;this.auth.user$.subscribe(function(){var r=g(function*(i){i&&(n.topUsers=yield n.getTopUsersByExp(10))});return function(i){return r.apply(this,arguments)}}())}constructor(n){this.auth=n,this.topUsers=[]}getTopUsersByExp(n){return g(function*(){const r=function nde(t,e,...n){if(t=We(t),iS("collection","path",e),t instanceof Wd){const r=Ee.fromString(e,...n);return c$(r),new li(t,null,r)}{if(!(t instanceof _t||t instanceof li))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return c$(r),new li(t.firestore,null,r)}}(Bt,"users"),i=function gde(t,e,...n){let r=[];e instanceof hS&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof nc).length,a=s.filter(u=>u instanceof Jd).length;if(o>1||o>0&&a>0)throw new C(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}(r,function mde(t,e="asc"){const n=e,r=wm("orderBy",t);return pS._create(r,n)}("exp","desc"),function _de(t){return function l$(t,e){if(e<=0)throw new C(I.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Tm._create("limit",t,"F")}(n)),s=yield function Ide(t){t=me(t,Jt);const e=me(t.firestore,Ge),n=yt(e),r=new Fs(e);return function T$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function s$(t,e,n={}){const r=new xt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(s,o,a,u,c){const l=new pm({next:h=>{o.enqueueAndForget(()=>IA(s,d)),h.fromCache&&"server"===u.source?c.reject(new C(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new bA(a,l,{includeMetadataChanges:!0,Z_:!0});return vA(s,d)}(yield tc(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new ic(e,r,t,i))}(i),o=[];return s.forEach(a=>{o.push(a.data())}),o})()}static#e=this.\u0275fac=function(r){return new(r||t)(T(di))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-leaderboard"]],decls:16,vars:1,consts:[[1,"section"],[1,"container"],[1,"title"],[1,"table","is-fullwidth"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(qe(0,"app-navbar"),x(1,"section",0)(2,"div",1)(3,"h1",2),k(4,"Leaderboard"),S(),x(5,"table",3)(6,"thead")(7,"tr")(8,"th"),k(9,"Posizione"),S(),x(10,"th"),k(11,"Nome Utente"),S(),x(12,"th"),k(13,"Exp"),S()()(),x(14,"tbody"),st(15,Npe,7,3,"tr",4),S()()()()),2&r&&(K(15),Se("ngForOf",i.topUsers))},dependencies:[Ya,Yo]})}return t})()},{path:"exercises",component:Spe},{path:"exercises/1-hello-security",component:Rpe}];let Ope=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({imports:[EV.forRoot(kpe),EV]})}return t})(),Vpe=(()=>{class t{constructor(n){this.authService=n,this.title="HackEd",this.sendNotification=B$,this.sendNotificationDelayed=Ude}ngOnInit(){this.registerServiceWorker(),this.authService.user$.subscribe(n=>{n&&this.requestNotificationPermission()})}requestNotificationPermission(){return g(function*(){setTimeout(g(function*(){yield function Lde(){return IS.apply(this,arguments)}()}),2e3)})()}registerServiceWorker(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(n=>{console.log("Service Worker registered with scope:",n.scope)}).catch(n=>{console.error("Service Worker registration failed:",n)})}static#e=this.\u0275fac=function(r){return new(r||t)(T(di))};static#t=this.\u0275cmp=At({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&qe(0,"router-outlet")},dependencies:[JE]})}return t})();const qs=new ze(dc),Lpe={connector:()=>new Tt};function VG(t,e=Lpe){const{connector:n}=e;return lt((r,i)=>{const s=n();en(t(function Fpe(t){return new ze(e=>t.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}function FG(t,e){return e?n=>ml(e.pipe(An(1),function jpe(){return lt((t,e)=>{t.subscribe(dt(e,dc))})}()),n.pipe(FG(t))):bt((n,r)=>en(t(n,r)).pipe(An(1),hp(n)))}const ch="Service workers are disabled or not supported by this browser";class Xm{constructor(e){if(this.serviceWorker=e,e){const r=Jo(e,"controllerchange").pipe(le(()=>e.controller)),s=ml(_l(()=>Q(e.controller)),r);this.worker=s.pipe(Sn(l=>!!l)),this.registration=this.worker.pipe(tn(()=>e.getRegistration()));const c=Jo(e,"message").pipe(le(l=>l.data)).pipe(Sn(l=>l&&l.type)).pipe(function Bpe(t){return t?e=>VG(t)(e):e=>function Upe(t,e){const n=he(t)?t:()=>t;return he(e)?VG(e,{connector:n}):r=>new LE(r,n)}(new Tt)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function Hpe(t){return _l(()=>Xa(new Error(t)))}(ch)}postMessage(e,n){return this.worker.pipe(An(1),qt(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Sn(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(An(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Sn(n=>n.nonce===e),An(1),le(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let LG=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new Tt,!n.isEnabled)return this.messages=qs,this.notificationClicks=qs,void(this.subscription=qs);this.messages=this.sw.eventsOfType("PUSH").pipe(le(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(le(i=>i.data)),this.pushManager=this.sw.registration.pipe(le(i=>i.pushManager));const r=this.pushManager.pipe(tn(i=>i.getSubscription()));this.subscription=gh(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ch));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(tn(o=>o.subscribe(r)),An(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(An(1),tn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ch))}decodeBase64(n){return atob(n)}static#e=this.\u0275fac=function(r){return new(r||t)(j(Xm))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),UG=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=qs,this.available=qs,this.activated=qs,void(this.unrecoverable=qs);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Sn(r=>"VERSION_READY"===r.type),le(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ch));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ch));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static#e=this.\u0275fac=function(r){return new(r||t)(j(Xm))};static#t=this.\u0275prov=z({token:t,factory:t.\u0275fac})}return t})();const BG=new U("NGSW_REGISTER_SCRIPT");function Gpe(t,e,n,r){return()=>{if(!Ri(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=Q(null);break;case"registerWithDelay":i=jG(+a[0]||0);break;case"registerWhenStable":i=a[0]?gh($G(t),jG(+a[0])):$G(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(Ae).runOutsideAngular(()=>i.pipe(An(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function jG(t){return Q(null).pipe(function $pe(t,e=pG){const n=gG(t,e);return FG(()=>n)}(t))}function $G(t){return t.get(uo).isStable.pipe(Sn(n=>n))}function zpe(t,e){return new Xm(Ri(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class e0{}function qpe(t,e={}){return uf([LG,UG,{provide:BG,useValue:t},{provide:e0,useValue:e},{provide:Xm,useFactory:zpe,deps:[e0,Sr]},{provide:jf,useFactory:Gpe,deps:[wn,BG,e0,Sr],multi:!0}])}let Wpe=(()=>{class t{static register(n,r={}){return{ngModule:t,providers:[qpe(n,r)]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t});static#n=this.\u0275inj=nn({providers:[LG,UG]})}return t})();function Kpe(t,e){}const Jm=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let Qpe=(()=>{class t{constructor(){this.onBeforePaste=new P,this.onBlur=new P,this.onClick=new P,this.onContextMenu=new P,this.onCopy=new P,this.onCut=new P,this.onDblclick=new P,this.onDrag=new P,this.onDragDrop=new P,this.onDragEnd=new P,this.onDragGesture=new P,this.onDragOver=new P,this.onDrop=new P,this.onFocus=new P,this.onFocusIn=new P,this.onFocusOut=new P,this.onKeyDown=new P,this.onKeyPress=new P,this.onKeyUp=new P,this.onMouseDown=new P,this.onMouseEnter=new P,this.onMouseLeave=new P,this.onMouseMove=new P,this.onMouseOut=new P,this.onMouseOver=new P,this.onMouseUp=new P,this.onPaste=new P,this.onSelectionChange=new P,this.onActivate=new P,this.onAddUndo=new P,this.onBeforeAddUndo=new P,this.onBeforeExecCommand=new P,this.onBeforeGetContent=new P,this.onBeforeRenderUI=new P,this.onBeforeSetContent=new P,this.onChange=new P,this.onClearUndos=new P,this.onDeactivate=new P,this.onDirty=new P,this.onExecCommand=new P,this.onGetContent=new P,this.onHide=new P,this.onInit=new P,this.onInitNgModel=new P,this.onLoadContent=new P,this.onNodeChange=new P,this.onPostProcess=new P,this.onPostRender=new P,this.onPreInit=new P,this.onPreProcess=new P,this.onProgressState=new P,this.onRedo=new P,this.onRemove=new P,this.onReset=new P,this.onResizeEditor=new P,this.onSaveContent=new P,this.onSetAttrib=new P,this.onObjectResizeStart=new P,this.onObjectResized=new P,this.onObjectSelected=new P,this.onSetContent=new P,this.onShow=new P,this.onSubmit=new P,this.onUndo=new P,this.onVisualAid=new P}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Z({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const HG=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Zm=(t,e,n)=>Jo(t,e).pipe(fp(n)),GG=(t,e)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:e;let zG=0;const qG=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),WG=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),Zpe=(t,e)=>WG(t).concat(WG(e)),ege=()=>{},KG=t=>null==t,tge=(()=>{let t={script$:null};return{load:(r,i)=>t.script$||(t.script$=_l(()=>{const s=r.createElement("script");return s.referrerPolicy="origin",s.type="application/javascript",s.src=i,r.head.appendChild(s),Jo(s,"load").pipe(An(1),hp(void 0))}).pipe(mG({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),nge=new U("TINYMCE_SCRIPT_SRC"),rge={provide:Tr,useExisting:Ne(()=>YG),multi:!0};let YG=(()=>{class t extends Qpe{constructor(n,r,i,s){super(),this.platformId=i,this.tinymceScriptSrc=s,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=ege,this.destroy$=new Tt,this.initialise=()=>{const o={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:Zpe(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,Zm(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((t,e,n)=>{(t=>{const e=GG(t.ignoreEvents,[]);return GG(t.allowedEvents,HG).filter(r=>HG.includes(r)&&!e.includes(r))})(t).forEach(i=>{const s=t[i];Zm(e,i.substring(2),n).subscribe(o=>{s.observers.length>0&&t.ngZone.run(()=>s.emit({event:o,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};qG(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{Jm().init(o)})},this._elementRef=n,this.ngZone=r}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(KG(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){Ri(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),r=Math.floor(1e9*Math.random());return zG++,"tiny-angular_"+r+zG+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==Jm()?this.initialise():this._element&&this._element.ownerDocument&&tge.load(this._element.ownerDocument,this.getScriptSrc()).pipe(fp(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==Jm()&&Jm().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,qG(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return KG(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){Zm(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),Zm(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(T(an),T(Ae),T(Sr),T(nge,8))},t.\u0275cmp=At({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[Be([rge]),Te,Sv],decls:1,vars:0,template:function(n,r){1&n&&st(0,Kpe,0,0,"ng-template")},dependencies:[ap,WH],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),ige=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mn({type:t}),t.\u0275inj=nn({imports:[YG]}),t})(),sge=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=mn({type:t,bootstrap:[Vpe]});static#n=this.\u0275inj=nn({imports:[rX,ige,Ofe.forRoot(),WH,_pe.forRoot(),vfe,Ope,Wpe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return t})();tX().bootstrapModule(sge).catch(t=>console.error(t))}},he=>{he(he.s=377)}]);