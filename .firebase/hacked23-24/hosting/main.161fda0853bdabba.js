"use strict";(self.webpackChunkHackEd=self.webpackChunkHackEd||[]).push([[179],{8653:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>OfflinePageComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5879),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6814),ngx_monaco_editor_v2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2352),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(95);function OfflinePageComponent_div_8_Template(Ye,de){if(1&Ye&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div")(1,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(2,"Feedback"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()),2&Ye){const N=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(N.feedback)}}let OfflinePageComponent=(()=>{class OfflinePageComponent{constructor(){this.instructions="Correggi il codice sottostante affinch\xe9 la funzione restituisca il valore corretto.",this.code="\nfunction add(a, b) {\n  return a - b; // Questo dovrebbe essere un + \n}\n\nadd(1, 2); // Dovrebbe restituire 3\n",this.feedback="",this.editorOptions={theme:"vs-dark",language:"javascript"}}ngOnInit(){}checkSolution(){try{const result=eval(this.code);this.feedback=3===result?"Ottimo lavoro! Hai corretto il codice.":"Non proprio giusto. Riprova!"}catch(Ye){this.feedback="Ops! Sembra che ci sia un errore nel tuo codice."}}static#_=this.\u0275fac=function Ye(de){return new(de||OfflinePageComponent)};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:OfflinePageComponent,selectors:[["app-offline-page"]],decls:9,vars:4,consts:[[3,"options","ngModel","ngModelChange"],[3,"click"],[4,"ngIf"]],template:function Ye(de,N){1&de&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div")(1,"h1"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(2,"Debug the Code!"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(5,"ngx-monaco-editor",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("ngModelChange",function(j){return N.code=j}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(6,"button",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",function(){return N.checkSolution()}),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(7,"Controlla la Soluzione"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(8,OfflinePageComponent_div_8_Template,5,1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&de&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(N.instructions),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("options",N.editorOptions)("ngModel",N.code),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",N.feedback))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.O5,ngx_monaco_editor_v2__WEBPACK_IMPORTED_MODULE_2__.PG,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.On],styles:["ngx-monaco-editor[_ngcontent-%COMP%]{height:200px}button[_ngcontent-%COMP%]{margin:10px}"]})}return OfflinePageComponent})()},577:(Ye,de,N)=>{var h=N(5879),j=N(6814);class he extends j.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends he{static makeCurrent(){(0,j.HT)(new ae)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Te(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}();return null==t?null:function Be(n){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",n);const e=Ee.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,j.Mx)(document.cookie,e)}}let Ee,ie=null,K=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const X=new h.OlP("EventManagerPlugins");let oe=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(a=>a.supports(t)),!r)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(X),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class Ge{constructor(e){this._doc=e}}const me="ng-app-id";let Ie=(()=>{class n{constructor(t,r,i,a={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,j.PM)(a),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${me}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const a=i.get(t);return a.usage+=r,a.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,a=i?.get(r);if(a?.parentNode===t)return i.delete(r),a.removeAttribute(me),a;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(me,this.appId),c}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const a=this.styleRef,c=a.get(r)?.elements;c?c.push(i):a.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(j.K0),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Re=/%COMP%/g,le=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function De(n,e){return e.map(t=>t.replace(Re,n))}let be=(()=>{class n{constructor(t,r,i,a,c,p,g,y=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=a,this.doc=c,this.platformId=p,this.ngZone=g,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=(0,j.PM)(p),this.defaultRenderer=new gt(t,c,g,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.ifc.ShadowDom&&(r={...r,encapsulation:h.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Ur?i.applyToHost(t):i instanceof ho&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const c=this.doc,p=this.ngZone,g=this.eventManager,y=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(r.encapsulation){case h.ifc.Emulated:a=new Ur(g,y,r,this.appId,I,c,p,D);break;case h.ifc.ShadowDom:return new Ls(g,y,t,r,c,p,this.nonce,D);default:a=new ho(g,y,r,I,c,p,D)}i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(oe),h.LFG(Ie),h.LFG(h.AFp),h.LFG(le),h.LFG(j.K0),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class gt{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Y[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ds(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ds(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Y[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Y[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=(0,j.q)().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function ds(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ls extends gt{constructor(e,t,r,i,a,c,p,g){super(e,a,c,g),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=De(i.id,i.styles);for(const I of y){const D=document.createElement("style");p&&D.setAttribute("nonce",p),D.textContent=I,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ho extends gt{constructor(e,t,r,i,a,c,p,g){super(e,a,c,p),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=g?De(g,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ur extends ho{constructor(e,t,r,i,a,c,p,g){const y=i+"-"+r.id;super(e,t,r,a,c,p,g,y),this.contentAttr=function ue(n){return"_ngcontent-%COMP%".replace(Re,n)}(y),this.hostAttr=function we(n){return"_nghost-%COMP%".replace(Re,n)}(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Aa=(()=>{class n extends Ge{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(j.K0))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Pu=["alt","control","meta","shift"],q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let te=(()=>{class n extends Ge{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,j.q)().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),Pu.forEach(y=>{const I=r.indexOf(y);I>-1&&(r.splice(I,1),c+=y+".")}),c+=a,0!=r.length||0===a.length)return null;const g={};return g.domEventName=i,g.fullKey=c,g}static matchEventFullKeyCode(t,r){let i=q[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Pu.forEach(c=>{c!==i&&(0,W[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(j.K0))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const mt=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:j.bD},{provide:h.g9A,useValue:function Se(){ae.makeCurrent()},multi:!0},{provide:j.K0,useFactory:function it(){return(0,h.RDi)(document),document},deps:[]}]),Jt=new h.OlP(""),Dn=[{provide:h.rWj,useClass:class xe{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new h.vHH(5103,!1);return a},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const p=function(g){c=c||g,a--,0==a&&r(c)};i.forEach(g=>{g.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?(0,j.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],zn=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function nr(){return new h.qLn},deps:[]},{provide:X,useClass:Aa,multi:!0,deps:[j.K0,h.R0b,h.Lbi]},{provide:X,useClass:te,multi:!0,deps:[j.K0]},be,Ie,oe,{provide:h.FYo,useExisting:be},{provide:j.JF,useClass:K,deps:[]},[]];let Ht=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Jt,12))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[...zn,...Dn],imports:[j.ez,h.hGG]})}return n})(),Br=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(j.K0))};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function vn(){return new Br((0,h.LFG)(j.K0))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let ko=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let i=null;return i=r?new(r||n):h.LFG(xu),i},providedIn:"root"})}return n})(),xu=(()=>{class n extends ko{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new h.vHH(5200,!1);case h.q3G.URL:return(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new h.vHH(5201,!1);default:throw new h.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(j.K0))};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Sa(n){return new xu(n.get(j.K0))}(h.LFG(h.zs3)),i},providedIn:"root"})}return n})();var Ti=N(5592),oi=N(4674),hn=N(7715),je=N(2096),Nn=N(5619),Xt=N(7453),Wi=N(2737),Lt=N(7400),Ki=N(9940),Lo=N(2714),kn=N(8251),Yi=N(7103);function Vs(...n){const e=(0,Ki.yG)(n),t=(0,Ki.jO)(n),{args:r,keys:i}=(0,Xt.D)(n);if(0===r.length)return(0,hn.D)([],e);const a=new Ti.y(function Vo(n,e,t=Wi.y){return r=>{rr(e,()=>{const{length:i}=n,a=new Array(i);let c=i,p=i;for(let g=0;g<i;g++)rr(e,()=>{const y=(0,hn.D)(n[g],e);let I=!1;y.subscribe((0,kn.x)(r,D=>{a[g]=D,I||(I=!0,p--),p||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>(0,Lo.n)(i,c):Wi.y));return t?a.pipe((0,Lt.Z)(t)):a}function rr(n,e,t){n?(0,Yi.f)(t,n,e):e()}const qn=(0,N(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ir=N(7537);function gr(...n){return function Dt(){return(0,ir.J)(1)}()((0,hn.D)(n,(0,Ki.yG)(n)))}var Di=N(4829);function Qi(n){return new Ti.y(e=>{(0,Di.Xf)(n()).subscribe(e)})}var Ra=N(8407);function mr(n,e){const t=(0,oi.m)(n)?n:()=>n,r=i=>i.error(t());return new Ti.y(e?i=>e.schedule(r,0,i):r)}var _r=N(6232),ms=N(7394),Fn=N(9360);function Us(){return(0,Fn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,kn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Bs extends Ti.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ms.w0;const t=this.getSubject();e.add(this.source.subscribe((0,kn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ms.w0.EMPTY)}return e}refCount(){return Us()(this)}}var Ln=N(8645),ft=N(7398),fn=N(4664);function An(n){return n<=0?()=>_r.E:(0,Fn.e)((e,t)=>{let r=0;e.subscribe((0,kn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Nu(...n){const e=(0,Ki.yG)(n);return(0,Fn.e)((t,r)=>{(e?gr(n,t,e):gr(n,t)).subscribe(r)})}function pn(n,e){return(0,Fn.e)((t,r)=>{let i=0;t.subscribe((0,kn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Vn=N(1631);function Uo(n){return(0,Fn.e)((e,t)=>{let r=!1;e.subscribe((0,kn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function sr(n=_s){return(0,Fn.e)((e,t)=>{let r=!1;e.subscribe((0,kn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function _s(){return new qn}function jr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pn((i,a)=>n(i,a,r)):Wi.y,An(1),t?Uo(e):sr(()=>new qn))}function ys(n,e){return(0,oi.m)(e)?(0,Vn.z)(n,e,1):(0,Vn.z)(n,1)}function Sn(n,e,t){const r=(0,oi.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Fn.e)((i,a)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let p=!0;i.subscribe((0,kn.x)(a,g=>{var y;null===(y=r.next)||void 0===y||y.call(r,g),a.next(g)},()=>{var g;p=!1,null===(g=r.complete)||void 0===g||g.call(r),a.complete()},g=>{var y;p=!1,null===(y=r.error)||void 0===y||y.call(r,g),a.error(g)},()=>{var g,y;p&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(y=r.finalize)||void 0===y||y.call(r)}))}):Wi.y}function bi(n){return(0,Fn.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,kn.x)(t,void 0,void 0,c=>{a=(0,Di.Xf)(n(c,bi(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Pa(n){return n<=0?()=>_r.E:(0,Fn.e)((e,t)=>{let r=[];e.subscribe((0,kn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function yr(n){return(0,ft.U)(()=>n)}function po(n){return(0,Fn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var ku=N(2420);function Bo(n){return(0,Fn.e)((e,t)=>{(0,Di.Xf)(n).subscribe((0,kn.x)(t,()=>t.complete(),ku.Z)),!t.closed&&e.subscribe(t)})}const ut="primary",Zi=Symbol("RouteTitle");class Fu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ai(n){return new Fu(n)}function Lu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],p=n[a];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function st(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!En(n[i],e[i]))return!1;return!0}function En(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Wn(n){return n.length>0?n[n.length-1]:null}function or(n){return function gs(n){return!!n&&(n instanceof Ti.y||(0,oi.m)(n.lift)&&(0,oi.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?(0,hn.D)(Promise.resolve(n)):(0,je.of)(n)}const vr={exact:function xa(n,e,t){if(!Pr(n.segments,e.segments)||!Ze(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!xa(n.children[r],e.children[r],t))return!1;return!0},subset:$t},jo={exact:function go(n,e){return st(n,e)},subset:function Cl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>En(n[t],e[t]))},ignored:()=>!0};function Ma(n,e,t){return vr[t.paths](n.root,e.root,t.matrixParams)&&jo[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function $t(n,e,t){return Pe(n,e,e.segments,t)}function Pe(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Pr(i,t)||e.hasChildren()||!Ze(i,t,r))}if(n.segments.length===t.length){if(!Pr(n.segments,t)||!Ze(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!$t(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Pr(n.segments,i)&&Ze(n.segments,i,r)&&n.children[ut])&&Pe(n.children[ut],e,a,r)}}function Ze(n,e,t){return e.every((r,i)=>jo[t](n[i].parameters,r.parameters))}class xt{constructor(e=new ct([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ai(this.queryParams)),this._queryParamMap}toString(){return et.serialize(this)}}class ct{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xi(this)}}class $r{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ai(this.parameters)),this._parameterMap}toString(){return $o(this)}}function Pr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ar=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return new Ji},providedIn:"root"})}return n})();class Ji{parse(e){const t=new $s(e);return new xt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Si(e.root,!0)}`,r=function ai(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${qt(t)}=${qt(i)}`).join("&"):`${qt(t)}=${qt(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function mo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const et=new Ji;function Xi(n){return n.segments.map(e=>$o(e)).join("/")}function Si(n,e){if(!n.hasChildren())return Xi(n);if(e){const t=n.children[ut]?Si(n.children[ut],!1):"",r=[];return Object.entries(n.children).forEach(([i,a])=>{i!==ut&&r.push(`${i}:${Si(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function en(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ut&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ut&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===ut?[Si(n.children[ut],!1)]:[`${i}:${Si(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ut]?`${Xi(n)}/${t[0]}`:`${Xi(n)}/(${t.join("//")})`}}function es(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qt(n){return es(n).replace(/%3B/gi,";")}function vs(n){return es(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mr(n){return decodeURIComponent(n)}function ts(n){return Mr(n.replace(/\+/g,"%20"))}function $o(n){return`${vs(n.path)}${function ns(n){return Object.keys(n).map(e=>`;${vs(e)}=${vs(n[e])}`).join("")}(n.parameters)}`}const ui=/^[^\/()?;#]+/;function Ri(n){const e=n.match(ui);return e?e[0]:""}const vt=/^[^\/()?;=#]+/,Ho=/^[^=?&#]+/,Er=/^[^&#]+/;class $s{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ut]=new ct(e,t)),r}parseSegment(){const e=Ri(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new $r(Mr(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Fh(n){const e=n.match(vt);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ri(this.remaining);i&&(r=i,this.capture(r))}e[Mr(t)]=Mr(r)}parseQueryParam(e){const t=function Uu(n){const e=n.match(Ho);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function js(n){const e=n.match(Er);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=ts(t),a=ts(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ri(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=ut);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[ut]:new ct([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function Hs(n){return n.segments.length>0?new ct([],{[ut]:n}):n}function gn(n){const e={};for(const r of Object.keys(n.children)){const a=gn(n.children[r]);if(r===ut&&0===a.segments.length&&a.hasChildren())for(const[c,p]of Object.entries(a.children))e[c]=p;else(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function pm(n){if(1===n.numberOfChildren&&n.children[ut]){const e=n.children[ut];return new ct(n.segments.concat(e.segments),e.children)}return n}(new ct(n.segments,e))}function sn(n){return n instanceof xt}function _o(n){let e;const i=Hs(function t(a){const c={};for(const g of a.children){const y=t(g);c[g.outlet]=y}const p=new ct(a.url,c);return a===n&&(e=p),p}(n.root));return e??i}function rs(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return Go(i,i,i,t,r);const a=function gm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Bu(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Object.entries(a.outlets).forEach(([g,y])=>{p[g]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((p,g)=>{0==g&&"."===p||(0==g&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new Bu(t,e,r)}(e);if(a.toRoot())return Go(i,i,new ct([],{}),t,r);const c=function Lh(n,e,t){if(n.isAbsolute)return new ju(e,!0,0);if(!t)return new ju(e,!1,NaN);if(null===t.parent)return new ju(t,!0,0);const r=Es(n.commands[0])?0:1;return function mm(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new ju(r,!1,i-a)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(a,i,n),p=c.processChildren?$u(c.segmentGroup,c.index,a.commands):ym(c.segmentGroup,c.index,a.commands);return Go(i,c.segmentGroup,p,t,r)}function Es(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ir(n){return"object"==typeof n&&null!=n&&n.outlets}function Go(n,e,t,r,i){let c,a={};r&&Object.entries(r).forEach(([g,y])=>{a[g]=Array.isArray(y)?y.map(I=>`${I}`):`${y}`}),c=n===e?t:Dl(n,e,t);const p=Hs(gn(c));return new xt(p,a,i)}function Dl(n,e,t){const r={};return Object.entries(n.children).forEach(([i,a])=>{r[i]=a===e?t:Dl(a,e,t)}),new ct(n.segments,r)}class Bu{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Es(r[0]))throw new h.vHH(4003,!1);const i=r.find(Ir);if(i&&i!==Wn(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ju{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ym(n,e,t){if(n||(n=new ct([],{})),0===n.segments.length&&n.hasChildren())return $u(n,e,t);const r=function on(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],p=t[r];if(Ir(p))break;const g=`${p}`,y=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!S(g,y,c))return a;r+=2}else{if(!S(g,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new ct(n.segments.slice(0,r.pathIndex),{});return a.children[ut]=new ct(n.segments.slice(r.pathIndex),n.children),$u(a,0,i)}return r.match&&0===i.length?new ct(n.segments,{}):r.match&&!n.hasChildren()?bl(n,e,t):r.match?$u(n,0,i):bl(n,e,t)}function $u(n,e,t){if(0===t.length)return new ct(n.segments,{});{const r=function _m(n){return Ir(n[0])?n[0].outlets:{[ut]:n}}(t),i={};if(Object.keys(r).some(a=>a!==ut)&&n.children[ut]&&1===n.numberOfChildren&&0===n.children[ut].segments.length){const a=$u(n.children[ut],e,t);return new ct(n.segments,a.children)}return Object.entries(r).forEach(([a,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[a]=ym(n.children[a],e,c))}),Object.entries(n.children).forEach(([a,c])=>{void 0===r[a]&&(i[a]=c)}),new ct(n.segments,i)}}function bl(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Ir(a)){const g=bI(a.outlets);return new ct(r,g)}if(0===i&&Es(t[0])){r.push(new $r(n.segments[e].path,b(t[0]))),i++;continue}const c=Ir(a)?a.outlets[ut]:`${a}`,p=i<t.length-1?t[i+1]:null;c&&p&&Es(p)?(r.push(new $r(c,b(p))),i+=2):(r.push(new $r(c,{})),i++)}return new ct(r,{})}function bI(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=bl(new ct([],{}),0,r))}),e}function b(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function S(n,e,t){return n==t.path&&st(e,t.parameters)}const w="imperative";class M{constructor(e,t){this.id=e,this.url=t}}class V extends M{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Le extends M{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Je extends M{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Un extends M{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class is extends M{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Is extends M{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci extends M{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li extends M{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hu extends M{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gu extends M{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ur{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Al{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hr{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sl{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Em{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zo{}class Pl{constructor(e){this.url=e}}class Vh{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Oa,this.attachRef=null}}let Oa=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Vh,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Uh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ml(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ml(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Na(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Na(e,this._root).map(t=>t.value)}}function Ml(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ml(n,t);if(r)return r}return null}function Na(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Na(n,t);if(r.length)return r.unshift(e),r}return[]}class di{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pi(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bh extends Uh{constructor(e,t){super(e),this.snapshot=t,qu(this,e)}toString(){return this.snapshot.toString()}}function wm(n,e){const t=function AI(n,e){const c=new jh([],{},{},"",{},ut,e,null,{});return new $h("",new di(c,[]))}(0,e),r=new Nn.X([new $r("",{})]),i=new Nn.X({}),a=new Nn.X({}),c=new Nn.X({}),p=new Nn.X(""),g=new zu(r,i,c,p,a,ut,e,t.root);return g.snapshot=t.root,new Bh(new di(g,[]),t)}class zu{constructor(e,t,r,i,a,c,p,g){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=c,this.component=p,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,ft.U)(y=>y[Zi]))??(0,je.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(e=>Ai(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(e=>Ai(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function SI(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class jh{get title(){return this.data?.[Zi]}constructor(e,t,r,i,a,c,p,g,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=p,this.routeConfig=g,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ai(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ai(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $h extends Uh{constructor(e,t){super(t),this.url=e,qu(this,t)}toString(){return Cm(this._root)}}function qu(n,e){e.value._routerState=n,e.children.forEach(t=>qu(n,t))}function Cm(n){const e=n.children.length>0?` { ${n.children.map(Cm).join(", ")} } `:"";return`${n.value}${e}`}function Wu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,st(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),st(e.params,t.params)||n.paramsSubject.next(t.params),function Vu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!st(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),st(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Dm(n,e){const t=st(n.params,e.params)&&function Rn(n,e){return Pr(n,e)&&n.every((t,r)=>st(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Dm(n.parent,e.parent))}let bm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Oa),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(Yu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,g=new Ku(t,p,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]})}return n})();class Ku{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===zu?this.route:e===Oa?this.childContexts:this.parent.get(e,t)}}const Yu=new h.OlP("");let v=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Vs([r.queryParams,r.params,r.data]).pipe((0,fn.w)(([a,c,p],g)=>(p={...a,...c,...p},0===g?(0,je.of)(p):Promise.resolve(p)))).subscribe(a=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const c=(0,h.qFp)(r.component);if(c)for(const{templateName:p}of c.inputs)t.activatedComponentRef.setInput(p,a[p]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function T(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function A(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return T(n,r,i);return T(n,r)})}(n,e,t);return new di(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>T(n,p)),c}}const r=function F(n){return new zu(new Nn.X(n.url),new Nn.X(n.params),new Nn.X(n.queryParams),new Nn.X(n.fragment),new Nn.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>T(n,a));return new di(r,i)}}const G="ngNavigationCancelingError";function se(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=sn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$e(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function $e(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[G]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Vt(n){return n&&n[G]}let At=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(r,i){1&r&&h._UZ(0,"router-outlet")},dependencies:[bm],encapsulation:2})}return n})();function ss(n){const e=n.children&&n.children.map(ss),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ut&&(t.component=At),t}function Yn(n){return n.outlet||ut}function ka(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class z0{constructor(e,t,r,i,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Wu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Pi(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Pi(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Pi(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Pi(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Em(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Sl(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Wu(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),Wu(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=ka(i.snapshot);c.attachRef=null,c.route=i,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Sm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vo{constructor(e,t){this.component=e,this.route=t}}function xi(n,e,t){const r=n._root;return xl(r,e?e._root:null,t,[r.value])}function Qu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function xl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Pi(e);return n.children.forEach(c=>{(function qo(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const g=function RI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Pr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pr(n.url,e.url)||!st(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dm(n,e)||!st(n.queryParams,e.queryParams);default:return!Dm(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new Sm(r)):(a.data=c.data,a._resolvedData=c._resolvedData),xl(n,e,a.component?p?p.children:null:t,r,i),g&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new vo(p.outlet.component,c))}else c&&Ol(e,p,i),i.canActivateChecks.push(new Sm(r)),xl(n,null,a.component?p?p.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Object.entries(a).forEach(([c,p])=>Ol(p,t.getContext(c),i)),i}function Ol(n,e,t){const r=Pi(n),i=n.value;Object.entries(r).forEach(([a,c])=>{Ol(c,i.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new vo(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Zu(n){return"function"==typeof n}function OI(n){return n instanceof qn||"EmptyError"===n?.name}const Nl=Symbol("INITIAL_VALUE");function Ts(){return(0,fn.w)(n=>Vs(n.map(e=>e.pipe(An(1),Nu(Nl)))).pipe((0,ft.U)(e=>{for(const t of e)if(!0!==t){if(t===Nl)return Nl;if(!1===t||t instanceof xt)return t}return!0}),pn(e=>e!==Nl),An(1)))}function lr(n){return(0,Ra.z)(Sn(e=>{if(sn(e))throw se(0,e)}),(0,ft.U)(e=>!0===e))}class Wo{constructor(e){this.segmentGroup=e||null}}class Cs{constructor(e){this.urlTree=e}}function Ko(n){return mr(new Wo(n))}function Hh(n){return mr(new Cs(n))}class LI{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,je.of)(r);if(i.numberOfChildren>1||!i.children[ut])return mr(new h.vHH(4e3,!1));i=i.children[ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new xt(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const p=a.substring(1);r[i]=t[p]}else r[i]=a}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Object.entries(t.children).forEach(([p,g])=>{c[p]=this.createSegmentGroup(e,g,r,i)}),new ct(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const wr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Eo(n,e,t,r,i){const a=Gh(n,e,t);return a.matched?(r=function Et(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function FI(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,je.of)(!0);const a=i.map(c=>{const p=Qu(c,n);return or(function aN(n){return n&&Zu(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))});return(0,je.of)(a).pipe(Ts(),lr())}(r,e,t).pipe((0,ft.U)(c=>!0===c?a:{...wr}))):(0,je.of)(a)}function Gh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...wr}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Lu)(t,n,e);if(!i)return{...wr};const a={};Object.entries(i.posParams??{}).forEach(([p,g])=>{a[p]=g.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Fa(n,e,t,r){return t.length>0&&function VI(n,e,t){return t.some(r=>zh(n,e,r)&&Yn(r)!==ut)}(n,t,r)?{segmentGroup:new ct(e,tA(r,new ct(t,n.children))),slicedSegments:[]}:0===t.length&&function nA(n,e,t){return t.some(r=>zh(n,e,r))}(n,t,r)?{segmentGroup:new ct(n.segments,Io(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ct(n.segments,n.children),slicedSegments:t}}function Io(n,e,t,r,i){const a={};for(const c of r)if(zh(n,t,c)&&!i[Yn(c)]){const p=new ct([],{});a[Yn(c)]=p}return{...i,...a}}function tA(n,e){const t={};t[ut]=e;for(const r of n)if(""===r.path&&Yn(r)!==ut){const i=new ct([],{});t[Yn(r)]=i}return t}function zh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Mm{constructor(e,t,r,i,a,c,p){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=c,this.urlSerializer=p,this.allowRedirects=!0,this.applyRedirects=new LI(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=Fa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ut).pipe(bi(t=>{if(t instanceof Cs)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Wo?this.noMatchError(t):t}),(0,ft.U)(t=>{const r=new jh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),i=new di(r,t),a=new $h("",i),c=function Kn(n,e,t=null,r=null){return rs(_o(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(a._root),{state:a,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ut).pipe(bi(r=>{throw r instanceof Wo?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Tm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,hn.D)(i).pipe(ys(a=>{const c=r.children[a],p=function Yt(n,e){const t=n.filter(r=>Yn(r)===e);return t.push(...n.filter(r=>Yn(r)!==e)),t}(t,a);return this.processSegmentGroup(e,p,c,a)}),function Tl(n,e){return(0,Fn.e)(function hm(n,e,t,r,i){return(a,c)=>{let p=t,g=e,y=0;a.subscribe((0,kn.x)(c,I=>{const D=y++;g=p?n(g,I,D):(p=!0,I),r&&c.next(g)},i&&(()=>{p&&c.next(g),c.complete()})))}}(n,e,arguments.length>=2,!0))}((a,c)=>(a.push(...c),a)),Uo(null),function fm(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pn((i,a)=>n(i,a,r)):Wi.y,Pa(1),t?Uo(e):sr(()=>new qn))}(),(0,Vn.z)(a=>{if(null===a)return Ko(r);const c=qh(a);return function rA(n){n.sort((e,t)=>e.value.outlet===ut?-1:t.value.outlet===ut?1:e.value.outlet.localeCompare(t.value.outlet))}(c),(0,je.of)(c)}))}processSegment(e,t,r,i,a,c){return(0,hn.D)(t).pipe(ys(p=>this.processSegmentAgainstRoute(p._injector??e,t,p,r,i,a,c).pipe(bi(g=>{if(g instanceof Wo)return(0,je.of)(null);throw g}))),jr(p=>!!p),bi(p=>{if(OI(p))return function Pm(n,e,t){return 0===e.length&&!n.children[t]}(r,i,a)?(0,je.of)([]):Ko(r);throw p}))}processSegmentAgainstRoute(e,t,r,i,a,c,p){return function Rm(n,e,t,r){return!!(Yn(n)===r||r!==ut&&zh(e,t,n))&&("**"===n.path||Gh(e,n,t).matched)}(r,i,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,a,c,p):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,a,c):Ko(i):Ko(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Hh(a):this.applyRedirects.lineralizeSegments(r,a).pipe((0,Vn.z)(c=>{const p=new ct(c,{});return this.processSegment(e,t,p,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:p,consumedSegments:g,remainingSegments:y,positionalParamSegments:I}=Gh(t,i,a);if(!p)return Ko(t);const D=this.applyRedirects.applyRedirectCommands(g,i.redirectTo,I);return i.redirectTo.startsWith("/")?Hh(D):this.applyRedirects.lineralizeSegments(i,D).pipe((0,Vn.z)(x=>this.processSegment(e,r,t,x.concat(y),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a,c){let p;if("**"===r.path){const g=i.length>0?Wn(i).parameters:{},y=new jh(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xm(r),Yn(r),r.component??r._loadedComponent??null,r,Om(r));p=(0,je.of)({snapshot:y,consumedSegments:[],remainingSegments:[]}),t.children={}}else p=Eo(t,r,i,e).pipe((0,ft.U)(({matched:g,consumedSegments:y,remainingSegments:I,parameters:D})=>g?{snapshot:new jh(y,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xm(r),Yn(r),r.component??r._loadedComponent??null,r,Om(r)),consumedSegments:y,remainingSegments:I}:null));return p.pipe((0,fn.w)(g=>null===g?Ko(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,fn.w)(({routes:y})=>{const I=r._loadedInjector??e,{snapshot:D,consumedSegments:x,remainingSegments:L}=g,{segmentGroup:Z,slicedSegments:J}=Fa(t,x,L,y);if(0===J.length&&Z.hasChildren())return this.processChildren(I,y,Z).pipe((0,ft.U)(_e=>null===_e?null:[new di(D,_e)]));if(0===y.length&&0===J.length)return(0,je.of)([new di(D,[])]);const re=Yn(r)===a;return this.processSegment(I,y,Z,J,re?ut:a,!0).pipe((0,ft.U)(_e=>[new di(D,_e)]))}))))}getChildConfig(e,t,r){return t.children?(0,je.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,je.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function kI(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,je.of)(!0);const a=i.map(c=>{const p=Qu(c,n);return or(function MI(n){return n&&Zu(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))});return(0,je.of)(a).pipe(Ts(),lr())}(e,t,r).pipe((0,Vn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Sn(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function cN(n){return mr($e(!1,3))}())):(0,je.of)({routes:[],injector:e})}}function BI(n){const e=n.value.routeConfig;return e&&""===e.path}function qh(n){const e=[],t=new Set;for(const r of n){if(!BI(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=qh(r.children);e.push(new di(r.value,i))}return e.filter(r=>!t.has(r))}function xm(n){return n.data||{}}function Om(n){return n.resolve||{}}function an(n){return"string"==typeof n.title||null===n.title}function km(n){return(0,fn.w)(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,ft.U)(()=>e)):(0,je.of)(e)})}const Ju=new h.OlP("ROUTES");let Fm=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,je.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=or(t.loadComponent()).pipe((0,ft.U)(Lm),Sn(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),po(()=>{this.componentLoaders.delete(t)})),i=new Bs(r,()=>new Ln.x).pipe(Us());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,je.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=function aA(n,e,t,r){return or(n.loadChildren()).pipe((0,ft.U)(Lm),(0,Vn.z)(i=>i instanceof h.YKP||Array.isArray(i)?(0,je.of)(i):(0,hn.D)(e.compileModuleAsync(i))),(0,ft.U)(i=>{r&&r(n);let a,c,p=!1;return Array.isArray(i)?(c=i,!0):(a=i.create(t).injector,c=a.get(Ju,[],{optional:!0,self:!0}).flat()),{routes:c.map(ss),injector:a}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(po(()=>{this.childrenLoaders.delete(r)})),c=new Bs(a,()=>new Ln.x).pipe(Us());return this.childrenLoaders.set(r,c),c}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lm(n){return function $I(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Va=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ln.x,this.transitionAbortSubject=new Ln.x,this.configLoader=(0,h.f3M)(Fm),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(ar),this.rootContexts=(0,h.f3M)(Oa),this.inputBindingEnabled=null!==(0,h.f3M)(Yu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,je.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Al(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ur(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Nn.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:w,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pn(a=>0!==a.id),(0,ft.U)(a=>({...a,extractedUrl:t.urlHandlingStrategy.extract(a.rawUrl)})),(0,fn.w)(a=>{this.currentTransition=a;let c=!1,p=!1;return(0,je.of)(a).pipe(Sn(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,fn.w)(g=>{const y=g.currentBrowserUrl.toString(),I=!t.navigated||g.extractedUrl.toString()!==y||y!==g.currentUrlTree.toString();if(!I&&"reload"!==(g.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const x="";return this.events.next(new Un(g.id,this.urlSerializer.serialize(g.rawUrl),x,0)),g.resolve(null),_r.E}if(t.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return(0,je.of)(g).pipe((0,fn.w)(x=>{const L=this.transitions?.getValue();return this.events.next(new V(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions?.getValue()?_r.E:Promise.resolve(x)}),function jI(n,e,t,r,i,a){return(0,Vn.z)(c=>function UI(n,e,t,r,i,a,c="emptyOnly"){return new Mm(n,e,t,r,i,c,a).recognize()}(n,e,t,r,c.extractedUrl,i,a).pipe((0,ft.U)(({state:p,tree:g})=>({...c,targetSnapshot:p,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Sn(x=>{a.targetSnapshot=x.targetSnapshot,a.urlAfterRedirects=x.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects};const L=new Is(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(L)}));if(I&&t.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:x,extractedUrl:L,source:Z,restoredState:J,extras:re}=g,_e=new V(x,this.urlSerializer.serialize(L),Z,J);this.events.next(_e);const Fe=wm(0,this.rootComponentType).snapshot;return this.currentTransition=a={...g,targetSnapshot:Fe,urlAfterRedirects:L,extras:{...re,skipLocationChange:!1,replaceUrl:!1}},(0,je.of)(a)}{const x="";return this.events.next(new Un(g.id,this.urlSerializer.serialize(g.extractedUrl),x,1)),g.resolve(null),_r.E}}),Sn(g=>{const y=new ci(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}),(0,ft.U)(g=>(this.currentTransition=a={...g,guards:xi(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},a)),function Y0(n,e){return(0,Vn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?(0,je.of)({...t,guardsResult:!0}):function Q0(n,e,t,r){return(0,hn.D)(n).pipe((0,Vn.z)(i=>function NI(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,je.of)(!0);const c=a.map(p=>{const g=ka(e)??i,y=Qu(p,g);return or(function xI(n){return n&&Zu(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,r):g.runInContext(()=>y(n,e,t,r))).pipe(jr())});return(0,je.of)(c).pipe(Ts())}(i.component,i.route,t,e,r)),jr(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Vn.z)(p=>p&&function PI(n){return"boolean"==typeof n}(p)?function Z0(n,e,t,r){return(0,hn.D)(e).pipe(ys(i=>gr(function X0(n,e){return null!==n&&e&&e(new Hr(n)),(0,je.of)(!0)}(i.route.parent,r),function J0(n,e){return null!==n&&e&&e(new vm(n)),(0,je.of)(!0)}(i.route,r),function Rt(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function q0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Qi(()=>{const p=c.guards.map(g=>{const y=ka(c.node)??t,I=Qu(g,y);return or(function ot(n){return n&&Zu(n.canActivateChild)}(I)?I.canActivateChild(r,n):y.runInContext(()=>I(r,n))).pipe(jr())});return(0,je.of)(p).pipe(Ts())}));return(0,je.of)(a).pipe(Ts())}(n,i.path,t),function ce(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,je.of)(!0);const i=r.map(a=>Qi(()=>{const c=ka(e)??t,p=Qu(a,c);return or(function W0(n){return n&&Zu(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(jr())}));return(0,je.of)(i).pipe(Ts())}(n,i.route,t))),jr(i=>!0!==i,!0))}(r,a,n,e):(0,je.of)(p)),(0,ft.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,g=>this.events.next(g)),Sn(g=>{if(a.guardsResult=g.guardsResult,sn(g.guardsResult))throw se(0,g.guardsResult);const y=new li(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(y)}),pn(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",3),!1)),km(g=>{if(g.guards.canActivateChecks.length)return(0,je.of)(g).pipe(Sn(y=>{const I=new Hu(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}),(0,fn.w)(y=>{let I=!1;return(0,je.of)(y).pipe(function Nm(n,e){return(0,Vn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,je.of)(t);let a=0;return(0,hn.D)(i).pipe(ys(c=>function sA(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!an(i)&&(a[Zi]=i.title),function oA(n,e,t,r){const i=function Gr(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,je.of)({});const a={};return(0,hn.D)(i).pipe((0,Vn.z)(c=>function La(n,e,t,r){const i=ka(e)??r,a=Qu(n,i);return or(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(jr(),Sn(p=>{a[c]=p}))),Pa(1),yr(a),bi(c=>OI(c)?_r.E:mr(c)))}(a,n,e,r).pipe((0,ft.U)(c=>(n._resolvedData=c,n.data=Tm(n,t).resolve,i&&an(i)&&(n.data[Zi]=i.title),null)))}(c.route,r,n,e)),Sn(()=>a++),Pa(1),(0,Vn.z)(c=>a===i.length?(0,je.of)(t):_r.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),Sn({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(y,"",2)}}))}),Sn(y=>{const I=new Gu(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}))}),km(g=>{const y=I=>{const D=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(I.routeConfig).pipe(Sn(x=>{I.component=x}),(0,ft.U)(()=>{})));for(const x of I.children)D.push(...y(x));return D};return Vs(y(g.targetSnapshot.root)).pipe(Uo(),An(1))}),km(()=>this.afterPreactivation()),(0,ft.U)(g=>{const y=function P(n,e,t){const r=T(n,e._root,t?t._root:void 0);return new Bh(r,e)}(t.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=a={...g,targetRouterState:y},a}),Sn(()=>{this.events.next(new zo)}),((n,e,t,r)=>(0,ft.U)(i=>(new z0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),An(1),Sn({next:g=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Le(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),t.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{c=!0}}),Bo(this.transitionAbortSubject.pipe(Sn(g=>{throw g}))),po(()=>{c||p||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),bi(g=>{if(p=!0,Vt(g))this.events.next(new Je(a.id,this.urlSerializer.serialize(a.extractedUrl),g.message,g.cancellationCode)),function zt(n){return Vt(n)&&sn(n.url)}(g)?this.events.next(new Pl(g.url)):a.resolve(!1);else{this.events.next(new is(a.id,this.urlSerializer.serialize(a.extractedUrl),g,a.targetSnapshot??void 0));try{a.resolve(t.errorHandler(g))}catch(y){a.reject(y)}}return _r.E}))}))}cancelNavigationTransition(t,r,i){const a=new Je(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wo(n){return n!==w}let HI=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===ut);return r}getResolvedTitleForRoute(t){return t.data[Zi]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Wh)},providedIn:"root"})}return n})(),Wh=(()=>{class n extends HI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Br))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Vm)},providedIn:"root"})}return n})();class Yh{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Vm=(()=>{class n extends Yh{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=h.n5z(n)))(i||n)}}();static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kl=new h.OlP("",{providedIn:"root",factory:()=>({})});let GI=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(uA)},providedIn:"root"})}return n})(),uA=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zs=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(zs||{});function Xu(n,e){n.events.pipe(pn(t=>t instanceof Le||t instanceof Je||t instanceof is||t instanceof Un),(0,ft.U)(t=>t instanceof Le||t instanceof Un?zs.COMPLETE:t instanceof Je&&(0===t.code||1===t.code)?zs.REDIRECTING:zs.FAILED),pn(t=>t!==zs.REDIRECTING),An(1)).subscribe(()=>{e()})}function cA(n){throw n}function lN(n,e,t){return e.parse("/")}const Um={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this._events=new Ln.x,this.options=(0,h.f3M)(kl,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||cA,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lN,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(GI),this.routeReuseStrategy=(0,h.f3M)(Kh),this.titleStrategy=(0,h.f3M)(HI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(Ju,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(Va),this.urlSerializer=(0,h.f3M)(ar),this.location=(0,h.f3M)(j.Ye),this.componentInputBindingEnabled=!!(0,h.f3M)(Yu,{optional:!0}),this.eventsSubscription=new ms.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wm(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(dA(r)&&this._events.next(r));if(r instanceof V)wo(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Un)this.rawUrlTree=i.rawUrl;else if(r instanceof Is){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const a=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(a,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof zo)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Je)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Pl){const a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||wo(i.source)};this.scheduleNavigation(a,w,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof is&&this.restoreHistory(i,!0),r instanceof Le&&(this.navigated=!0),dA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),w,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const g={...i};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const p=this.parseUrl(t);this.scheduleNavigation(p,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ss),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:p,preserveFragment:g}=r,y=g?this.currentUrlTree.fragment:c;let D,I=null;switch(p){case"merge":I={...this.currentUrlTree.queryParams,...a};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}null!==I&&(I=this.removeEmptyProps(I));try{D=_o(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),D=this.currentUrlTree.root}return rs(D,t,I,y??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=sn(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,w,null,r)}navigate(t,r={skipLocationChange:!1}){return function lA(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Um}:!1===r?{...dN}:r,sn(t))return Ma(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Ma(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let p,g,y;c?(p=c.resolve,g=c.reject,y=c.promise):y=new Promise((D,x)=>{p=D,g=x});const I=this.pendingTasks.add();return Xu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:a,resolve:p,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(D=>Promise.reject(D))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-this.browserPageId;0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dA(n){return!(n instanceof zo||n instanceof Pl)}let Bm=(()=>{class n{constructor(t,r,i,a,c,p){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.locationStrategy=p,this.href=null,this.commands=null,this.onChanges=new Ln.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=t.events.subscribe(y=>{y instanceof Le&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(zr),h.Y36(zu),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(j.S$))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&h.NdJ("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&r&&h.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]})}return n})();class zI{}let Zh=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(pn(t=>t instanceof Le),ys(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,h.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,p=a._loadedInjector??c;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(c,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(p,a.children??a._loadedRoutes))}return(0,hn.D)(i).pipe((0,ir.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,je.of)(null);const a=i.pipe((0,Vn.z)(c=>null===c?(0,je.of)(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,hn.D)([a,c]).pipe((0,ir.J)())}return a})}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(zr),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(zI),h.LFG(Fm))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const WI=new h.OlP("");let $m=(()=>{class n{constructor(t,r,i,a,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof V?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Le?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Un&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Rl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){h.$Z()};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function dr(n,e){return{\u0275kind:n,\u0275providers:e}}function Ll(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(zr),i=n.get(Jh);1===n.get(Gm)&&r.initialNavigation(),n.get(zm,null,h.XFs.Optional)?.setUpPreloading(),n.get(WI,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Jh=new h.OlP("",{factory:()=>new Ln.x}),Gm=new h.OlP("",{providedIn:"root",factory:()=>1}),zm=new h.OlP("");function mA(n){return dr(0,[{provide:zm,useExisting:Zh},{provide:zI,useExisting:n}])}const tc=new h.OlP("ROUTER_FORROOT_GUARD"),yA=[j.Ye,{provide:ar,useClass:Ji},zr,Oa,{provide:zu,useFactory:function KI(n){return n.routerState.root},deps:[zr]},Fm,[]];function qr(){return new h.PXZ("Router",zr)}let XI=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[yA,[],{provide:Ju,multi:!0,useValue:t},{provide:tc,useFactory:tw,deps:[[zr,new h.FiY,new h.tp0]]},{provide:kl,useValue:r||{}},r?.useHash?{provide:j.S$,useClass:j.Do}:{provide:j.S$,useClass:j.b0},{provide:WI,useFactory:()=>{const n=(0,h.f3M)(j.EM),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(kl),r=(0,h.f3M)(Va),i=(0,h.f3M)(ar);return t.scrollOffset&&n.setOffset(t.scrollOffset),new $m(i,r,n,e,t)}},r?.preloadingStrategy?mA(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:qr},r?.initialNavigation?Km(r):[],r?.bindToComponentInputs?dr(8,[v,{provide:Yu,useExisting:v}]).\u0275providers:[],[{provide:Ua,useFactory:Ll},{provide:h.tb,multi:!0,useExisting:Ua}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ju,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(tc,8))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();function tw(n){return"guarded"}function Km(n){return["disabled"===n.initialNavigation?dr(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(zr);return()=>{e.setUpLocationChangeListener()}}},{provide:Gm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?dr(2,[{provide:Gm,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(j.V_,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(zr),a=e.get(Jh);Xu(i,()=>{r(!0)}),e.get(Va).afterPreactivation=()=>(r(!0),a.closed?(0,je.of)(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const Ua=new h.OlP("");function IA(n,e,t,r,i,a,c){try{var p=n[a](c),g=p.value}catch(y){return void t(y)}p.done?e(g):Promise.resolve(g).then(r,i)}function k(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function c(g){IA(a,r,i,c,p,"next",g)}function p(g){IA(a,r,i,c,p,"throw",g)}c(void 0)})}}const wA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],c=i+1<n.length,p=c?n[i+1]:0,g=i+2<n.length,y=g?n[i+2]:0;let x=(15&p)<<2|y>>6,L=63&y;g||(L=64,c||(x=64)),r.push(t[a>>2],t[(3&a)<<4|p>>4],t[x],t[L])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const g=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(1023&g))}else{const a=n[t++],c=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],p=i<n.length?t[n.charAt(i)]:0;++i;const y=i<n.length?t[n.charAt(i)]:64;++i;const D=i<n.length?t[n.charAt(i)]:64;if(++i,null==a||null==p||null==y||null==D)throw new TA;r.push(a<<2|p>>4),64!==y&&(r.push(p<<4&240|y>>2),64!==D&&r.push(y<<6&192|D))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xh=function(n){return function(n){const e=wA(n);return iw.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Yo=function(n){try{return iw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Ym=()=>{try{return function sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yo(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},ow=n=>{var e,t;return null===(t=null===(e=Ym())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},fi=()=>{var n;return null===(n=Ym())||void 0===n?void 0:n.config},tf=n=>{var e;return null===(e=Ym())||void 0===e?void 0:e[`_${n}`]};class Ba{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Zn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function aw(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Xm(){try{return"object"==typeof indexedDB}catch{return!1}}function sc(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e((null===(a=i.error)||void 0===a?void 0:a.message)||"")}}catch(t){e(t)}})}function uw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ni extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ds.prototype.create)}}class Ds{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?function lw(n,e){return n.replace(SA,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(a,r):"Error";return new Ni(i,`${this.serviceName}: ${c} (${i}).`,r)}}const SA=/\{\$([^}]+)}/g;function Zo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],c=e[i];if(e_(a)&&e_(c)){if(!Zo(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function e_(n){return null!==n&&"object"==typeof n}function oc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class OA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function AN(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=fw),void 0===i.error&&(i.error=fw),void 0===i.complete&&(i.complete=fw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fw(){}const nf=1e3,mw=2,_w=144e5,yw=.5;function ja(n,e=nf,t=mw){const r=e*Math.pow(t,n),i=Math.round(yw*r*(Math.random()-.5)*2);return Math.min(_w,r+i)}function Qt(n){return n&&n._delegate?n._delegate:n}class xr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qs="[DEFAULT]";class kA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ba;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function LA(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return k(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,c]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(a)&&c.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===qs?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ew{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const $l=[];var St=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(St||{});const Iw={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},VA=St.INFO,ww={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},UA=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=ww[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class rf{constructor(e){this.name=e,this._logLevel=VA,this._logHandler=UA,this._userLogHandler=null,$l.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Iw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...e),this._logHandler(this,St.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...e),this._logHandler(this,St.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,St.INFO,...e),this._logHandler(this,St.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,St.WARN,...e),this._logHandler(this,St.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...e),this._logHandler(this,St.ERROR,...e)}}const Cw=(n,e)=>e.some(t=>n instanceof t);let sf,Tr;const n_=new WeakMap,r_=new WeakMap,i_=new WeakMap,s_=new WeakMap,af=new WeakMap;let o_={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return r_.get(n);if("objectStoreNames"===e)return n.objectStoreNames||i_.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function u_(n){return"function"==typeof n?function a_(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dw(){return Tr||(Tr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply($a(this),e),Jo(n_.get(this))}:function(...e){return Jo(n.apply($a(this),e))}:function(e,...t){const r=n.call($a(this),e,...t);return i_.set(r,e.sort?e.sort():[e]),Jo(r)}}(n):(n instanceof IDBTransaction&&function bw(n){if(r_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});r_.set(n,e)}(n),Cw(n,function Hl(){return sf||(sf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,o_):n)}function Jo(n){if(n instanceof IDBRequest)return function BA(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Jo(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&n_.set(t,n)}).catch(()=>{}),af.set(e,n),e}(n);if(s_.has(n))return s_.get(n);const e=u_(n);return e!==n&&(s_.set(n,e),af.set(e,n)),e}const $a=n=>af.get(n),Aw=["get","getKey","getAll","getAllKeys","count"],Sw=["put","add","delete","clear"],uf=new Map;function Ha(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(uf.get(e))return uf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Sw.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Aw.includes(t))return;const a=function(){var c=k(function*(p,...g){const y=this.transaction(p,i?"readwrite":"readonly");let I=y.store;return r&&(I=I.index(g.shift())),(yield Promise.all([I[t](...g),i&&y.done]))[0]});return function(g){return c.apply(this,arguments)}}();return uf.set(e,a),a}!function jA(n){o_=n(o_)}(n=>({...n,get:(e,t,r)=>Ha(e,t)||n.get(e,t,r),has:(e,t)=>!!Ha(e,t)||n.has(e,t)}));class cf{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Rw(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Gl="@firebase/app",Ga=new rf("@firebase/app"),qa="[DEFAULT]",ql={[Gl]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xo=new Map,ac=new Map;function hf(n,e){try{n.container.addComponent(e)}catch(t){Ga.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pi(n){const e=n.name;if(ac.has(e))return Ga.debug(`There were multiple attempts to register component ${e}.`),!1;ac.set(e,n);for(const t of Xo.values())hf(t,n);return!0}function Fi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const To=new Ds("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tS{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}const Wa="10.4.0";function f_(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:qa,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw To.create("bad-app-name",{appName:String(i)});if(t||(t=fi()),!t)throw To.create("no-options");const a=Xo.get(i);if(a){if(Zo(t,a.options)&&Zo(r,a.config))return a;throw To.create("duplicate-app",{appName:i})}const c=new Ew(i);for(const g of ac.values())c.addComponent(g);const p=new tS(t,r,c);return Xo.set(i,p),p}function Ka(n=qa){const e=Xo.get(n);if(!e&&n===qa&&fi())return f_();if(!e)throw To.create("no-app",{appName:n});return e}function gi(n,e,t){var r;let i=null!==(r=ql[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const p=[`Unable to register library "${i}" with version "${e}":`];return a&&p.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ga.warn(p.join(" "))}pi(new xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const g_="firebase-heartbeat-database",nS=1,Ws="firebase-heartbeat-store";let uc=null;function ff(){return uc||(uc=function $A(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(n,e),p=Jo(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Jo(c.result),g.oldVersion,g.newVersion,Jo(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{a&&g.addEventListener("close",()=>a()),i&&g.addEventListener("versionchange",y=>i(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}(g_,nS,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ws)}}).catch(n=>{throw To.create("idb-open",{originalErrorMessage:n.message})})),uc}function pf(){return(pf=k(function*(n){try{return yield(yield ff()).transaction(Ws).objectStore(Ws).get(Bw(n))}catch(e){if(e instanceof Ni)Ga.warn(e.message);else{const t=To.create("idb-get",{originalErrorMessage:e?.message});Ga.warn(t.message)}}})).apply(this,arguments)}function m_(n,e){return Co.apply(this,arguments)}function Co(){return(Co=k(function*(n,e){try{const r=(yield ff()).transaction(Ws,"readwrite");yield r.objectStore(Ws).put(e,Bw(n)),yield r.done}catch(t){if(t instanceof Ni)Ga.warn(t.message);else{const r=To.create("idb-set",{originalErrorMessage:t?.message});Ga.warn(r.message)}}})).apply(this,arguments)}function Bw(n){return`${n.name}!${n.options.appId}`}class sS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cc(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return k(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jw();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(a=>a.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return k(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=jw(),{heartbeatsToSend:r,unsentEntries:i}=function Do(n,e=1024){const t=[];let r=n.slice();for(const i of n){const a=t.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),$w(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$w(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),a=Xh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),a})()}}function jw(){return(new Date).toISOString().substring(0,10)}class cc{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return k(function*(){return!!Xm()&&sc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return k(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Uw(n){return pf.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return k(function*(){var r;if(yield t._canUseIndexedDBPromise){const a=yield t.read();return m_(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return k(function*(){var r;if(yield t._canUseIndexedDBPromise){const a=yield t.read();return m_(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}})()}}function $w(n){return Xh(JSON.stringify({version:2,heartbeats:n})).length}!function oS(n){pi(new xr("platform-logger",e=>new cf(e),"PRIVATE")),pi(new xr("heartbeat",e=>new sS(e),"PRIVATE")),gi(Gl,"0.9.19",n),gi(Gl,"0.9.19","esm2017"),gi("fire-js","")}(""),gi("firebase","10.4.0","app");const cS=(n,e)=>e.some(t=>n instanceof t);let Hw,__;const Gw=new WeakMap,y_=new WeakMap,Kl=new WeakMap,bs=new WeakMap,Ya=new WeakMap;let gf={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return y_.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Kl.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ks(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function kN(n){return"function"==typeof n?function NN(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dS(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Yl(this),e),Ks(Gw.get(this))}:function(...e){return Ks(n.apply(Yl(this),e))}:function(e,...t){const r=n.call(Yl(this),e,...t);return Kl.set(r,e.sort?e.sort():[e]),Ks(r)}}(n):(n instanceof IDBTransaction&&function qw(n){if(y_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});y_.set(n,e)}(n),cS(n,function lS(){return Hw||(Hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,gf):n)}function Ks(n){if(n instanceof IDBRequest)return function zw(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Ks(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Gw.set(t,n)}).catch(()=>{}),Ya.set(e,n),e}(n);if(bs.has(n))return bs.get(n);const e=kN(n);return e!==n&&(bs.set(n,e),Ya.set(e,n)),e}const Yl=n=>Ya.get(n),Ww=["get","getKey","getAll","getAllKeys","count"],hS=["put","add","delete","clear"],v_=new Map;function Kw(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(v_.get(e))return v_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=hS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ww.includes(t))return;const a=function(){var c=k(function*(p,...g){const y=this.transaction(p,i?"readwrite":"readonly");let I=y.store;return r&&(I=I.index(g.shift())),(yield Promise.all([I[t](...g),i&&y.done]))[0]});return function(g){return c.apply(this,arguments)}}();return v_.set(e,a),a}!function ON(n){gf=n(gf)}(n=>({...n,get:(e,t,r)=>Kw(e,t)||n.get(e,t,r),has:(e,t)=>!!Kw(e,t)||n.has(e,t)}));const Yw="@firebase/installations",mf="0.6.4",Ql=1e4,E_=`w:${mf}`,_f="FIS_v2",fS="https://firebaseinstallations.googleapis.com/v1",Qa=36e5,Ys=new Ds("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qw(n){return n instanceof Ni&&n.code.includes("request-failed")}function w_({projectId:n}){return`${fS}/projects/${n}/installations`}function Zw(n){return{token:n.token,requestStatus:2,expiresIn:Zl(n.expiresIn),creationTime:Date.now()}}function T_(n,e){return yf.apply(this,arguments)}function yf(){return(yf=k(function*(n,e){const r=(yield e.json()).error;return Ys.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function mS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Za(n){return Ot.apply(this,arguments)}function Ot(){return(Ot=k(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Zl(n){return Number(n.replace("s","000"))}function Jl(){return(Jl=k(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=w_(n),i=mS(n),a=e.getImmediate({optional:!0});if(a){const y=yield a.getHeartbeatsHeader();y&&i.append("x-firebase-client",y)}const p={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:_f,appId:n.appId,sdkVersion:E_})},g=yield Za(()=>fetch(r,p));if(g.ok){const y=yield g.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:Zw(y.authToken)}}throw yield T_("Create Installation",g)})).apply(this,arguments)}function vf(n){return new Promise(e=>{setTimeout(e,n)})}const eT=/^[cdef][\w-]{21}$/,Ef="";function If(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function LN(n){return function yS(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return eT.test(t)?t:Ef}catch{return Ef}}function ea(n){return`${n.appName}!${n.appId}`}const lc=new Map;function wf(n,e){const t=ea(n);ta(t,e),function vS(n,e){const t=function Xl(){return!bo&&"BroadcastChannel"in self&&(bo=new BroadcastChannel("[Firebase] FID Change"),bo.onmessage=n=>{ta(n.data.key,n.data.fid)}),bo}();t&&t.postMessage({key:n,fid:e}),function rT(){0===lc.size&&bo&&(bo.close(),bo=null)}()}(t,e)}function ta(n,e){const t=lc.get(n);if(t)for(const r of t)r(e)}let bo=null;const C_="firebase-installations-database",Tf=1,Or="firebase-installations-store";let dc=null;function ed(){return dc||(dc=function FN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(n,e),p=Ks(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Ks(c.result),g.oldVersion,g.newVersion,Ks(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),p.then(g=>{a&&g.addEventListener("close",()=>a()),i&&g.addEventListener("versionchange",()=>i())}).catch(()=>{}),p}(C_,Tf,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Or)}})),dc}function Cf(n,e){return D_.apply(this,arguments)}function D_(){return(D_=k(function*(n,e){const t=ea(n),i=(yield ed()).transaction(Or,"readwrite"),a=i.objectStore(Or),c=yield a.get(t);return yield a.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&wf(n,e.fid),e})).apply(this,arguments)}function Df(n){return na.apply(this,arguments)}function na(){return(na=k(function*(n){const e=ea(n),r=(yield ed()).transaction(Or,"readwrite");yield r.objectStore(Or).delete(e),yield r.done})).apply(this,arguments)}function td(n,e){return b_.apply(this,arguments)}function b_(){return(b_=k(function*(n,e){const t=ea(n),i=(yield ed()).transaction(Or,"readwrite"),a=i.objectStore(Or),c=yield a.get(t),p=e(c);return void 0===p?yield a.delete(t):yield a.put(p,t),yield i.done,p&&(!c||c.fid!==p.fid)&&wf(n,p.fid),p})).apply(this,arguments)}function A_(n){return nd.apply(this,arguments)}function nd(){return nd=k(function*(n){let e;const t=yield td(n.appConfig,r=>{const i=function iT(n){return uT(n||{fid:If(),registrationStatus:0})}(r),a=function ES(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ys.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function sT(n,e){return rd.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:VN(n)}:{installationEntry:e}}(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===Ef?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),nd.apply(this,arguments)}function rd(){return rd=k(function*(n,e){try{const t=yield function Xw(n,e){return Jl.apply(this,arguments)}(n,e);return Cf(n.appConfig,t)}catch(t){throw Qw(t)&&409===t.customData.serverCode?yield Df(n.appConfig):yield Cf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),rd.apply(this,arguments)}function VN(n){return oT.apply(this,arguments)}function oT(){return(oT=k(function*(n){let e=yield aT(n.appConfig);for(;1===e.registrationStatus;)yield vf(100),e=yield aT(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield A_(n);return r||t}return e})).apply(this,arguments)}function aT(n){return td(n,e=>{if(!e)throw Ys.create("installation-not-found");return uT(e)})}function uT(n){return function UN(n){return 1===n.registrationStatus&&n.registrationTime+Ql<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function hc(){return(hc=k(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function IS(n,{fid:e}){return`${w_(n)}/${e}/authTokens:generate`}(n,t),i=function _S(n,{refreshToken:e}){const t=mS(n);return t.append("Authorization",function Jw(n){return`${_f} ${n}`}(e)),t}(n,t),a=e.getImmediate({optional:!0});if(a){const y=yield a.getHeartbeatsHeader();y&&i.append("x-firebase-client",y)}const p={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:E_,appId:n.appId}})},g=yield Za(()=>fetch(r,p));if(g.ok)return Zw(yield g.json());throw yield T_("Generate Auth Token",g)})).apply(this,arguments)}function id(n){return sd.apply(this,arguments)}function sd(){return sd=k(function*(n,e=!1){let t;const r=yield td(n.appConfig,a=>{if(!Ja(a))throw Ys.create("not-registered");const c=a.authToken;if(!e&&function S_(n){return 2===n.requestStatus&&!function R_(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Qa}(n)}(c))return a;if(1===c.requestStatus)return t=function fc(n,e){return od.apply(this,arguments)}(n,e),a;{if(!navigator.onLine)throw Ys.create("app-offline");const p=function Af(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(a);return t=function ad(n,e){return pc.apply(this,arguments)}(n,p),p}});return t?yield t:r.authToken}),sd.apply(this,arguments)}function od(){return(od=k(function*(n,e){let t=yield bf(n.appConfig);for(;1===t.authToken.requestStatus;)yield vf(100),t=yield bf(n.appConfig);const r=t.authToken;return 0===r.requestStatus?id(n,e):r})).apply(this,arguments)}function bf(n){return td(n,e=>{if(!Ja(e))throw Ys.create("not-registered");return function jN(n){return 1===n.requestStatus&&n.requestTime+Ql<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function pc(){return pc=k(function*(n,e){try{const t=yield function BN(n,e){return hc.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Cf(n.appConfig,r),t}catch(t){if(!Qw(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Cf(n.appConfig,r)}else yield Df(n.appConfig);throw t}}),pc.apply(this,arguments)}function Ja(n){return void 0!==n&&2===n.registrationStatus}function Xa(){return(Xa=k(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield A_(e);return r?r.catch(console.error):id(e).catch(console.error),t.fid})).apply(this,arguments)}function Sf(){return Sf=k(function*(n,e=!1){const t=n;return yield function TS(n){return M_.apply(this,arguments)}(t),(yield id(t,e)).token}),Sf.apply(this,arguments)}function M_(){return(M_=k(function*(n){const{registrationPromise:e}=yield A_(n);e&&(yield e)})).apply(this,arguments)}function k_(n){return Ys.create("missing-app-config-values",{valueName:n})}const F_="installations",Pf=n=>{const e=n.getProvider("app").getImmediate(),t=function N_(n){if(!n||!n.options)throw k_("App Configuration");if(!n.name)throw k_("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw k_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Fi(e,"heartbeat"),_delete:()=>Promise.resolve()}},DS=n=>{const t=Fi(n.getProvider("app").getImmediate(),F_).getImmediate();return{getId:()=>function P_(n){return Xa.apply(this,arguments)}(t),getToken:i=>function wS(n){return Sf.apply(this,arguments)}(t,i)}};(function lT(){pi(new xr(F_,Pf,"PUBLIC")),pi(new xr("installations-internal",DS,"PRIVATE"))})(),gi(Yw,mf),gi(Yw,mf,"esm2017");const Mf="analytics",dT="firebase_id",GN="origin",bS=6e4,xf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",V_="https://www.googletagmanager.com/gtag/js",mn=new rf("@firebase/analytics"),Wr=new Ds("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function hT(n){if(!n.startsWith(V_)){const e=Wr.create("invalid-gtag-resource",{gtagURL:n});return mn.warn(e.message),""}return n}function fT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function cd(){return(cd=k(function*(n,e,t,r,i,a){const c=r[i];try{if(c)yield e[c];else{const g=(yield fT(t)).find(y=>y.measurementId===i);g&&(yield e[g.appId])}}catch(p){mn.error(p)}n("config",i,a)})).apply(this,arguments)}function ld(){return(ld=k(function*(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const p=yield fT(t);for(const g of c){const y=p.find(D=>D.measurementId===g),I=y&&e[y.appId];if(!I){a=[];break}a.push(I)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),n("event",r,i||{})}catch(a){mn.error(a)}})).apply(this,arguments)}const mT=30,yT=new class _T{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function OS(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Of(){return(Of=k(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:OS(r)},a=xf.replace("{app-id}",t),c=yield fetch(a,i);if(200!==c.status&&304!==c.status){let p="";try{const g=yield c.json();null!==(e=g.error)&&void 0!==e&&e.message&&(p=g.error.message)}catch{}throw Wr.create("config-fetch-failed",{httpStatus:c.status,responseMessage:p})}return c.json()})).apply(this,arguments)}function Li(){return(Li=k(function*(n,e=yT,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw Wr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Wr.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new j_;return setTimeout(k(function*(){p.abort()}),void 0!==t?t:bS),U_({appId:r,apiKey:i,measurementId:a},c,p,e)})).apply(this,arguments)}function U_(n,e,t){return ET.apply(this,arguments)}function ET(){return ET=k(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=yT){var a;const{appId:c,measurementId:p}=n;try{yield function B_(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(g){if(p)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:p};throw g}try{const g=yield function qN(n){return Of.apply(this,arguments)}(n);return i.deleteThrottleMetadata(c),g}catch(g){const y=g;if(!function ra(n){if(!(n instanceof Ni&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(y)){if(i.deleteThrottleMetadata(c),p)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:c,measurementId:p};throw g}const I=503===Number(null===(a=y?.customData)||void 0===a?void 0:a.httpStatus)?ja(t,i.intervalMillis,mT):ja(t,i.intervalMillis),D={throttleEndTimeMillis:Date.now()+I,backoffCount:t+1};return i.setThrottleMetadata(c,D),mn.debug(`Calling attemptFetch again in ${I} millis`),U_(n,D,r,i)}}),ET.apply(this,arguments)}class j_{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let $_,hd;function H_(){return(H_=k(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const a=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:a}))}})).apply(this,arguments)}function Nf(){return(Nf=k(function*(){if(!Xm())return mn.warn(Wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield sc()}catch(n){return mn.warn(Wr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function Y_(){return Y_=k(function*(n,e,t,r,i,a,c){var p;const g=function vT(n){return Li.apply(this,arguments)}(n);g.then(L=>{t[L.measurementId]=L.appId,n.options.measurementId&&L.measurementId!==n.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>mn.error(L)),e.push(g);const y=function FS(){return Nf.apply(this,arguments)}().then(L=>{if(L)return r.getId()}),[I,D]=yield Promise.all([g,y]);(function MS(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(V_)&&t.src.includes(n))return t;return null})(a)||function SS(n,e){const t=function AS(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:hT}),r=document.createElement("script"),i=`${V_}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(a,I.measurementId),hd&&(i("consent","default",hd),function W_(n){hd=n}(void 0)),i("js",new Date);const x=null!==(p=c?.config)&&void 0!==p?p:{};return x[GN]="firebase",x.update=!0,null!=D&&(x[dT]=D),i("config",I.measurementId,x),$_&&(i("set",$_),function K_(n){$_=n}(void 0)),I.measurementId}),Y_.apply(this,arguments)}class LS{constructor(e){this.app=e}_delete(){return delete Qs[this.app.options.appId],Promise.resolve()}}let Qs={},Q_=[];const eu={};let TT,Zs,as="dataLayer",kf=!1;function fd(n,e,t){!function Z_(){const n=[];if(aw()&&n.push("This is a browser extension environment."),uw()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Wr.create("invalid-analytics-context",{errorInfo:e});mn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Wr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Wr.create("no-api-key");mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qs[r])throw Wr.create("already-exists",{id:r});if(!kf){!function pT(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(as);const{wrappedGtag:a,gtagCore:c}=function PS(n,e,t,r,i){let a=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function gT(n,e,t,r){function a(){return a=k(function*(c,...p){try{if("event"===c){const[g,y]=p;yield function zN(n,e,t,r,i){return ld.apply(this,arguments)}(n,e,t,g,y)}else if("config"===c){const[g,y]=p;yield function RS(n,e,t,r,i,a){return cd.apply(this,arguments)}(n,e,t,r,g,y)}else if("consent"===c){const[g]=p;n("consent","update",g)}else if("get"===c){const[g,y,I]=p;n("get",g,y,I)}else if("set"===c){const[g]=p;n("set",g)}else n(c,...p)}catch(g){mn.error(g)}}),a.apply(this,arguments)}return function i(c){return a.apply(this,arguments)}}(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}(Qs,Q_,eu,as,"gtag");Zs=a,TT=c,kf=!0}return Qs[r]=function wT(n,e,t,r,i,a,c){return Y_.apply(this,arguments)}(n,Q_,eu,e,TT,as,t),new LS(n)}const ey="@firebase/analytics";!function Lf(){pi(new xr(Mf,(e,{options:t})=>fd(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),pi(new xr("analytics-internal",function n(e){try{const t=e.getProvider(Mf).getImmediate();return{logEvent:(r,i,a)=>function JN(n,e,t,r){n=Qt(n),function WN(n,e,t,r,i){return H_.apply(this,arguments)}(Zs,Qs[n.app.options.appId],e,t,r).catch(i=>mn.error(i))}(t,r,i,a)}}catch(t){throw Wr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),gi(ey,"0.10.0"),gi(ey,"0.10.0","esm2017")}();var DT=N(7582);const Vf=function ry(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nu=new Ds("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ia=new rf("@firebase/auth");function gc(n,...e){ia.logLevel<=St.ERROR&&ia.error(`Auth (${Wa}): ${n}`,...e)}function Nr(n,...e){throw sy(n,...e)}function Kr(n,...e){return sy(n,...e)}function iy(n,e,t){const r=Object.assign(Object.assign({},Vf()),{[e]:t});return new Ds("auth","Firebase",r).create(e,{appName:n.name})}function sy(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nu.create(n,...e)}function Ae(n,e,...t){if(!n)throw sy(e,...t)}function Js(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gc(e),new Error(e)}function Xs(n,e){n||Js(e)}function gd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function ST(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class mc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xs(t>e,"Short delay should be less than long delay!"),this.isMobile=function DA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}()||function AA(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function WS(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function oy(){return"http:"===ST()||"https:"===ST()}()||aw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ay(n,e){Xs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class PT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},KS=new mc(3e4,6e4);function un(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function wn(n,e,t,r){return md.apply(this,arguments)}function md(){return(md=k(function*(n,e,t,r,i={}){return uy(n,i,k(function*(){let a={},c={};r&&("GET"===e?c=r:a={body:JSON.stringify(r)});const p=oc(Object.assign({key:n.config.apiKey},c)).slice(1),g=yield n._getAdditionalHeaders();return g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode),PT.fetch()(dy(n,n.config.apiHost,t,p),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},a))}))})).apply(this,arguments)}function uy(n,e,t){return cy.apply(this,arguments)}function cy(){return(cy=k(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vi),e);try{const i=new YS(n),a=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=yield a.json();if("needConfirmation"in c)throw _d(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const p=a.ok?c.errorMessage:c.error.message,[g,y]=p.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===g)throw _d(n,"credential-already-in-use",c);if("EMAIL_EXISTS"===g)throw _d(n,"email-already-in-use",c);if("USER_DISABLED"===g)throw _d(n,"user-disabled",c);const I=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw iy(n,I,y);Nr(n,I)}}catch(i){if(i instanceof Ni)throw i;Nr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function ly(){return(ly=k(function*(n,e,t,r,i={}){const a=yield wn(n,e,t,r,i);return"mfaPendingCredential"in a&&Nr(n,"multi-factor-auth-required",{_serverResponse:a}),a})).apply(this,arguments)}function dy(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?ay(n.config,i):`${n.config.apiScheme}://${i}`}class YS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),KS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _d(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Kr(n,e,r);return i.customData._tokenResponse=t,i}function gy(){return(gy=k(function*(n,e){return wn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Uf(){return(Uf=k(function*(n,e){return wn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function vd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _c(){return(_c=k(function*(n,e=!1){const t=Qt(n),r=yield t.getIdToken(e),i=my(r);Ae(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,c=a?.sign_in_provider;return{claims:i,token:r,authTime:vd(Ed(i.auth_time)),issuedAtTime:vd(Ed(i.iat)),expirationTime:vd(Ed(i.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}})).apply(this,arguments)}function Ed(n){return 1e3*Number(n)}function my(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yo(t);return i?JSON.parse(i):(gc("Failed to decode base64 JWT payload"),null)}catch(i){return gc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function to(n,e){return Bf.apply(this,arguments)}function Bf(){return(Bf=k(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ni&&function NT({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class _y{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(k(function*(){yield t.iteration()}),r)}iteration(){var e=this;return k(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class no{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vd(this.lastLoginAt),this.creationTime=vd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Id(n){return yy.apply(this,arguments)}function yy(){return yy=k(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield to(n,function ZS(n,e){return Uf.apply(this,arguments)}(t,{idToken:r}));Ae(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const c=null!==(e=a.providerUserInfo)&&void 0!==e&&e.length?function XS(n){return n.map(e=>{var{providerId:t}=e,r=(0,DT._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(a.providerUserInfo):[],p=function kT(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,c),I=!!n.isAnonymous&&!(n.email&&a.passwordHash||p?.length),D={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:p,metadata:new no(a.createdAt,a.lastLoginAt),isAnonymous:I};Object.assign(n,D)}),yy.apply(this,arguments)}function Ey(){return(Ey=k(function*(n){const e=Qt(n);yield Id(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ru(){return(ru=k(function*(n,e){const t=yield uy(n,{},k(function*(){const r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,c=dy(n,i,"/v1/token",`key=${a}`),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",PT.fetch()(c,{method:"POST",headers:p,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function OT(n){const e=my(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return k(function*(){return Ae(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return k(function*(){const{accessToken:i,refreshToken:a,expiresIn:c}=yield function jf(n,e){return ru.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,a,Number(c))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,c=new yc;return r&&(Ae("string"==typeof r,"internal-error",{appName:e}),c.refreshToken=r),i&&(Ae("string"==typeof i,"internal-error",{appName:e}),c.accessToken=i),a&&(Ae("number"==typeof a,"internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yc,this.toJSON())}_performRefresh(){return Js("not implemented")}}function As(n,e){Ae("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class vc{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=(0,DT._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _y(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new no(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(e){var t=this;return k(function*(){const r=yield to(t,t.stsTokenManager.getToken(t.auth,e));return Ae(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function xT(n){return _c.apply(this,arguments)}(this,e)}reload(){return function vy(n){return Ey.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return k(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Id(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return k(function*(){const t=yield e.getIdToken();return yield to(e,function QS(n,e){return gy.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,c,p,g,y,I;const D=null!==(r=t.displayName)&&void 0!==r?r:void 0,x=null!==(i=t.email)&&void 0!==i?i:void 0,L=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,Z=null!==(c=t.photoURL)&&void 0!==c?c:void 0,J=null!==(p=t.tenantId)&&void 0!==p?p:void 0,re=null!==(g=t._redirectEventId)&&void 0!==g?g:void 0,_e=null!==(y=t.createdAt)&&void 0!==y?y:void 0,Fe=null!==(I=t.lastLoginAt)&&void 0!==I?I:void 0,{uid:Ne,emailVerified:Xe,isAnonymous:yt,providerData:lt,stsTokenManager:Zt}=t;Ae(Ne&&Zt,e,"internal-error");const Ii=yc.fromJSON(this.name,Zt);Ae("string"==typeof Ne,e,"internal-error"),As(D,e.name),As(x,e.name),Ae("boolean"==typeof Xe,e,"internal-error"),Ae("boolean"==typeof yt,e,"internal-error"),As(L,e.name),As(Z,e.name),As(J,e.name),As(re,e.name),As(_e,e.name),As(Fe,e.name);const CI=new vc({uid:Ne,auth:e,email:x,emailVerified:Xe,displayName:D,isAnonymous:yt,photoURL:Z,phoneNumber:L,tenantId:J,stsTokenManager:Ii,createdAt:_e,lastLoginAt:Fe});return lt&&Array.isArray(lt)&&(CI.providerData=lt.map(G0=>Object.assign({},G0))),re&&(CI._redirectEventId=re),CI}static _fromIdTokenResponse(e,t,r=!1){return k(function*(){const i=new yc;i.updateFromServerResponse(t);const a=new vc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Id(a),a})()}}const FT=new Map;function ro(n){Xs(n instanceof Function,"Expected a class definition");let e=FT.get(n);return e?(Xs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,FT.set(n,e),e)}const LT=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return k(function*(){return!0})()}_set(t,r){var i=this;return k(function*(){i.storage[t]=r})()}_get(t){var r=this;return k(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return k(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function $f(n,e,t){return`firebase:${n}:${e}:${t}`}class iu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=$f(this.userKey,i.apiKey,a),this.fullPersistenceKey=$f("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return k(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?vc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return k(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return k(function*(){if(!t.length)return new iu(ro(LT),e,r);const i=(yield Promise.all(t.map(function(){var y=k(function*(I){if(yield I._isAvailable())return I});return function(I){return y.apply(this,arguments)}}()))).filter(y=>y);let a=i[0]||ro(LT);const c=$f(r,e.config.apiKey,e.name);let p=null;for(const y of t)try{const I=yield y._get(c);if(I){const D=vc._fromJSON(e,I);y!==a&&(p=D),a=y;break}}catch{}const g=i.filter(y=>y._shouldAllowMigration);return a._shouldAllowMigration&&g.length?(a=g[0],p&&(yield a._set(c,p.toJSON())),yield Promise.all(t.map(function(){var y=k(function*(I){if(I!==a)try{yield I._remove(c)}catch{}});return function(I){return y.apply(this,arguments)}}())),new iu(a,e,r)):new iu(a,e,r)})()}}function Iy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ec(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UT(e))return"Blackberry";if(Ic(e))return"Webos";if(wy(e))return"Safari";if((e.includes("chrome/")||Ty(e))&&!e.includes("edge/"))return"Chrome";if(VT(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Ec(n=Zn()){return/firefox\//i.test(n)}function wy(n=Zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ty(n=Zn()){return/crios\//i.test(n)}function Cy(n=Zn()){return/iemobile/i.test(n)}function VT(n=Zn()){return/android/i.test(n)}function UT(n=Zn()){return/blackberry/i.test(n)}function Ic(n=Zn()){return/webos/i.test(n)}function Hf(n=Zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BT(n=Zn()){return Hf(n)||VT(n)||Ic(n)||UT(n)||/windows phone/i.test(n)||Cy(n)}function jT(n,e=[]){let t;switch(n){case"Browser":t=Iy(Zn());break;case"Worker":t=`${Iy(Zn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wa}/${r}`}class iR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((c,p)=>{try{c(e(a))}catch(g){p(g)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return k(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function wd(){return(wd=k(function*(n,e={}){return wn(n,"GET","/v2/passwordPolicy",un(n,e))})).apply(this,arguments)}class Gf{constructor(e){var t,r,i,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=c.minPasswordLength)&&void 0!==t?t:6,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),void 0!==c.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),void 0!==c.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),void 0!==c.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),void 0!==c.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,c,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=null===(t=g.meetsMinPasswordLength)||void 0===t||t),g.isValid&&(g.isValid=null===(r=g.meetsMaxPasswordLength)||void 0===r||r),g.isValid&&(g.isValid=null===(i=g.containsLowercaseLetter)||void 0===i||i),g.isValid&&(g.isValid=null===(a=g.containsUppercaseLetter)||void 0===a||a),g.isValid&&(g.isValid=null===(c=g.containsNumericCharacter)||void 0===c||c),g.isValid&&(g.isValid=null===(p=g.containsNonAlphanumericCharacter)||void 0===p||p),g}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class oR{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HT(this),this.idTokenSubscription=new HT(this),this.beforeStateQueue=new iR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ro(t)),this._initializationPromise=this.queue(k(function*(){var i,a;if(!r._deleted&&(r.persistenceManager=yield iu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return k(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return k(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let a=i,c=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const p=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,g=a?._redirectEventId,y=yield t.tryRedirectSignIn(e);(!p||p===g)&&y?.user&&(a=y.user,c=!0)}if(!a)return t.directlySetCurrentUser(null);if(!a._redirectEventId){if(c)try{yield t.beforeStateQueue.runMiddleware(a)}catch(p){a=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(p))}return a?t.reloadAndSetCurrentUserOrClear(a):t.directlySetCurrentUser(null)}return Ae(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===a._redirectEventId?t.directlySetCurrentUser(a):t.reloadAndSetCurrentUserOrClear(a)})()}tryRedirectSignIn(e){var t=this;return k(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return k(function*(){try{yield Id(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function RT(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return k(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return k(function*(){const r=e?Qt(e):null;return r&&Ae(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return k(function*(){if(!r._deleted)return e&&Ae(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(k(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return k(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(k(function*(){yield t.assertedPersistence.setPersistence(ro(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return k(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return k(function*(){const t=yield function $T(n){return wd.apply(this,arguments)}(e),r=new Gf(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ds("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return k(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return k(function*(){if(!t.redirectPersistenceManager){const r=e&&ro(e)||t._popupRedirectResolver;Ae(r,t,"argument-error"),t.redirectPersistenceManager=yield iu.create(t,[ro(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return k(function*(){var r,i;return t._isInitialized&&(yield t.queue(k(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return k(function*(){if(e===t.currentUser)return t.queue(k(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a="function"==typeof t?t:t.next.bind(t);let c=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{c||a(this.currentUser)}),"function"==typeof t){const g=e.addObserver(t,r,i);return()=>{c=!0,g()}}{const g=e.addObserver(t);return()=>{c=!0,g()}}}directlySetCurrentUser(e){var t=this;return k(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return k(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const a=yield e._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r})()}_getAppCheckToken(){var e=this;return k(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function AT(n,...e){ia.logLevel<=St.WARN&&ia.warn(`Auth (${Wa}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function $n(n){return Qt(n)}class HT{constructor(e){this.auth=e,this.observer=null,this.addObserver=function xA(n,e){const t=new OA(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function GT(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Wf(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Ss(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Cr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,t){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}function Ro(n,e){return XT.apply(this,arguments)}function XT(){return(XT=k(function*(n,e){return function Ao(n,e,t,r){return ly.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",un(n,e))})).apply(this,arguments)}class Dc extends Cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Dc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=(0,DT._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;const c=new Dc(r,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){return Ro(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ro(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ro(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oc(t)}return e}}class us{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iC extends us{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let _R=(()=>{class n extends iC{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Dc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();class Bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return k(function*(){const a=yield vc._fromIdTokenResponse(e,r,i),c=oC(r);return new Bi({user:a,providerId:c,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return k(function*(){yield e._updateTokensIfNecessary(r,!0);const i=oC(r);return new Bi({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function oC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class bd extends Ni{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bd.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new bd(e,t,r,i)}}function Py(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw"auth/multi-factor-auth-required"===a.code?bd._fromErrorAndOperation(n,a,e,r):a})}function Ad(){return(Ad=k(function*(n,e,t=!1){const r=yield to(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Bi._forOperation(n,"link",r)})).apply(this,arguments)}function Sc(){return(Sc=k(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const a=yield to(n,Py(r,i,e,n),t);Ae(a.idToken,r,"internal-error");const c=my(a.idToken);Ae(c,r,"internal-error");const{sub:p}=c;return Ae(n.uid===p,r,"user-mismatch"),Bi._forOperation(n,i,a)}catch(a){throw"auth/user-not-found"===a?.code&&Nr(r,"user-mismatch"),a}})).apply(this,arguments)}function op(){return(op=k(function*(n,e,t=!1){const r="signIn",i=yield Py(n,r,e),a=yield Bi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(a.user)),a})).apply(this,arguments)}function ji(){return(ji=k(function*(n){return Qt(n).delete()})).apply(this,arguments)}const Ep="__sak";class Yy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ep,"1"),this.storage.removeItem(Ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yC=(()=>{class n extends Yy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _C(){const n=Zn();return wy(n)||Hf(n)}()&&function rR(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=BT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),a=this.localCache[r];i!==a&&t(r,a,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((p,g,y)=>{this.notifyListeners(p,y)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const p=this.storage.getItem(i);if(t.newValue!==p)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const a=()=>{const p=this.storage.getItem(i);!r&&this.localCache[i]===p||this.notifyListeners(i,p)},c=this.storage.getItem(i);!function nR(){return function Qm(){const n=Zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||c===t.newValue||t.newValue===t.oldValue?a():setTimeout(a,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,a=this;return k(function*(){yield i().call(a,t,r),a.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return k(function*(){const a=yield r().call(i,t);return i.localCache[t]=JSON.stringify(a),a})()}_remove(t){var r=()=>super._remove,i=this;return k(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),vC=(()=>{class n extends Yy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Qy=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return k(function*(){const i=t,{eventId:a,eventType:c,data:p}=i.data,g=r.handlersMap[c];if(!g?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:c});const y=Array.from(g).map(function(){var D=k(function*(x){return x(i.origin,p)});return function(x){return D.apply(this,arguments)}}()),I=yield function LR(n){return Promise.all(n.map(function(){var e=k(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:c,response:I})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function cu(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class EC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return k(function*(){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,p;return new Promise((g,y)=>{const I=cu("",20);a.port1.start();const D=setTimeout(()=>{y(new Error("unsupported_event"))},r);p={messageChannel:a,onMessage(x){const L=x;if(L.data.eventId===I)switch(L.data.status){case"ack":clearTimeout(D),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(L.data.response);break;default:clearTimeout(D),clearTimeout(c),y(new Error("invalid_response"))}}},i.handlers.add(p),a.port1.addEventListener("message",p.onMessage),i.target.postMessage({eventType:e,eventId:I,data:t},[a.port2])}).finally(()=>{p&&i.removeMessageHandler(p)})})()}}function Pn(){return window}function wp(){return typeof Pn().WorkerGlobalScope<"u"&&"function"==typeof Pn().importScripts}function Tp(){return(Tp=k(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const DC="firebaseLocalStorageDb",Cp="firebaseLocalStorage",bC="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dp(n,e){return n.transaction([Cp],e?"readwrite":"readonly").objectStore(Cp)}function Zy(){const n=indexedDB.open(DC,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Cp,{keyPath:bC})}catch(i){t(i)}}),n.addEventListener("success",k(function*(){const r=n.result;r.objectStoreNames.contains(Cp)?e(r):(r.close(),yield function UR(){const n=indexedDB.deleteDatabase(DC);return new Nd(n).toPromise()}(),e(yield Zy()))}))})}function AC(n,e,t){return Jy.apply(this,arguments)}function Jy(){return(Jy=k(function*(n,e,t){const r=Dp(n,!0).put({[bC]:e,value:t});return new Nd(r).toPromise()})).apply(this,arguments)}function Xy(){return(Xy=k(function*(n,e){const t=Dp(n,!1).get(e),r=yield new Nd(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function SC(n,e){const t=Dp(n,!0).delete(e);return new Nd(t).toPromise()}const HR=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return k(function*(){return t.db||(t.db=yield Zy()),t.db})()}_withRetries(t){var r=this;return k(function*(){let i=0;for(;;)try{const a=yield r._openDb();return yield t(a)}catch(a){if(i++>3)throw a;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return k(function*(){return wp()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return k(function*(){t.receiver=Qy._getInstance(function CC(){return wp()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=k(function*(i,a){return{keyProcessed:(yield t._poll()).includes(a.key)}});return function(i,a){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=k(function*(i,a){return["keyChanged"]});return function(i,a){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return k(function*(){var r,i;if(t.activeServiceWorker=yield function wC(){return Tp.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new EC(t.activeServiceWorker);const a=yield t.sender._send("ping",{},800);a&&null!==(r=a[0])&&void 0!==r&&r.fulfilled&&null!==(i=a[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return k(function*(){if(r.sender&&r.activeServiceWorker&&function TC(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return k(function*(){try{if(!indexedDB)return!1;const t=yield Zy();return yield AC(t,Ep,"1"),yield SC(t,Ep),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return k(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return k(function*(){return i._withPendingWrite(k(function*(){return yield i._withRetries(a=>AC(a,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return k(function*(){const i=yield r._withRetries(a=>function BR(n,e){return Xy.apply(this,arguments)}(a,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return k(function*(){return r._withPendingWrite(k(function*(){return yield r._withRetries(i=>SC(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return k(function*(){const r=yield t._withRetries(c=>{const p=Dp(c,!1).getAll();return new Nd(p).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],a=new Set;for(const{fbase_key:c,value:p}of r)a.add(c),JSON.stringify(t.localCache[c])!==JSON.stringify(p)&&(t.notifyListeners(c,p),i.push(c));for(const c of Object.keys(t.localCache))t.localCache[c]&&!a.has(c)&&(t.notifyListeners(c,null),i.push(c));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(k(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Mc(n,e){return e?ro(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}GT("rcb"),new mc(3e4,6e4);class Sp extends Cr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BC(n){return function sp(n,e){return op.apply(this,arguments)}(n.auth,new Sp(n),n.bypassAuthState)}function KR(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),function Sd(n,e){return Sc.apply(this,arguments)}(t,new Sp(n),n.bypassAuthState)}function jC(n){return Rp.apply(this,arguments)}function Rp(){return(Rp=k(function*(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),function ip(n,e){return Ad.apply(this,arguments)}(t,new Sp(n),n.bypassAuthState)})).apply(this,arguments)}class iv{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=k(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(a){e.reject(a)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return k(function*(){const{urlResponse:r,sessionId:i,postBody:a,tenantId:c,error:p,type:g}=e;if(p)return void t.reject(p);const y={auth:t.auth,requestUri:r,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(g)(y))}catch(I){t.reject(I)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return KR;default:Nr(this.auth,"internal-error")}}resolve(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $C=new mc(2e3,1e4);function HC(n,e,t){return sv.apply(this,arguments)}function sv(){return(sv=k(function*(n,e,t){const r=$n(n);!function sa(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Nr(n,"argument-error"),iy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,e,us);const i=Mc(r,t);return new av(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let av=(()=>{class n extends iv{constructor(t,r,i,a,c){super(t,r,a,c),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return k(function*(){const r=yield t.execute();return Ae(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return k(function*(){Xs(1===t.filter.length,"Popup operations only handle one event");const r=cu();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Kr(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,$C.get())};t()}}return n.currentPopupAction=null,n})();const Pp="pendingRedirect",xc=new Map;class GC extends iv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return k(function*(){let r=xc.get(t.auth._key());if(!r){try{const a=(yield function zC(n,e){return uv.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(a)}catch(i){r=()=>Promise.reject(i)}xc.set(t.auth._key(),r)}return t.bypassAuthState||xc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return k(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return k(function*(){})()}cleanUp(){}}function uv(){return(uv=k(function*(n,e){const t=function cv(n){return $f(Pp,n.config.apiKey,n.name)}(e),r=function qC(n){return ro(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function YR(n,e){xc.set(n._key(),e)}function Ld(n,e){return hv.apply(this,arguments)}function hv(){return(hv=k(function*(n,e,t=!1){const r=$n(n),i=Mc(r,e),c=yield new GC(r,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,yield r._persistUserIfCurrent(c.user),yield r._setRedirectUser(null,e)),c})).apply(this,arguments)}class XR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function eP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZC(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ZC(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Kr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(QC(e))}saveEventToCache(e){this.cachedEventUids.add(QC(e)),this.lastProcessedEventTime=Date.now()}}function QC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ZC({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function fv(){return(fv=k(function*(n,e={}){return wn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tP=/^https?/;function gu(){return gu=k(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function S1(n){return fv.apply(this,arguments)}(n);for(const t of e)try{if(rP(t))return}catch{}Nr(n,"unauthorized-domain")}),gu.apply(this,arguments)}function rP(n){const e=gd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return""===c.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&c.hostname===r}if(!tP.test(t))return!1;if(JC.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const XC=new mc(3e4,6e4);function eD(){const n=Pn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Op=null;function nD(n){return Op=Op||function tD(n){return new Promise((e,t)=>{var r,i,a;function c(){eD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eD(),t(Kr(n,"network-request-failed"))},timeout:XC.get()})}if(null!==(i=null===(r=Pn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(a=Pn().gapi)||void 0===a||!a.load){const p=GT("iframefcb");return Pn()[p]=()=>{gapi.load?c():t(Kr(n,"network-request-failed"))},function Dy(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Kr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",function aR(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${p}`).catch(g=>t(g))}c()}}).catch(e=>{throw Op=null,e})}(n),Op}const iP=new mc(5e3,15e3),pv="__/auth/iframe",sP="emulator/auth/iframe",rD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oP(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ay(e,sP):`https://${n.config.authDomain}/${pv}`,r={apiKey:e.apiKey,appName:n.name,v:Wa},i=iD.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${oc(r).slice(1)}`}function gv(){return gv=k(function*(n){const e=yield nD(n),t=Pn().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:oP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rD,dontclear:!0},r=>new Promise(function(){var i=k(function*(a,c){yield r.restyle({setHideOnLeave:!1});const p=Kr(n,"network-request-failed"),g=Pn().setTimeout(()=>{c(p)},iP.get());function y(){Pn().clearTimeout(g),a(r)}r.ping(y).then(y,()=>{c(p)})});return function(a,c){return i.apply(this,arguments)}}()))}),gv.apply(this,arguments)}const mv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fP="__/auth/handler",pP="emulator/auth/handler",gP=encodeURIComponent("fac");function _v(n,e,t,r,i,a){return Np.apply(this,arguments)}function Np(){return(Np=k(function*(n,e,t,r,i,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wa,eventId:i};if(e instanceof us){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",function PA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[I,D]of Object.entries(a||{}))c[I]=D}if(e instanceof iC){const I=e.getScopes().filter(D=>""!==D);I.length>0&&(c.scopes=I.join(","))}n.tenantId&&(c.tid=n.tenantId);const p=c;for(const I of Object.keys(p))void 0===p[I]&&delete p[I];const g=yield n._getAppCheckToken(),y=g?`#${gP}=${encodeURIComponent(g)}`:"";return`${function mP({config:n}){return n.emulator?ay(n,pP):`https://${n.authDomain}/${fP}`}(n)}?${oc(p).slice(1)}${y}`})).apply(this,arguments)}const yv="webStorageSupport",_P=class aD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vC,this._completeRedirectFn=Ld,this._overrideRedirectResult=YR}_openPopup(e,t,r,i){var a=this;return k(function*(){var c;Xs(null===(c=a.eventManagers[e._key()])||void 0===c?void 0:c.manager,"_initialize() not called before _openPopup()");const p=yield _v(e,t,r,gd(),i);return function dP(n,e,t,r=500,i=600){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g=Object.assign(Object.assign({},mv),{width:r.toString(),height:i.toString(),top:a,left:c}),y=Zn().toLowerCase();t&&(p=Ty(y)?"_blank":t),Ec(y)&&(e=e||"http://localhost",g.scrollbars="yes");const I=Object.entries(g).reduce((x,[L,Z])=>`${x}${L}=${Z},`,"");if(function tR(n=Zn()){var e;return Hf(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(y)&&"_self"!==p)return function hP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",p),new oD(null);const D=window.open(e||"",p,I);Ae(D,n,"popup-blocked");try{D.focus()}catch{}return new oD(D)}(e,p,cu())})()}_openRedirect(e,t,r,i){var a=this;return k(function*(){return yield a._originValidation(e),function IC(n){Pn().location.href=n}(yield _v(e,t,r,gd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Xs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return k(function*(){const r=yield function aP(n){return gv.apply(this,arguments)}(e),i=new XR(e);return r.register("authEvent",a=>(Ae(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yv,{type:yv},i=>{var a;const c=null===(a=i?.[0])||void 0===a?void 0:a[yv];void 0!==c&&t(!!c),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function nP(n){return gu.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BT()||wy()||Hf()}};var lD="@firebase/auth";class Ev{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return k(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fD=tf("authIdTokenMaxAge")||300;let pD=null;const M1=n=>function(){var e=k(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>fD)return;const a=r?.token;pD!==a&&(pD=a,yield fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))});return function(t){return e.apply(this,arguments)}}();!function hD(n){pi(new xr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:p}=r.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jT(n)},y=new oR(r,i,a,g);return function cR(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ro);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pi(new xr("auth-internal",e=>{const t=$n(e.getProvider("auth").getImmediate());return new Ev(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(lD,"1.3.0",function yP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),gi(lD,"1.3.0","esm2017")}("Browser");const wv=(n,e)=>e.some(t=>n instanceof t);let gD,Tv;const Cv=new WeakMap,Bd=new WeakMap,Dv=new WeakMap,kp=new WeakMap,Fp=new WeakMap;let bv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Bd.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Dv.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _a(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function yD(n){return"function"==typeof n?function wP(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vP(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Lp(this),e),_a(Cv.get(this))}:function(...e){return _a(n.apply(Lp(this),e))}:function(e,...t){const r=n.call(Lp(this),e,...t);return Dv.set(r,e.sort?e.sort():[e]),_a(r)}}(n):(n instanceof IDBTransaction&&function EP(n){if(Bd.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Bd.set(n,e)}(n),wv(n,function mD(){return gD||(gD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,bv):n)}function _a(n){if(n instanceof IDBRequest)return function _D(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(_a(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Cv.set(t,n)}).catch(()=>{}),Fp.set(e,n),e}(n);if(kp.has(n))return kp.get(n);const e=yD(n);return e!==n&&(kp.set(n,e),Fp.set(e,n)),e}const Lp=n=>Fp.get(n);function vD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(n,e),p=_a(c);return r&&c.addEventListener("upgradeneeded",g=>{r(_a(c.result),g.oldVersion,g.newVersion,_a(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),p.then(g=>{a&&g.addEventListener("close",()=>a()),i&&g.addEventListener("versionchange",()=>i())}).catch(()=>{}),p}function Av(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),_a(t).then(()=>{})}const x1=["get","getKey","getAll","getAllKeys","count"],TP=["put","add","delete","clear"],Sv=new Map;function Rv(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Sv.get(e))return Sv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=TP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!x1.includes(t))return;const a=function(){var c=k(function*(p,...g){const y=this.transaction(p,i?"readwrite":"readonly");let I=y.store;return r&&(I=I.index(g.shift())),(yield Promise.all([I[t](...g),i&&y.done]))[0]});return function(g){return c.apply(this,arguments)}}();return Sv.set(e,a),a}!function IP(n){bv=n(bv)}(n=>({...n,get:(e,t,r)=>Rv(e,t)||n.get(e,t,r),has:(e,t)=>!!Rv(e,t)||n.has(e,t)}));const ED="/firebase-messaging-sw.js",CP="/firebase-cloud-messaging-push-scope",ID="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",DP="https://fcmregistrations.googleapis.com/v1",wD="google.c.a.c_id",bP="google.c.a.c_l",AP="google.c.a.ts";var ya=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(ya||{});function ao(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function TD(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const Vp="fcm_token_details_db",CD=5,Pv="fcm_token_object_Store";function Mv(){return Mv=k(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(Vp))return null;let e=null;return(yield vD(Vp,CD,{upgrade:(r=k(function*(i,a,c,p){var g;if(a<2||!i.objectStoreNames.contains(Pv))return;const y=p.objectStore(Pv),I=yield y.index("fcmSenderId").get(n);if(yield y.clear(),I)if(2===a){const D=I;if(!D.auth||!D.p256dh||!D.endpoint)return;e={token:D.fcmToken,createTime:null!==(g=D.createTime)&&void 0!==g?g:Date.now(),subscriptionOptions:{auth:D.auth,p256dh:D.p256dh,endpoint:D.endpoint,swScope:D.swScope,vapidKey:"string"==typeof D.vapidKey?D.vapidKey:ao(D.vapidKey)}}}else if(3===a){const D=I;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:ao(D.auth),p256dh:ao(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:ao(D.vapidKey)}}}else if(4===a){const D=I;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:ao(D.auth),p256dh:ao(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:ao(D.vapidKey)}}}}),function(a,c,p,g){return r.apply(this,arguments)})})).close(),yield Av(Vp),yield Av("fcm_vapid_details_db"),yield Av("undefined"),function O1(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Mv.apply(this,arguments)}const N1="firebase-messaging-database",bD=1,_u="firebase-messaging-store";let xv=null;function Ov(){return xv||(xv=vD(N1,bD,{upgrade:(n,e)=>{0===e&&n.createObjectStore(_u)}})),xv}function AD(n){return yu.apply(this,arguments)}function yu(){return yu=k(function*(n){const e=kv(n),r=yield(yield Ov()).transaction(_u).objectStore(_u).get(e);if(r)return r;{const i=yield function DD(n){return Mv.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield Nv(n,i),i}}),yu.apply(this,arguments)}function Nv(n,e){return jd.apply(this,arguments)}function jd(){return(jd=k(function*(n,e){const t=kv(n),i=(yield Ov()).transaction(_u,"readwrite");return yield i.objectStore(_u).put(e,t),yield i.done,e})).apply(this,arguments)}function SD(){return(SD=k(function*(n){const e=kv(n),r=(yield Ov()).transaction(_u,"readwrite");yield r.objectStore(_u).delete(e),yield r.done})).apply(this,arguments)}function kv({appConfig:n}){return n.appId}const Mn=new Ds("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function MP(n,e){return Fv.apply(this,arguments)}function Fv(){return(Fv=k(function*(n,e){const t=yield kc(n),r=RD(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(Up(n.appConfig),i)).json()}catch(c){throw Mn.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(a.error)throw Mn.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw Mn.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function Nc(){return(Nc=k(function*(n,e){const t=yield kc(n),r=RD(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(`${Up(n.appConfig)}/${e.token}`,i)).json()}catch(c){throw Mn.create("token-update-failed",{errorInfo:c?.toString()})}if(a.error)throw Mn.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw Mn.create("token-update-no-token");return a.token})).apply(this,arguments)}function Lv(n,e){return Vv.apply(this,arguments)}function Vv(){return(Vv=k(function*(n,e){const r={method:"DELETE",headers:yield kc(n)};try{const a=yield(yield fetch(`${Up(n.appConfig)}/${e}`,r)).json();if(a.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(i){throw Mn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Up({projectId:n}){return`${DP}/projects/${n}/registrations`}function kc(n){return Uv.apply(this,arguments)}function Uv(){return(Uv=k(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function RD({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==ID&&(i.web.applicationPubKey=r),i}const PD=6048e5;function Bv(){return Bv=k(function*(n){const e=yield function Gv(n,e){return jp.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ao(e.getKey("auth")),p256dh:ao(e.getKey("p256dh"))},r=yield AD(n.firebaseDependencies);if(r){if(function kP(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+PD?function NP(n,e){return $v.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Lv(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Hv(n.firebaseDependencies,t)}return Hv(n.firebaseDependencies,t)}),Bv.apply(this,arguments)}function Fc(){return Fc=k(function*(n){const e=yield AD(n.firebaseDependencies);e&&(yield Lv(n.firebaseDependencies,e.token),yield function PP(n){return SD.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),Fc.apply(this,arguments)}function $v(){return $v=k(function*(n,e){try{const t=yield function xP(n,e){return Nc.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Nv(n.firebaseDependencies,r),t}catch(t){throw yield function jv(n){return Fc.apply(this,arguments)}(n),t}}),$v.apply(this,arguments)}function Hv(n,e){return Bp.apply(this,arguments)}function Bp(){return(Bp=k(function*(n,e){const r={token:yield MP(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Nv(n,r),r.token})).apply(this,arguments)}function jp(){return(jp=k(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:TD(e)})})).apply(this,arguments)}function zv(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function MD(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const a=e.notification.icon;a&&(n.notification.icon=a)}(e,n),function FP(n,e){e.data&&(n.data=e.data)}(e,n),function LP(n,e){var t,r,i,a,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const p=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=e.notification)||void 0===a?void 0:a.click_action;p&&(n.fcmOptions.link=p);const g=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;g&&(n.fcmOptions.analyticsLabel=g)}(e,n),e}function $p(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function $d(n){return Mn.create("missing-app-config-values",{valueName:n})}$p("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$p("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wv{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function xD(n){if(!n||!n.options)throw $d("App Configuration Object");if(!n.name)throw $d("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw $d(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Kv(){return(Kv=k(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(ED,{scope:CP}),n.swRegistration.update().catch(()=>{})}catch(e){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Yv(){return(Yv=k(function*(n,e){if(!e&&!n.swRegistration&&(yield function OD(n){return Kv.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Hd(){return(Hd=k(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=ID)})).apply(this,arguments)}function Qv(n,e){return Hp.apply(this,arguments)}function Hp(){return Hp=k(function*(n,e){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield function ND(n,e){return Hd.apply(this,arguments)}(n,e?.vapidKey),yield function VP(n,e){return Yv.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function OP(n){return Bv.apply(this,arguments)}(n)}),Hp.apply(this,arguments)}function Gp(){return(Gp=k(function*(n,e,t){const r=function UP(n){switch(n){case ya.NOTIFICATION_CLICKED:return"notification_open";case ya.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[wD],message_name:t[bP],message_time:t[AP],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zp(){return zp=k(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ya.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(zv(t)):n.onMessageHandler.next(zv(t)));const r=t.data;(function qv(n){return"object"==typeof n&&!!n&&wD in n})(r)&&"1"===r["google.c.a.e"]&&(yield function kD(n,e,t){return Gp.apply(this,arguments)}(n,t.messageType,r))}),zp.apply(this,arguments)}const LD="@firebase/messaging",VD=n=>{const e=new Wv(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function FD(n,e){return zp.apply(this,arguments)}(e,t)),e},Yr=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>Qv(e,r)}};function Jv(){return(Jv=k(function*(){try{yield sc()}catch{return!1}return typeof window<"u"&&Xm()&&uw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function jD(){return(jD=k(function*(n,e){return Qv(n=Qt(n),e)})).apply(this,arguments)}!function Lc(){pi(new xr("messaging",VD,"PUBLIC")),pi(new xr("messaging-internal",Yr,"PRIVATE")),gi(LD,"0.12.4"),gi(LD,"0.12.4","esm2017")}();var ke,jP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hi={},qp=qp||{},ht=jP||self;function Wp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Kp="closure_uid_"+(1e9*Math.random()>>>0),$P=0;function Yp(n,e,t){return n.call.apply(n.bind,arguments)}function tE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Qr(n,e,t){return(Qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yp:tE).apply(null,arguments)}function qd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function fr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function Mo(){this.s=this.s,this.o=this.o}Mo.prototype.s=!1,Mo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function eE(n){Object.prototype.hasOwnProperty.call(n,Kp)&&n[Kp]||(n[Kp]=++$P)}(this)},Mo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $D=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Qp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Zp(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Wp(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zr.prototype.h=function(){this.defaultPrevented=!0};var HP=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ht.addEventListener("test",()=>{},e),ht.removeEventListener("test",()=>{},e)}catch{}return n}();function Jp(n){return/^[\s\xa0]*$/.test(n)}function Xp(){var n=ht.navigator;return n&&(n=n.userAgent)?n:""}function uo(n){return-1!=Xp().indexOf(n)}function nE(n){return nE[" "](n),n}nE[" "]=function(){};var sE,n,GD=uo("Opera"),Uc=uo("Trident")||uo("MSIE"),rE=uo("Edge"),eg=rE||Uc,zD=uo("Gecko")&&!(-1!=Xp().toLowerCase().indexOf("webkit")&&!uo("Edge"))&&!(uo("Trident")||uo("MSIE"))&&!uo("Edge"),GP=-1!=Xp().toLowerCase().indexOf("webkit")&&!uo("Edge");function iE(){var n=ht.document;return n?n.documentMode:void 0}e:{var tg="",ng=(n=Xp(),zD?/rv:([^\);]+)(\)|;)/.exec(n):rE?/Edge\/([\d\.]+)/.exec(n):Uc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):GP?/WebKit\/(\S+)/.exec(n):GD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ng&&(tg=ng?ng[1]:""),Uc){var rg=iE();if(null!=rg&&rg>parseFloat(tg)){sE=String(rg);break e}}sE=tg}var zP=ht.document&&Uc&&(iE()||parseInt(sE,10))||void 0;function sg(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zD){e:{try{nE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:WD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sg.$.h.call(this)}}fr(sg,Zr);var WD={2:"touch",3:"pen",4:"mouse"};sg.prototype.h=function(){sg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var og="closure_listenable_"+(1e6*Math.random()|0),V1=0;function U1(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++V1,this.fa=this.ia=!1}function oE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function KD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function qP(n){const e={};for(const t in n)e[t]=n[t];return e}const WP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<WP.length;a++)t=WP[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Wd(n){this.src=n,this.g={},this.h=0}function Kd(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=$D(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(oE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ag(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}Wd.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=ag(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new U1(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var aE="closure_lm_"+(1e6*Math.random()|0),Bc={};function YD(n,e,t,r,i){if(r&&r.once)return QD(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)YD(n,e[a],t,r,i);return null}return t=vu(t),n&&n[og]?n.O(e,t,zd(r)?!!r.capture:!!r,i):YP(n,e,t,!1,r,i)}function YP(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=zd(i)?!!i.capture:!!i,p=JD(n);if(p||(n[aE]=p=new Wd(n)),(t=p.add(e,t,r,c,a)).proxy)return t;if(r=function j1(){const e=QP;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)HP||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ZD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function QD(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)QD(n,e[a],t,r,i);return null}return t=vu(t),n&&n[og]?n.P(e,t,zd(r)?!!r.capture:!!r,i):YP(n,e,t,!0,r,i)}function uE(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)uE(n,e[a],t,r,i);else r=zd(r)?!!r.capture:!!r,t=vu(t),n&&n[og]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ag(a=n.g[e],t,r,i))&&(oE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=JD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ag(e,t,r,i)),(t=-1<n?e[n]:null)&&cE(t))}function cE(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[og])Kd(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ZD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=JD(e))?(Kd(t,n),0==t.h&&(t.src=null,e[aE]=null)):oE(n)}}}function ZD(n){return n in Bc?Bc[n]:Bc[n]="on"+n}function QP(n,e){if(n.fa)n=!0;else{e=new sg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&cE(n),n=t.call(r,e)}return n}function JD(n){return(n=n[aE])instanceof Wd?n:null}var lE="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(n){return"function"==typeof n?n:(n[lE]||(n[lE]=function(e){return n.handleEvent(e)}),n[lE])}function xn(){Mo.call(this),this.i=new Wd(this),this.S=this,this.J=null}function Dr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var i=e;KP(e=new Zr(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=ug(c,r,!0,e)&&i}if(i=ug(c=e.g=n,r,!0,e)&&i,i=ug(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=ug(c=e.g=t[a],r,!1,e)&&i}function ug(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var p=c.listener,g=c.la||c.src;c.ia&&Kd(n.i,c),i=!1!==p.call(g,r)&&i}}return i&&!r.defaultPrevented}fr(xn,Mo),xn.prototype[og]=!0,xn.prototype.removeEventListener=function(n,e,t,r){uE(this,n,e,t,r)},xn.prototype.N=function(){if(xn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)oE(t[r]);delete n.g[e],n.h--}}this.J=null},xn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},xn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dE=ht.JSON.stringify;function JP(){var n=hE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cg=new class ZP{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new eM,n=>n.reset());class eM{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tM(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function nM(n){ht.setTimeout(()=>{throw n},0)}let Yd,Qd=!1,hE=new class XP{constructor(){this.h=this.g=null}add(e,t){const r=cg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},XD=()=>{const n=ht.Promise.resolve(void 0);Yd=()=>{n.then(rM)}};var rM=()=>{for(var n;n=JP();){try{n.h.call(n.g)}catch(t){nM(t)}var e=cg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Qd=!1};function lg(n,e){xn.call(this),this.h=n||1,this.g=e||ht,this.j=Qr(this.qb,this),this.l=Date.now()}function dg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Zd(n,e,t){if("function"==typeof n)t&&(n=Qr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qr(n.handleEvent,n)}return 2147483647<Number(e)?-1:ht.setTimeout(n,e||0)}function eb(n){n.g=Zd(()=>{n.g=null,n.i&&(n.i=!1,eb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fr(lg,xn),(ke=lg.prototype).ga=!1,ke.T=null,ke.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dr(this,"tick"),this.ga&&(dg(this),this.start()))}},ke.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ke.N=function(){lg.$.N.call(this),dg(this),delete this.g};class iM extends Mo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:eb(this)}N(){super.N(),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jc(n){Mo.call(this),this.h=n,this.g={}}fr(jc,Mo);var fE=[];function sM(n,e,t,r){Array.isArray(t)||(t&&(fE[0]=t.toString()),t=fE);for(var i=0;i<t.length;i++){var a=YD(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Jr(n){KD(n.g,function(e,t){this.g.hasOwnProperty(t)&&cE(e)},n),n.g={}}function Jd(){this.g=!0}function Eu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return dE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}jc.prototype.N=function(){jc.$.N.call(this),Jr(this)},jc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jd.prototype.Ea=function(){this.g=!1},Jd.prototype.info=function(){};var mi={},gE=null;function $c(){return gE=gE||new xn}function hg(n){Zr.call(this,mi.Ta,n)}function Xd(n){const e=$c();Dr(e,new hg(e))}function uM(n,e){Zr.call(this,mi.STAT_EVENT,n),this.stat=e}function kr(n){const e=$c();Dr(e,new uM(e,n))}function nb(n,e){Zr.call(this,mi.Ua,n),this.size=e}function eh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){n()},e)}mi.Ta="serverreachability",fr(hg,Zr),mi.STAT_EVENT="statevent",fr(uM,Zr),mi.Ua="timingevent",fr(nb,Zr);var fg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pg(){}function mE(){}pg.prototype.h=null;var nh,th={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gg(){Zr.call(this,"d")}function ib(){Zr.call(this,"c")}function rh(){}function Hc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new jc(this),this.P=ob,this.V=new lg(n=eg?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sb}function sb(){this.i=null,this.g="",this.h=!1}fr(gg,Zr),fr(ib,Zr),fr(rh,pg),rh.prototype.g=function(){return new XMLHttpRequest},rh.prototype.i=function(){return{}},nh=new rh;var ob=45e3,mg={},xo={};function Gc(n,e,t){n.L=1,n.v=Iu(va(e)),n.s=t,n.S=!0,_E(n,null)}function _E(n,e){n.G=Date.now(),_g(n),n.A=va(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),gM(t.i,"t",r),n.C=0,t=n.l.J,n.h=new sb,n.g=RM(n.l,t?e:null,!n.s),0<n.O&&(n.M=new iM(Qr(n.Pa,n,n.g),n.O)),sM(n.U,n.g,"readystatechange",n.nb),e=n.I?qP(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Xd(),function tb(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",p=a.split("&"),g=0;g<p.length;g++){var y=p[g].split("=");if(1<y.length){var I=y[0];y=y[1];var D=I.split("_");c=2<=D.length&&"type"==D[1]?c+(I+"=")+y+"&":c+(I+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function yE(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ab(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=lM(n,t),i==xo){4==e&&(n.o=4,kr(14),r=!1),Eu(n.j,n.m,null,"[Incomplete Response]");break}if(i==mg){n.o=4,kr(15),Eu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Eu(n.j,n.m,i,null),ub(n,i)}yE(n)&&i!=xo&&i!=mg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,kr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Pb(e),e.M=!0,kr(11))):(Eu(n.j,n.m,t,"[Invalid Chunked Response]"),zc(n),ih(n))}function lM(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?xo:(t=Number(e.substring(t,r)),isNaN(t)?mg:(r+=1)+t>e.length?xo:(e=e.slice(r,r+t),n.C=r+t,e))}function _g(n){n.Y=Date.now()+n.P,vE(n,n.P)}function vE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=eh(Qr(n.lb,n),e)}function yg(n){n.B&&(ht.clearTimeout(n.B),n.B=null)}function ih(n){0==n.l.H||n.J||Mb(n.l,n)}function zc(n){yg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,dg(n.V),Jr(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function ub(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||vg(t.i,n)))if(!n.K&&vg(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;ME(t),Tg(t)}Rb(t),kr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=eh(Qr(t.ib,t),6e3));if(1>=CE(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Qc(t,11)}else if((n.K||t.g==n)&&ME(t),!Jp(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let y=i[e];if(t.V=y[0],y=y[1],2==t.H)if("c"==y[0]){t.K=y[1],t.pa=y[2];const I=y[3];null!=I&&(t.ra=I,t.l.info("VER="+t.ra));const D=y[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const x=y[5];null!=x&&"number"==typeof x&&0<x&&(t.L=r=1.5*x,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const Z=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var a=r.i;a.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Eg(a,a.h),a.h=null))}if(r.F){const J=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(r.Da=J,tn(r.I,r.F,J))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=SM(r,r.J?r.pa:null,r.Y),c.K){_b(r.i,c);var p=c,g=r.L;g&&p.setTimeout(g),p.B&&(yg(p),_g(p)),r.g=c}else CM(r);0<t.j.length&&Cg(t)}else"stop"!=y[0]&&"close"!=y[0]||Qc(t,7);else 3==t.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Qc(t,7):Ab(t):"noop"!=y[0]&&t.h&&t.h.Aa(y),t.A=0)}Xd()}catch{}}function lb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function cb(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function $1(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(ke=Hc.prototype).setTimeout=function(n){this.P=n},ke.nb=function(n){n=n.target;const e=this.M;e&&3==Ps(n)?e.l():this.Pa(n)},ke.Pa=function(n){try{if(n==this.g)e:{const I=Ps(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||eg||this.g&&(this.h.h||this.g.ja()||Db(this.g)))){this.J||4!=I||7==e||Xd(),yg(this);var t=this.g.da();this.ca=t;t:if(yE(this)){var r=Db(this.g);n="";var i=r.length,a=4==Ps(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zc(this),ih(this);var c="";break t}this.h.i=new ht.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function oM(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jp(p)){var y=p;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,kr(12),zc(this),ih(this);break e}Eu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ub(this,t)}this.S?(ab(this,I,c),eg&&this.i&&3==I&&(sM(this.U,this.V,"tick",this.mb),this.V.start())):(Eu(this.j,this.m,c,null),ub(this,c)),4==I&&zc(this),this.i&&!this.J&&(4==I?Mb(this.l,this):(this.i=!1,_g(this)))}else(function wg(n){const e={};n=(n.g&&2<=Ps(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Jp(n[r]))continue;var t=tM(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function B1(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),zc(this),ih(this)}}}catch{}},ke.mb=function(){if(this.g){var n=Ps(this.g),e=this.g.ja();this.C<e.length&&(yg(this),ab(this,n,e),this.i&&4!=n&&_g(this))}},ke.cancel=function(){this.J=!0,zc(this)},ke.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function aM(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xd(),kr(17)),zc(this),this.o=2,ih(this)):vE(this,this.Y-n)};var db=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qc){this.h=n.h,EE(this,n.j),this.s=n.s,this.g=n.g,IE(this,n.m),this.l=n.l;var e=n.i,t=new wu;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),hM(this,t),this.o=n.o}else n&&(e=String(n).match(db))?(this.h=!1,EE(this,e[1]||"",!0),this.s=sh(e[2]||""),this.g=sh(e[3]||"",!0),IE(this,e[4]),this.l=sh(e[5]||"",!0),hM(this,e[6]||"",!0),this.o=sh(e[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}function va(n){return new qc(n)}function EE(n,e,t){n.j=t?sh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function IE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function hM(n,e,t){e instanceof wu?(n.i=e,function pb(n,e){e&&!n.j&&(co(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ah(this,r),gM(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=oh(e,TE)),n.i=new wu(e,n.h))}function tn(n,e,t){n.i.set(e,t)}function Iu(n){return tn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function sh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function oh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(oh(e,Ea,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(oh(e,Ea,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(oh(t,"/"==t.charAt(0)?wE:fb,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",oh(t,fM)),n.join("")};var Ea=/[#\/\?@]/g,fb=/[#\?:]/g,wE=/[#\?]/g,TE=/[#\?@]/g,fM=/#/g;function wu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function co(n){n.g||(n.g=new Map,n.h=0,n.i&&function dM(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ah(n,e){co(n),e=uh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function pM(n,e){return co(n),e=uh(n,e),n.g.has(e)}function gM(n,e,t){ah(n,e),0<t.length&&(n.i=null,n.g.set(uh(n,e),Qp(t)),n.h+=t.length)}function uh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function gb(n){this.l=n||_M,n=ht.PerformanceNavigationTiming?0<(n=ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ht.g&&ht.g.Ka&&ht.g.Ka()&&ht.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ke=wu.prototype).add=function(n,e){co(this),this.i=null,n=uh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ke.forEach=function(n,e){co(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ke.ta=function(){co(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},ke.Z=function(n){co(this);let e=[];if("string"==typeof n)pM(this,n)&&(e=e.concat(this.g.get(uh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ke.set=function(n,e){return co(this),this.i=null,pM(this,n=uh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ke.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var _M=10;function mb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function CE(n){return n.h?1:n.g?n.g.size:0}function vg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Eg(n,e){n.g?n.g.add(e):n.h=e}function _b(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function yb(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Qp(n.i)}gb.prototype.cancel=function(){if(this.i=yb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var vb=class{stringify(n){return ht.JSON.stringify(n,void 0)}parse(n){return ht.JSON.parse(n,void 0)}};function DE(){this.g=new vb}function H1(n,e,t){const r=t||"";try{lb(n,function(i,a){let c=i;zd(i)&&(c=dE(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Wc(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ch(n){this.l=n.ec||null,this.j=n.ob||!1}function Ig(n,e){xn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ib,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fr(ch,pg),ch.prototype.g=function(){return new Ig(this.l,this.j)},ch.prototype.i=function(n){return function(){return n}}({}),fr(Ig,xn);var Ib=0;function yM(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function lh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,dh(n)}function dh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ke=Ig.prototype).open=function(n,e){if(this.readyState!=Ib)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,dh(this)},ke.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ht).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lh(this)),this.readyState=Ib},ke.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,dh(this)),this.g&&(this.readyState=3,dh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yM(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ke.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lh(this):dh(this),3==this.readyState&&yM(this)}},ke.Za=function(n){this.g&&(this.response=this.responseText=n,lh(this))},ke.Ya=function(n){this.g&&(this.response=n,lh(this))},ke.ka=function(){this.g&&lh(this)},ke.setRequestHeader=function(n,e){this.v.append(n,e)},ke.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ke.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ig.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vM=ht.JSON.parse;function Tn(n){xn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bE,this.L=this.M=!1}fr(Tn,xn);var bE="",wb=/^https?$/i,EM=["POST","PUT"];function AE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,IM(n),Kc(n)}function IM(n){n.F||(n.F=!0,Dr(n,"complete"),Dr(n,"error"))}function Cb(n){if(n.h&&typeof qp<"u"&&(!n.C[1]||4!=Ps(n)||2!=n.da()))if(n.v&&4==Ps(n))Zd(n.La,0,n);else if(Dr(n,"readystatechange"),4==Ps(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(db)[1]||null;!i&&ht.self&&ht.self.location&&(i=ht.self.location.protocol.slice(0,-1)),r=!wb.test(i?i.toLowerCase():"")}t=r}if(t)Dr(n,"complete"),Dr(n,"success");else{n.m=6;try{var a=2<Ps(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",IM(n)}}finally{Kc(n)}}}function Kc(n,e){if(n.g){SE(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Dr(n,"ready");try{t.onreadystatechange=r}catch{}}}function SE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ht.clearTimeout(n.A),n.A=null)}function Ps(n){return n.g?n.g.readyState:0}function Db(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case bE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function bb(n){let e="";return KD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function RE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=bb(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):tn(n,e,t))}function Yc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function PE(n){this.Ga=0,this.j=[],this.l=new Jd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yc("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yc("baseRetryDelayMs",5e3,n),this.hb=Yc("retryDelaySeedMs",1e4,n),this.eb=Yc("forwardChannelMaxRetries",2,n),this.xa=Yc("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new gb(n&&n.concurrentRequestLimit),this.Ja=new DE,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ab(n){if(wM(n),3==n.H){var e=n.W++,t=va(n.I);if(tn(t,"SID",n.K),tn(t,"RID",e),tn(t,"TYPE","terminate"),hh(n,t),(e=new Hc(n,n.l,e)).L=2,e.v=Iu(va(t)),t=!1,ht.navigator&&ht.navigator.sendBeacon)try{t=ht.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=RM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),_g(e)}AM(n)}function Tg(n){n.g&&(Pb(n),n.g.cancel(),n.g=null)}function wM(n){Tg(n),n.u&&(ht.clearTimeout(n.u),n.u=null),ME(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ht.clearTimeout(n.m),n.m=null)}function Cg(n){if(!mb(n.i)&&!n.m){n.m=!0;var e=n.Na;Yd||XD(),Qd||(Yd(),Qd=!0),hE.add(e,n),n.C=0}}function TM(n,e){var t;t=e?e.m:n.W++;const r=va(n.I);tn(r,"SID",n.K),tn(r,"RID",t),tn(r,"AID",n.V),hh(n,r),n.o&&n.s&&RE(r,n.o,n.s),t=new Hc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Sb(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Eg(n.i,t),Gc(t,r,e)}function hh(n,e){n.na&&KD(n.na,function(t,r){tn(e,r,t)}),n.h&&lb({},function(t,r){tn(e,r,t)})}function Sb(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Qr(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let p=!0;for(let g=0;g<t;g++){let y=i[g].g;const I=i[g].map;if(y-=a,0>y)a=Math.max(0,i[g].g-100),p=!1;else try{H1(I,c,"req"+y+"_")}catch{r&&r(I)}}if(p){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function CM(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Yd||XD(),Qd||(Yd(),Qd=!0),hE.add(e,n),n.A=0}}function Rb(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=eh(Qr(n.Ma,n),bM(n,n.A)),n.A++,0))}function Pb(n){null!=n.B&&(ht.clearTimeout(n.B),n.B=null)}function DM(n){n.g=new Hc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=va(n.wa);tn(e,"RID","rpc"),tn(e,"SID",n.K),tn(e,"AID",n.V),tn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&tn(e,"TO",n.qa),tn(e,"TYPE","xmlhttp"),hh(n,e),n.o&&n.s&&RE(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Iu(va(e)),t.s=null,t.S=!0,_E(t,n)}function ME(n){null!=n.v&&(ht.clearTimeout(n.v),n.v=null)}function Mb(n,e){var t=null;if(n.g==e){ME(n),Pb(n),n.g=null;var r=2}else{if(!vg(n.i,e))return;t=e.F,_b(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Dr(r=$c(),new nb(r,t)),Cg(n)}else CM(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function G1(n,e){return!(CE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=eh(Qr(n.Na,n,e),bM(n,n.C)),n.C++,0)))}(n,e)||2==r&&Rb(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Qc(n,5);break;case 4:Qc(n,10);break;case 3:Qc(n,6);break;default:Qc(n,2)}}function bM(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Qc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Qr(n.pb,n);t||(t=new qc("//www.google.com/images/cleardot.gif"),ht.location&&"http"==ht.location.protocol||EE(t,"https"),Iu(t)),function Eb(n,e){const t=new Jd;if(ht.Image){const r=new Image;r.onload=qd(Wc,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qd(Wc,t,r,"TestLoadImage: error",!1,e),r.onabort=qd(Wc,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qd(Wc,t,r,"TestLoadImage: timeout",!1,e),ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else kr(2);n.H=0,n.h&&n.h.za(e),AM(n),wM(n)}function AM(n){if(n.H=0,n.ma=[],n.h){const e=yb(n.i);(0!=e.length||0!=n.j.length)&&(Zp(n.ma,e),Zp(n.ma,n.j),n.i.i.length=0,Qp(n.j),n.j.length=0),n.h.ya()}}function SM(n,e,t){var r=t instanceof qc?va(t):new qc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),IE(r,r.m);else{var i=ht.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new qc(null);r&&EE(a,r),e&&(a.g=e),i&&IE(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&tn(r,t,e),tn(r,"VER",n.ra),hh(n,r),r}function RM(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tn(t&&n.Ha&&!n.va?new ch({ob:!0}):n.va)).Oa(n.J),e}function xb(){}function xE(){if(Uc&&!(10<=Number(zP)))throw Error("Environmental error: no available transport.")}function s(n,e){xn.call(this),this.g=new PE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Jp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new l(this)}function o(n){gg.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function u(){ib.call(this),this.status=1}function l(n){this.g=n}function f(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function m(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=a+((c=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function _(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(ke=Tn.prototype).Oa=function(n){this.M=n},ke.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nh.g(),this.C=function cM(n){return n.h||(n.h=n.i())}(this.u?this.u:nh),this.g.onreadystatechange=Qr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void AE(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=ht.FormData&&n instanceof ht.FormData,!(0<=$D(EM,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SE(this),0<this.B&&((this.L=function Tb(n){return Uc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.ua,this)):this.A=Zd(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){AE(this,a)}},ke.ua=function(){typeof qp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dr(this,"timeout"),this.abort(8))},ke.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Dr(this,"complete"),Dr(this,"abort"),Kc(this))},ke.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kc(this,!0)),Tn.$.N.call(this)},ke.La=function(){this.s||(this.G||this.v||this.l?Cb(this):this.kb())},ke.kb=function(){Cb(this)},ke.isActive=function(){return!!this.g},ke.da=function(){try{return 2<Ps(this)?this.g.status:-1}catch{return-1}},ke.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ke.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),vM(e)}},ke.Ia=function(){return this.m},ke.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ke=PE.prototype).ra=8,ke.H=1,ke.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Hc(this,this.l,n);let a=this.s;if(this.U&&(a?(a=qP(a),KP(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Sb(this,i,e),tn(t=va(this.I),"RID",n),tn(t,"CVER",22),this.F&&tn(t,"X-HTTP-Session-Id",this.F),hh(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(bb(a)))+"&"+e:this.o&&RE(t,this.o,a)),Eg(this.i,i),this.bb&&tn(t,"TYPE","init"),this.P?(tn(t,"$req",e),tn(t,"SID","null"),i.aa=!0,Gc(i,t,null)):Gc(i,t,e),this.H=2}}else 3==this.H&&(n?TM(this,n):0==this.j.length||mb(this.i)||TM(this))},ke.Ma=function(){if(this.u=null,DM(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=eh(Qr(this.jb,this),n)}},ke.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kr(10),Tg(this),DM(this))},ke.ib=function(){null!=this.v&&(this.v=null,Tg(this),Rb(this),kr(19))},ke.pb=function(n){n?(this.l.info("Successfully pinged google.com"),kr(2)):(this.l.info("Failed to ping google.com"),kr(1))},ke.isActive=function(){return!!this.h&&this.h.isActive(this)},(ke=xb.prototype).Ba=function(){},ke.Aa=function(){},ke.za=function(){},ke.ya=function(){},ke.isActive=function(){return!0},ke.Va=function(){},xE.prototype.g=function(n,e){return new s(n,e)},fr(s,xn),s.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;kr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=SM(n,null,n.Y),Cg(n)},s.prototype.close=function(){Ab(this.g)},s.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dE(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Cg(e)},s.prototype.N=function(){this.g.h=null,delete this.j,Ab(this.g),delete this.g,s.$.N.call(this)},fr(o,gg),fr(u,ib),fr(l,xb),l.prototype.Ba=function(){Dr(this.g,"a")},l.prototype.Aa=function(n){Dr(this.g,new o(n))},l.prototype.za=function(n){Dr(this.g,new u)},l.prototype.ya=function(){Dr(this.g,"b")},fr(f,function d(){this.blockSize=-1}),f.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},f.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)m(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){m(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){m(this,r),i=0;break}}this.h=i,this.i+=e},f.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var E={};function C(n){return-128<=n&&128>n?function HD(n,e){var t=E;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new _([0|e],0>e?-1:0)}):new _([0|n],0>n?-1:0)}function R(n){if(isNaN(n)||!isFinite(n))return B;if(0>n)return ee(R(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=U;return new _(e,0)}var U=4294967296,B=C(0),Q=C(1),ge=C(16777216);function Ce(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ve(n){return-1==n.h}function ee(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new _(t,~n.h).add(Q)}function tt(n,e){return n.add(ee(e))}function _t(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Nt(n,e){this.g=n,this.h=e}function br(n,e){if(Ce(e))throw Error("division by zero");if(Ce(n))return new Nt(B,B);if(Ve(n))return e=br(ee(n),e),new Nt(ee(e.g),ee(e.h));if(Ve(e))return e=br(n,ee(e)),new Nt(ee(e.g),e.h);if(30<n.g.length){if(Ve(n)||Ve(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Q,r=e;0>=r.X(n);)t=lo(t),r=lo(r);var i=Ms(t,1),a=Ms(r,1);for(r=Ms(r,2),t=Ms(t,2);!Ce(r);){var c=a.add(r);0>=c.X(n)&&(i=i.add(t),a=c),r=Ms(r,1),t=Ms(t,1)}return e=tt(n,i.R(e)),new Nt(i,e)}for(i=B;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=R(t)).R(e);Ve(c)||0<c.X(n);)c=(a=R(t-=r)).R(e);Ce(a)&&(a=Q),i=i.add(a),n=tt(n,c)}return new Nt(i,n)}function lo(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new _(t,n.h)}function Ms(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new _(i,n.h)}(ke=_.prototype).ea=function(){if(Ve(this))return-ee(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:U+r)*e,e*=U}return n},ke.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ce(this))return"0";if(Ve(this))return"-"+ee(this).toString(n);for(var e=R(Math.pow(n,6)),t=this,r="";;){var i=br(t,e).g,a=((0<(t=tt(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ce(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ke.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ke.X=function(n){return Ve(n=tt(this,n))?-1:Ce(n)?0:1},ke.abs=function(){return Ve(this)?ee(this):this},ke.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),c=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(a&=65535)}return new _(t,-2147483648&t[t.length-1]?-1:0)},ke.R=function(n){if(Ce(this)||Ce(n))return B;if(Ve(this))return Ve(n)?ee(this).R(ee(n)):ee(ee(this).R(n));if(Ve(n))return ee(this.R(ee(n)));if(0>this.X(ge)&&0>n.X(ge))return R(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,c=65535&this.D(r),p=n.D(i)>>>16,g=65535&n.D(i);t[2*r+2*i]+=c*g,_t(t,2*r+2*i),t[2*r+2*i+1]+=a*g,_t(t,2*r+2*i+1),t[2*r+2*i+1]+=c*p,_t(t,2*r+2*i+1),t[2*r+2*i+2]+=a*p,_t(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new _(t,0)},ke.gb=function(n){return br(this,n).h},ke.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new _(t,this.h&n.h)},ke.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new _(t,this.h|n.h)},ke.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new _(t,this.h^n.h)},xE.prototype.createWebChannel=xE.prototype.g,s.prototype.send=s.prototype.u,s.prototype.open=s.prototype.m,s.prototype.close=s.prototype.close,fg.NO_ERROR=0,fg.TIMEOUT=8,fg.HTTP_ERROR=6,rb.COMPLETE="complete",mE.EventType=th,th.OPEN="a",th.CLOSE="b",th.ERROR="c",th.MESSAGE="d",xn.prototype.listen=xn.prototype.O,Tn.prototype.listenOnce=Tn.prototype.P,Tn.prototype.getLastError=Tn.prototype.Sa,Tn.prototype.getLastErrorCode=Tn.prototype.Ia,Tn.prototype.getStatus=Tn.prototype.da,Tn.prototype.getResponseJson=Tn.prototype.Wa,Tn.prototype.getResponseText=Tn.prototype.ja,Tn.prototype.send=Tn.prototype.ha,Tn.prototype.setWithCredentials=Tn.prototype.Oa,f.prototype.digest=f.prototype.l,f.prototype.reset=f.prototype.reset,f.prototype.update=f.prototype.j,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.R,_.prototype.modulo=_.prototype.gb,_.prototype.compare=_.prototype.X,_.prototype.toNumber=_.prototype.ea,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.D,_.fromNumber=R,_.fromString=function O(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ee(O(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=R(Math.pow(e,8)),r=B,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+a),e);8>a?(a=R(Math.pow(e,a)),r=r.R(a).add(R(c))):r=(r=r.R(t)).add(R(c))}return r};var OE=Hi.createWebChannelTransport=function(){return new xE},PM=Hi.getStatEventTarget=function(){return $c()},NE=Hi.ErrorCode=fg,N2=Hi.EventType=rb,k2=Hi.Event=mi,z1=Hi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ob=(Hi.FetchXmlHttpFactory=ch,Hi.WebChannel=mE),F2=Hi.XhrIo=Tn,L2=Hi.Md5=f,Dg=Hi.Integer=_;const q1="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let bg="10.4.0";const Zc=new rf("@firebase/firestore");function Ag(){return Zc.logLevel}function pe(n,...e){if(Zc.logLevel<=St.DEBUG){const t=e.map(MM);Zc.debug(`Firestore (${bg}): ${n}`,...t)}}function Jn(n,...e){if(Zc.logLevel<=St.ERROR){const t=e.map(MM);Zc.error(`Firestore (${bg}): ${n}`,...t)}}function xs(n,...e){if(Zc.logLevel<=St.WARN){const t=e.map(MM);Zc.warn(`Firestore (${bg}): ${n}`,...t)}}function MM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ue(n="Unexpected state"){const e=`FIRESTORE (${bg}) INTERNAL ASSERTION FAILED: `+n;throw Jn(e),new Error(e)}function We(n,e){n||Ue()}function Me(n,e){return n}const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class W1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class B2{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const y=c;e.enqueueRetryable(k(function*(){yield y.promise,yield a(r.currentUser)}))},g=y=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We("string"==typeof r.accessToken),new W1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return We(null===e||"string"==typeof e),new Fr(e)}}class j2{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $2{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new j2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=a=>{null!=a.error&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We("string"==typeof t.token),this.R=t.token,new K1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function G2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Y1{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=G2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[a]%62))}return r}}function pt(n,e){return n<e?-1:n>e?1:0}function Sg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class On{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new On(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new On(0,0))}static max(){return new Ke(new On(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kE{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ue(),void 0===r?r=e.length-t:r>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===kE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kE?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kt extends kE{construct(e,t,r){return new kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends kE{construct(e,t,r){return new Hn(e,t,r)}static isValidIdentifier(e){return z2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new fe(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new fe(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new fe(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(a(),i++)}if(a(),c)throw new fe(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(t)}static emptyPath(){return new Hn([])}}class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(kt.fromString(e))}static fromName(e){return new Oe(kt.fromString(e).popFirst(5))}static empty(){return new Oe(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new kt(e.slice()))}}function J1(n){return new Os(n.readTime,n.key,-1)}class Os{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Os(Ke.min(),Oe.empty(),-1)}static max(){return new Os(Ke.max(),Oe.empty(),-1)}}function OM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Oe.comparator(n.documentKey,e.documentKey),0!==t?t:pt(n.largestBatchId,e.largestBatchId))}const X1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Jc(n){return NM.apply(this,arguments)}function NM(){return NM=k(function*(n){if(n.code!==z.FAILED_PRECONDITION||n.message!==X1)throw n;pe("LocalStore","Unexpectedly lost primary lease")}),NM.apply(this,arguments)}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $?t:$.resolve(t)}catch(t){return $.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$.reject(t)}static resolve(e){return new $((t,r)=>{t(e)})}static reject(e){return new $((t,r)=>{r(e)})}static waitFor(e){return new $((t,r)=>{let i=0,a=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++a,c&&a===i&&t()},g=>r(g))}),c=!0,a===i&&t()})}static or(e){let t=$.resolve(!1);for(const r of e)t=t.next(i=>i?$.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new $((r,i)=>{const a=e.length,c=new Array(a);let p=0;for(let g=0;g<a;g++){const y=g;t(e[y]).next(I=>{c[y]=I,++p,p===a&&r(c)},I=>i(I))}})}static doWhile(e,t){return new $((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}function Xc(n){return"IndexedDbTransactionError"===n.name}let Ns=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}return n.ae=-1,n})();function LE(n){return null==n}function VE(n){return 0===n&&1/n==-1/0}function uk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function el(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ck(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class cn{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fb(this.root,e,this.comparator,!0)}}class Fb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Xr.RED,this.left=i??Xr.EMPTY,this.right=a??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Xr(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,r,i,a){return this}insert(e,t,r){return new Xr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ln{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lk(this.data.getIterator())}getIteratorFrom(e){return new lk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ln(this.comparator);return t.data=e,t}}class lk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cs{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new cs([])}unionWith(e){let t=new ln(Hn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class dk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dk("Invalid base64 string: "+a):a}}(e);return new Sr(t)}static fromUint8Array(e){const t=function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e);return new Sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const _U=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tl(n){if(We(!!n),"string"==typeof n){let e=0;const t=_U.exec(n);if(We(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gn(n.seconds),nanos:Gn(n.nanos)}}function Gn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Tu(n){return"string"==typeof n?Sr.fromBase64String(n):Sr.fromUint8Array(n)}function Lb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Vb(n){const e=n.mapValue.fields.__previous_value__;return Lb(e)?Vb(e):e}function UE(n){const e=tl(n.mapValue.fields.__local_write_time__.timestampValue);return new On(e.seconds,e.nanos)}class yU{constructor(e,t,r,i,a,c,p,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y}}class mh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mh&&e.projectId===this.projectId&&e.database===this.database}}const nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function rl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lb(n)?4:gk(n)?9007199254740991:10:Ue()}function wa(n,e){if(n===e)return!0;const t=rl(n);if(t!==rl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return UE(n).isEqual(UE(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=tl(i.timestampValue),p=tl(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Tu(n.bytesValue).isEqual(Tu(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Gn(i.geoPointValue.latitude)===Gn(a.geoPointValue.latitude)&&Gn(i.geoPointValue.longitude)===Gn(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Gn(i.integerValue)===Gn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=Gn(i.doubleValue),p=Gn(a.doubleValue);return c===p?VE(c)===VE(p):isNaN(c)&&isNaN(p)}return!1}(n,e);case 9:return Sg(n.arrayValue.values||[],e.arrayValue.values||[],wa);case 10:return function(i,a){const c=i.mapValue.fields||{},p=a.mapValue.fields||{};if(uk(c)!==uk(p))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(void 0===p[g]||!wa(c[g],p[g])))return!1;return!0}(n,e);default:return Ue()}var a}function BE(n,e){return void 0!==(n.values||[]).find(t=>wa(t,e))}function il(n,e){if(n===e)return 0;const t=rl(n),r=rl(e);if(t!==r)return pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const p=Gn(a.integerValue||a.doubleValue),g=Gn(c.integerValue||c.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(n,e);case 3:return hk(n.timestampValue,e.timestampValue);case 4:return hk(UE(n),UE(e));case 5:return pt(n.stringValue,e.stringValue);case 6:return function(a,c){const p=Tu(a),g=Tu(c);return p.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),g=c.split("/");for(let y=0;y<p.length&&y<g.length;y++){const I=pt(p[y],g[y]);if(0!==I)return I}return pt(p.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const p=pt(Gn(a.latitude),Gn(c.latitude));return 0!==p?p:pt(Gn(a.longitude),Gn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],g=c.values||[];for(let y=0;y<p.length&&y<g.length;++y){const I=il(p[y],g[y]);if(I)return I}return pt(p.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===nl.mapValue&&c===nl.mapValue)return 0;if(a===nl.mapValue)return 1;if(c===nl.mapValue)return-1;const p=a.fields||{},g=Object.keys(p),y=c.fields||{},I=Object.keys(y);g.sort(),I.sort();for(let D=0;D<g.length&&D<I.length;++D){const x=pt(g[D],I[D]);if(0!==x)return x;const L=il(p[g[D]],y[I[D]]);if(0!==L)return L}return pt(g.length,I.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function hk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return pt(n,e);const t=tl(n),r=tl(e),i=pt(t.seconds,r.seconds);return 0!==i?i:pt(t.nanos,r.nanos)}function xg(n){return LM(n)}function LM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=tl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Tu(n.bytesValue).toBase64():"referenceValue"in n?Oe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=LM(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const c of r)a?a=!1:i+=",",i+=`${c}:${LM(t.fields[c])}`;return i+"}"}(n.mapValue):Ue()}function VM(n){return!!n&&"integerValue"in n}function jE(n){return!!n&&"arrayValue"in n}function fk(n){return!!n&&"nullValue"in n}function pk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jb(n){return!!n&&"mapValue"in n}function $E(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return el(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$E(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$E(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$E(t)}setAll(e){let t=Hn.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=$E(c):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());jb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){el(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ei($E(this.value))}}function yk(n){const e=[];return el(n.fields,(t,r)=>{const i=new Hn([t]);if(jb(r)){const a=yk(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new cs(e)}class _n{constructor(e,t,r,i,a,c,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=p}static newInvalidDocument(e){return new _n(e,0,Ke.min(),Ke.min(),Ke.min(),ei.empty(),0)}static newFoundDocument(e,t,r,i){return new _n(e,1,t,Ke.min(),r,i,0)}static newNoDocument(e,t){return new _n(e,2,t,Ke.min(),Ke.min(),ei.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Ke.min(),Ke.min(),ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sl{constructor(e,t){this.position=e,this.inclusive=t}}function vk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Oe.comparator(Oe.fromName(c.referenceValue),t.key):il(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ek(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wa(n.position[t],e.position[t]))return!1;return!0}class Og{constructor(e,t="asc"){this.field=e,this.dir=t}}function IU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ik{}class Pt extends Ik{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new wU(e,t,r):"array-contains"===t?new DU(e,r):"in"===t?new Ak(e,r):"not-in"===t?new bU(e,r):"array-contains-any"===t?new AU(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new TU(e,r):new CU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(il(t,this.value)):null!==t&&rl(this.value)===rl(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kt extends Ik{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Kt(e,t)}matches(e){return Ng(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(t=>t.isInequality());return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ng(n){return"and"===n.op}function BM(n){return function wk(n){for(const e of n.filters)if(e instanceof Kt)return!1;return!0}(n)&&Ng(n)}function jM(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+xg(n.value);if(BM(n))return n.filters.map(e=>jM(e)).join(",");{const e=n.filters.map(t=>jM(t)).join(",");return`${n.op}(${e})`}}function Tk(n,e){return n instanceof Pt?(r=n,(i=e)instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&wa(r.value,i.value)):n instanceof Kt?function(r,i){return i instanceof Kt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((a,c,p)=>a&&Tk(c,i.filters[p]),!0)}(n,e):void Ue();var r,i}function Dk(n){return n instanceof Pt?`${(t=n).field.canonicalString()} ${t.op} ${xg(t.value)}`:n instanceof Kt?function(t){return t.op.toString()+" {"+t.getFilters().map(Dk).join(" ,")+"}"}(n):"Filter";var t}class wU extends Pt{constructor(e,t,r){super(e,t,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class TU extends Pt{constructor(e,t){super(e,"in",t),this.keys=bk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CU extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=bk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class DU extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jE(t)&&BE(t.arrayValue,this.value)}}class Ak extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&BE(this.value.arrayValue,t)}}class bU extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(BE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!BE(this.value.arrayValue,t)}}class AU extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>BE(this.value.arrayValue,r))}}class SU{constructor(e,t=null,r=[],i=[],a=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=p,this.he=null}}function $M(n,e=null,t=[],r=[],i=null,a=null,c=null){return new SU(n,e,t,r,i,a,c)}function yh(n){const e=Me(n);if(null===e.he){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),LE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>xg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>xg(r)).join(",")),e.he=t}return e.he}function HE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Tk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ek(n.startAt,e.startAt)&&Ek(n.endAt,e.endAt)}function $b(n){return Oe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Cu{constructor(e,t=null,r=[],i=[],a=null,c="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=p,this.endAt=g,this.Pe=null,this.Ie=null,this.de=null}}function kg(n){return new Cu(n)}function Mk(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Fg(n){const e=Me(n);if(null===e.Pe){e.Pe=[];const t=function Gb(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function HM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.Pe.push(new Og(t)),e.Pe.push(new Og(Hn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.Pe.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Og(Hn.keyField(),a))}}}return e.Pe}function Gi(n){const e=Me(n);return e.Ie||(e.Ie=function xk(n,e){if("F"===n.limitType)return $M(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Og(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new sl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new sl(n.startAt.position,n.startAt.inclusive):null;return $M(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Fg(n))),e.Ie}function zb(n,e,t){return new Cu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function GE(n,e){return HE(Gi(n),Gi(e))&&n.limitType===e.limitType}function Ok(n){return`${yh(Gi(n))}|lt:${n.limitType}`}function Lg(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Dk(i)).join(", ")}]`),LE(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(c=i).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>xg(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>xg(i)).join(",")),`Target(${r})`}(Gi(n))}; limitType=${n.limitType})`}function zE(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Oe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Fg(r))if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(c,p,g){const y=vk(c,p,g);return c.inclusive?y<=0:y<0}(r.startAt,Fg(r),i)||r.endAt&&!function(c,p,g){const y=vk(c,p,g);return c.inclusive?y>=0:y>0}(r.endAt,Fg(r),i)));var r,i}function kk(n){return(e,t)=>{let r=!1;for(const i of Fg(n)){const a=RU(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function RU(n,e,t){const r=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(a,c,p){const g=c.data.field(a),y=p.data.field(a);return null!==g&&null!==y?il(g,y):Ue()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}class Du{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){el(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return ck(this.inner)}size(){return this.innerSize}}const PU=new cn(Oe.comparator);function ls(){return PU}const Fk=new cn(Oe.comparator);function qE(...n){let e=Fk;for(const t of n)e=e.insert(t.key,t);return e}function Lk(n){let e=Fk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ta(){return WE()}function Vk(){return WE()}function WE(){return new Du(n=>n.toString(),(n,e)=>n.isEqual(e))}const MU=new cn(Oe.comparator),xU=new ln(Oe.comparator);function wt(...n){let e=xU;for(const t of n)e=e.add(t);return e}const OU=new ln(pt);function Uk(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:VE(e)?"-0":e}}function Bk(n){return{integerValue:""+n}}function jk(n,e){return function tk(n){return"number"==typeof n&&Number.isInteger(n)&&!VE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Bk(e):Uk(n,e)}class qb{constructor(){this._=void 0}}function NU(n,e,t){return n instanceof Vg?function(i,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Lb(a)&&(a=Vb(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof vh?Hk(n,e):n instanceof Eh?Gk(n,e):function(i,a){const c=$k(i,a),p=zk(c)+zk(i.Te);return VM(c)&&VM(i.Te)?Bk(p):Uk(i.serializer,p)}(n,e)}function kU(n,e,t){return n instanceof vh?Hk(n,e):n instanceof Eh?Gk(n,e):t}function $k(n,e){return n instanceof Ug?VM(r=e)||(a=r)&&"doubleValue"in a?e:{integerValue:0}:null;var r,a}class Vg extends qb{}class vh extends qb{constructor(e){super(),this.elements=e}}function Hk(n,e){const t=qk(e);for(const r of n.elements)t.some(i=>wa(i,r))||t.push(r);return{arrayValue:{values:t}}}class Eh extends qb{constructor(e){super(),this.elements=e}}function Gk(n,e){let t=qk(e);for(const r of n.elements)t=t.filter(i=>!wa(i,r));return{arrayValue:{values:t}}}class Ug extends qb{constructor(e,t){super(),this.serializer=e,this.Te=t}}function zk(n){return Gn(n.integerValue||n.doubleValue)}function qk(n){return jE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class LU{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Kb{}function Wk(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new jg(n.key,Cn.none()):new Bg(n.key,n.data,Cn.none());{const t=n.data,r=ei.empty();let i=new ln(Hn.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new bu(n.key,r,new cs(i.toArray()),Cn.none())}}function VU(n,e,t){n instanceof Bg?function(i,a,c){const p=i.value.clone(),g=Qk(i.fieldTransforms,a,c.transformResults);p.setAll(g),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):n instanceof bu?function(i,a,c){if(!Wb(i.precondition,a))return void a.convertToUnknownDocument(c.version);const p=Qk(i.fieldTransforms,a,c.transformResults),g=a.data;g.setAll(Yk(i)),g.setAll(p),a.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function YE(n,e,t,r){return n instanceof Bg?function(a,c,p,g){if(!Wb(a.precondition,c))return p;const y=a.value.clone(),I=Zk(a.fieldTransforms,g,c);return y.setAll(I),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof bu?function(a,c,p,g){if(!Wb(a.precondition,c))return p;const y=Zk(a.fieldTransforms,g,c),I=c.data;return I.setAll(Yk(a)),I.setAll(y),c.convertToFoundDocument(c.version,I).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(D=>D.field))}(n,e,t,r):(p=t,Wb(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function UU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=$k(r.transform,i||null);null!=a&&(null===t&&(t=ei.empty()),t.set(r.field,a))}return t||null}function Kk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Sg(r,i,(a,c)=>function FU(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof vh&&i instanceof vh||r instanceof Eh&&i instanceof Eh?Sg(r.elements,i.elements,wa):r instanceof Ug&&i instanceof Ug?wa(r.Te,i.Te):r instanceof Vg&&i instanceof Vg);var r,i}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Bg extends Kb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bu extends Kb{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Yk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Qk(n,e,t){const r=new Map;We(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,p=e.data.field(a.field);r.set(a.field,kU(c,p,t[i]))}return r}function Zk(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,NU(a,c,e))}return r}class jg extends Kb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WM extends Kb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&VU(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=YE(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=YE(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Vk();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let p=this.applyToLocalView(c,a.mutatedFields);p=t.has(i.key)?null:p;const g=Wk(c,p);null!==g&&r.set(i.key,g),c.isValidDocument()||c.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wt())}isEqual(e){return this.batchId===e.batchId&&Sg(this.mutations,e.mutations,(t,r)=>Kk(t,r))&&Sg(this.baseMutations,e.baseMutations,(t,r)=>Kk(t,r))}}class YM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){We(e.mutations.length===r.length);let i=MU;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new YM(e,t,r,i)}}class QM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jU{constructor(e,t){this.count=e,this.unchangedNames=t}}var pr,Ft;function Jk(n){switch(n){default:return Ue();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function Xk(n){if(void 0===n)return Jn("GRPC error has no .code"),z.UNKNOWN;switch(n){case pr.OK:return z.OK;case pr.CANCELLED:return z.CANCELLED;case pr.UNKNOWN:return z.UNKNOWN;case pr.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case pr.INTERNAL:return z.INTERNAL;case pr.UNAVAILABLE:return z.UNAVAILABLE;case pr.UNAUTHENTICATED:return z.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case pr.NOT_FOUND:return z.NOT_FOUND;case pr.ALREADY_EXISTS:return z.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return z.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case pr.ABORTED:return z.ABORTED;case pr.OUT_OF_RANGE:return z.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return z.UNIMPLEMENTED;case pr.DATA_LOSS:return z.DATA_LOSS;default:return Ue()}}(Ft=pr||(pr={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";const $U=new Dg([4294967295,4294967295],0);function tF(n){const e=function eF(){return new TextEncoder}().encode(n),t=new L2;return t.update(e),new Uint8Array(t.digest())}function nF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Dg([t,r],0),new Dg([i,a],0)]}class ZM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new QE(`Invalid padding: ${t}`);if(r<0)throw new QE(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new QE(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new QE(`Invalid padding when bitmap length is 0: ${t}`);this.Ae=8*e.length-t,this.Re=Dg.fromNumber(this.Ae)}Ve(e,t,r){let i=e.add(t.multiply(Dg.fromNumber(r)));return 1===i.compare($U)&&(i=new Dg([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const t=tF(e),[r,i]=nF(t);for(let a=0;a<this.hashCount;a++){const c=this.Ve(r,i,a);if(!this.me(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new ZM(a,i,t);return r.forEach(p=>c.insert(p)),c}insert(e){if(0===this.Ae)return;const t=tF(e),[r,i]=nF(t);for(let a=0;a<this.hashCount;a++){const c=this.Ve(r,i,a);this.fe(c)}}fe(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class QE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ZE{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,JE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ZE(Ke.min(),i,new cn(pt),ls(),wt())}}class JE{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new JE(r,t,wt(),wt(),wt())}}class Qb{constructor(e,t,r,i){this.ge=e,this.removedTargetIds=t,this.key=r,this.pe=i}}class rF{constructor(e,t){this.targetId=e,this.ye=t}}class iF{constructor(e,t,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class sF{constructor(){this.we=0,this.Se=aF(),this.be=Sr.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=wt(),t=wt(),r=wt();return this.Se.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ue()}}),new JE(this.be,this.De,e,t,r)}Oe(){this.Ce=!1,this.Se=aF()}Ne(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class HU{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=ls(),this.Ue=oF(),this.We=new cn(pt)}Ge(e){for(const t of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(t,e.pe):this.je(t,e.key,e.pe);for(const t of e.removedTargetIds)this.je(t,e.key,e.pe)}He(e){this.forEachTarget(e,t=>{const r=this.Je(t);switch(e.state){case 0:this.Ye(t)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(t);break;case 3:this.Ye(t)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(t)&&(this.Ze(t),r.Me(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((r,i)=>{this.Ye(i)&&t(i)})}Xe(e){const t=e.targetId,r=e.ye.count,i=this.et(t);if(i){const a=i.target;if($b(a))if(0===r){const c=new Oe(a.path);this.je(t,c,_n.newNoDocument(c,Ke.min()))}else We(1===r);else{const c=this.tt(t);if(c!==r){const p=this.nt(e),g=p?this.rt(p,e,c):1;0!==g&&(this.Ze(t),this.We=this.We.insert(t,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const t=e.ye.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let c,p;try{c=Tu(r).toUint8Array()}catch(g){if(g instanceof dk)return xs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ZM(c,i,a)}catch(g){return xs(g instanceof QE?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return 0===p.Ae?null:p}rt(e,t,r){return t.ye.count===r-this.ot(e,t.targetId)?0:2}ot(e,t){const r=this.Qe.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const c=this.Qe.st(),p=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(p)||(this.je(t,a,null),i++)}),i}_t(e){const t=new Map;this.Ke.forEach((a,c)=>{const p=this.et(c);if(p){if(a.current&&$b(p.target)){const g=new Oe(p.target.path);null!==this.$e.get(g)||this.ut(c,g)||this.je(c,g,_n.newNoDocument(g,e))}a.Fe&&(t.set(c,a.xe()),a.Oe())}});let r=wt();this.Ue.forEach((a,c)=>{let p=!0;c.forEachWhile(g=>{const y=this.et(g);return!y||"TargetPurposeLimboResolution"===y.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.$e.forEach((a,c)=>c.setReadTime(e));const i=new ZE(e,t,this.We,this.$e,r);return this.$e=ls(),this.Ue=oF(),this.We=new cn(pt),i}ze(e,t){if(!this.Ye(e))return;const r=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,r),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}je(e,t,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,t)?i.Ne(t,1):i.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),r&&(this.$e=this.$e.insert(t,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let t=this.Ke.get(e);return t||(t=new sF,this.Ke.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new ln(pt),this.Ue=this.Ue.insert(e,t)),t}Ye(e){const t=null!==this.et(e);return t||pe("WatchChangeAggregator","Detected inactive target",e),t}et(e){const t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new sF),this.Qe.getRemoteKeysForTarget(e).forEach(t=>{this.je(e,t,null)})}ut(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}function oF(){return new cn(Oe.comparator)}function aF(){return new cn(Oe.comparator)}const GU={asc:"ASCENDING",desc:"DESCENDING"},zU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qU={and:"AND",or:"OR"};class WU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function JM(n,e){return n.useProto3Json||LE(e)?e:{value:e}}function $g(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KU(n,e){return $g(n,e.toTimestamp())}function Xn(n){return We(!!n),Ke.fromTimestamp(function(t){const r=tl(t);return new On(r.seconds,r.nanos)}(n))}function XM(n,e){return(r=n,new kt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function cF(n){const e=kt.fromString(n);return We(yF(e)),e}function XE(n,e){return XM(n.databaseId,e.path)}function Ca(n,e){const t=cF(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(dF(t))}function ex(n,e){return XM(n.databaseId,e)}function eI(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dF(n){return We(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hF(n,e,t){return{name:XE(n,e),fields:t.value.mapValue.fields}}function tI(n,e){let t;if(e instanceof Bg)t={update:hF(n,e.key,e.value)};else if(e instanceof jg)t={delete:XE(n,e.key)};else if(e instanceof bu)t={update:hF(n,e.key,e.data),updateMask:nB(e.fieldMask)};else{if(!(e instanceof WM))return Ue();t={verify:XE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const p=c.transform;if(p instanceof Vg)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof vh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Eh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ug)return{fieldPath:c.field.canonicalString(),increment:p.Te};throw Ue()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:KU(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Ue()),t;var a}function pF(n,e){return{documents:[ex(n,e.path)]}}function nx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ex(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ex(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0!==g.length)return _F(Kt.create(g,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(g){if(0!==g.length)return g.map(y=>{return{field:ol((D=y).field),direction:XU(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=JM(n,e.limit);return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),t;var g}function gF(n){let e=function lF(n){const e=cF(n);return 4===e.length?kt.emptyPath():dF(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){We(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=function(D){const x=mF(D);return x instanceof Kt&&BM(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(x=>{return new Og(Hg((Z=x).field),function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction));var Z}));let p=null;t.limit&&(p=function(D){let x;return x="object"==typeof D?D.value:D,LE(x)?null:x}(t.limit));let g=null;var D;t.startAt&&(g=new sl((D=t.startAt).values||[],!!D.before));let y=null;return t.endAt&&(y=function(D){return new sl(D.values||[],!D.before)}(t.endAt)),function Pk(n,e,t,r,i,a,c,p){return new Cu(n,e,t,r,i,a,c,p)}(e,i,c,a,p,"F",g,y)}function mF(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Hg(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hg(t.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Hg(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Hg(t.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):void 0!==n.fieldFilter?Pt.create(Hg((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Kt.create(t.compositeFilter.filters.map(r=>mF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue();var t}function XU(n){return GU[n]}function eB(n){return zU[n]}function tB(n){return qU[n]}function ol(n){return{fieldPath:n.canonicalString()}}function Hg(n){return Hn.fromServerFormat(n.fieldPath)}function _F(n){return n instanceof Pt?function(t){if("=="===t.op){if(pk(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NAN"}};if(fk(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(pk(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NOT_NAN"}};if(fk(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(t.field),op:eB(t.op),value:t.value}}}(n):n instanceof Kt?function(t){const r=t.getFilters().map(i=>_F(i));return 1===r.length?r[0]:{compositeFilter:{op:tB(t.op),filters:r}}}(n):Ue()}function nB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Au{constructor(e,t,r,i,a=Ke.min(),c=Ke.min(),p=Sr.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Au(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vF{constructor(e){this.ht=e}}function rx(n){const e=gF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zb(e,e.limit,"L"):e}class Ch{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(Gn(e.integerValue));else if("doubleValue"in e){const r=Gn(e.doubleValue);isNaN(r)?this.At(t,13):(this.At(t,15),VE(r)?t.Rt(0):t.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt(`${r.seconds||""}`),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Tu(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(t,45),t.Rt(r.latitude||0),t.Rt(r.longitude||0)}else"mapValue"in e?gk(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):Ue()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const r=e.fields||{};this.At(t,55);for(const i of Object.keys(r))this.ft(i,t),this.Tt(r[i],t)}bt(e,t){const r=e.values||[];this.At(t,50);for(const i of r)this.Tt(i,t)}wt(e,t){this.At(t,37),Oe.fromName(e).path.forEach(r=>{this.At(t,60),this.Dt(r,t)})}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}Ch.Ct=new Ch;class lB{constructor(){this.an=new cx}addToCollectionParentIndex(e,t){return this.an.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(Os.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}}class cx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ln(kt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(kt.comparator)).toArray()}}new Uint8Array(0);class yi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yi(e,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}yi.DEFAULT_COLLECTION_PERCENTILE=10,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yi.DEFAULT=new yi(41943040,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yi.DISABLED=new yi(-1,0,0);class bh{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new bh(0)}static Ln(){return new bh(-1)}}class mB{constructor(){this.changes=new Du(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&YE(r.mutation,i,cs.empty(),On.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,wt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=wt()){const i=Ta();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=qE();return a.forEach((p,g)=>{c=c.insert(p,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ta();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,wt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let a=ls();const c=WE(),p=WE();return t.forEach((g,y)=>{const I=r.get(y.key);i.has(y.key)&&(void 0===I||I.mutation instanceof bu)?a=a.insert(y.key,y):void 0!==I?(c.set(y.key,I.mutation.getFieldMask()),YE(I.mutation,y,I.mutation.getFieldMask(),On.now())):c.set(y.key,cs.empty())}),this.recalculateAndSaveOverlays(e,a).next(g=>(g.forEach((y,I)=>c.set(y,I)),t.forEach((y,I)=>{var D;return p.set(y,new vB(I,null!==(D=c.get(y))&&void 0!==D?D:null))}),p))}recalculateAndSaveOverlays(e,t){const r=WE();let i=new cn((c,p)=>c-p),a=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(g=>{const y=t.get(g);if(null===y)return;let I=r.get(g)||cs.empty();I=p.applyToLocalView(y,I),r.set(g,I);const D=(i.get(p.batchId)||wt()).add(g);i=i.insert(p.batchId,D)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,I=g.value,D=Vk();I.forEach(x=>{if(!a.has(x)){const L=Wk(t.get(x),r.get(x));null!==L&&D.set(x,L),a=a.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,D))}return $.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Oe.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function GM(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var c}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):$.resolve(Ta());let p=-1,g=a;return c.next(y=>$.forEach(y,(I,D)=>(p<D.largestBatchId&&(p=D.largestBatchId),a.get(I)?$.resolve():this.remoteDocumentCache.getEntry(e,I).next(x=>{g=g.insert(I,x)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,g,y,wt())).next(I=>({batchId:p,changes:Lk(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(r=>{let i=qE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let c=qE();return this.indexManager.getCollectionParents(e,a).next(p=>$.forEach(p,g=>{const y=(D=t,x=g.child(a),new Cu(x,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,x;return this.getDocumentsMatchingCollectionQuery(e,y,r,i).next(I=>{I.forEach((D,x)=>{c=c.insert(D,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(c=>{a.forEach((g,y)=>{const I=y.getKey();null===c.get(I)&&(c=c.insert(I,_n.newInvalidDocument(I)))});let p=qE();return c.forEach((g,y)=>{const I=a.get(g);void 0!==I&&YE(I.mutation,y,cs.empty(),On.now()),zE(t,y)&&(p=p.insert(g,y))}),p})}}class EB{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return $.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,{id:(i=t).id,version:i.version,createTime:Xn(i.createTime)}),$.resolve();var i}getNamedQuery(e,t){return $.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,{name:(i=t).name,query:rx(i.bundledQuery),readTime:Xn(i.readTime)}),$.resolve();var i}}class IB{constructor(){this.overlays=new cn(Oe.comparator),this.Pr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ta();return $.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.It(e,t,a)}),$.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Pr.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Pr.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){const i=Ta(),a=t.length+1,c=new Oe(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&g.largestBatchId>r&&i.set(g.getKey(),g)}return $.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new cn((y,I)=>y-I);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let I=a.get(y.largestBatchId);null===I&&(I=Ta(),a=a.insert(y.largestBatchId,I)),I.set(y.getKey(),y)}}const p=Ta(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,I)=>p.set(y,I)),!(p.size()>=i)););return $.resolve(p)}It(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new QM(t,r));let a=this.Pr.get(t);void 0===a&&(a=wt(),this.Pr.set(t,a)),this.Pr.set(t,a.add(r.key))}}class lx{constructor(){this.Ir=new ln(Vr.dr),this.Tr=new ln(Vr.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const r=new Vr(e,t);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Rr(new Vr(e,t))}Vr(e,t){e.forEach(r=>this.removeReference(r,t))}mr(e){const t=new Oe(new kt([])),r=new Vr(t,e),i=new Vr(t,e+1),a=[];return this.Tr.forEachInRange([r,i],c=>{this.Rr(c),a.push(c.key)}),a}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const t=new Oe(new kt([])),r=new Vr(t,e),i=new Vr(t,e+1);let a=wt();return this.Tr.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Vr(e,0),r=this.Ir.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vr{constructor(e,t){this.key=e,this.yr=t}static dr(e,t){return Oe.comparator(e.key,t.key)||pt(e.yr,t.yr)}static Er(e,t){return pt(e.yr,t.yr)||Oe.comparator(e.key,t.key)}}class wB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new ln(Vr.dr)}checkEmpty(e){return $.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.wr;this.wr++;const c=new KM(a,t,r,i);this.mutationQueue.push(c);for(const p of i)this.Sr=this.Sr.add(new Vr(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(c)}lookupMutationBatch(e,t){return $.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Dr(t+1),a=i<0?0:i;return $.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vr(t,0),i=new Vr(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,i],c=>{const p=this.br(c.yr);a.push(p)}),$.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ln(pt);return t.forEach(i=>{const a=new Vr(i,0),c=new Vr(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([a,c],p=>{r=r.add(p.yr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Oe.isDocumentKey(a)||(a=a.child(""));const c=new Vr(new Oe(a),0);let p=new ln(pt);return this.Sr.forEachWhile(g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===i&&(p=p.add(g.yr)),!0)},c),$.resolve(this.Cr(p))}Cr(e){const t=[];return e.forEach(r=>{const i=this.br(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){We(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return $.forEach(t.mutations,i=>{const a=new Vr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,t){const r=new Vr(t,0),i=this.Sr.firstAfterOrEqual(r);return $.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return $.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class TB{constructor(e){this.Fr=e,this.docs=new cn(Oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Fr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let r=ls();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():_n.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ls();const c=t.path,p=new Oe(c.child("")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:I}}=g.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||OM(J1(I),r)<=0||(i.has(I.key)||zE(t,I))&&(a=a.insert(I.key,I.mutableCopy()))}return $.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ue()}Mr(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CB(this)}getSize(e){return $.resolve(this.size)}}class CB extends mB{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}class DB{constructor(e){this.persistence=e,this.Or=new Du(t=>yh(t),HE),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Nr=0,this.Br=new lx,this.targetCount=0,this.Lr=bh.Bn()}forEachTarget(e,t){return this.Or.forEach((r,i)=>t(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Nr&&(this.Nr=t),$.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new bh(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.Qn(t),$.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Or.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Or.delete(c),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),$.waitFor(a).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){const r=this.Or.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Ar(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.Br.Vr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),$.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.mr(t),$.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.pr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.Br.containsKey(t))}}class dx{constructor(e,t){this.kr={},this.overlays={},this.qr=new Ns(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new DB(this),this.indexManager=new lB,this.remoteDocumentCache=new TB(r=>this.referenceDelegate.$r(r)),this.serializer=new vF(t),this.Ur=new EB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.kr[e.toKey()];return r||(r=new wB(t,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new bB(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(a=>this.referenceDelegate.Gr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}zr(e,t){return $.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,t)))}}class bB extends K2{constructor(e){super(),this.currentSequenceNumber=e}}class s0{constructor(e){this.persistence=e,this.jr=new lx,this.Hr=null}static Jr(e){return new s0(e)}get Yr(){if(this.Hr)return this.Hr;throw Ue()}addReference(e,t,r){return this.jr.addReference(r,t),this.Yr.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.jr.removeReference(r,t),this.Yr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.Yr.add(t.toString()),$.resolve()}removeTarget(e,t){this.jr.mr(t.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Yr.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Wr(){this.Hr=new Set}Gr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Yr,r=>{const i=Oe.fromPath(r);return this.Zr(e,i).next(a=>{a||t.removeEntry(i,Ke.min())})}).next(()=>(this.Hr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zr(e,t).next(r=>{r?this.Yr.delete(t.toString()):this.Yr.add(t.toString())})}$r(e){return 0}Zr(e,t){return $.or([()=>$.resolve(this.jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zr(e,t)])}}class gx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Qi=r,this.Ki=i}static $i(e,t){let r=wt(),i=wt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gx(e,t.fromCache,r,i)}}class SB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KF{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.Hi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Ji(e,t,i,r).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new SB;return this.Yi(e,t,c).next(p=>{if(a.result=p,this.Wi)return this.Zi(e,t,c,p.size)})}).next(()=>a.result)}Zi(e,t,r,i){return r.documentReadCount<this.Gi?(Ag()<=St.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Lg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),$.resolve()):(Ag()<=St.DEBUG&&pe("QueryEngine","Query:",Lg(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Ag()<=St.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Lg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(t))):$.resolve())}Hi(e,t){if(Mk(t))return $.resolve(null);let r=Gi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=zb(t,null,"F"),r=Gi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=wt(...a);return this.ji.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(g=>{const y=this.Xi(t,p);return this.es(t,y,c,g.readTime)?this.Hi(e,zb(t,null,"F")):this.ts(e,y,t,g)}))})))}Ji(e,t,r,i){return Mk(t)||i.isEqual(Ke.min())?$.resolve(null):this.ji.getDocuments(e,r).next(a=>{const c=this.Xi(t,a);return this.es(t,c,r,i)?$.resolve(null):(Ag()<=St.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lg(t)),this.ts(e,c,t,function Z1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(1e9===r?new On(t+1,0):new On(t,r));return new Os(i,Oe.empty(),e)}(i,-1)).next(p=>p))})}Xi(e,t){let r=new ln(kk(e));return t.forEach((i,a)=>{zE(e,a)&&(r=r.add(a))}),r}es(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Yi(e,t,r){return Ag()<=St.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Lg(t)),this.ji.getDocumentsMatchingQuery(e,t,Os.min(),r)}ts(e,t,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class RB{constructor(e,t,r,i){this.persistence=e,this.ns=t,this.serializer=i,this.rs=new cn(pt),this.ss=new Du(a=>yh(a),HE),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qF(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.rs))}}function QF(n,e){return mx.apply(this,arguments)}function mx(){return mx=k(function*(n,e){const t=Me(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.us(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],p=[];let g=wt();for(const y of i){c.push(y.batchId);for(const I of y.mutations)g=g.add(I.key)}for(const y of a){p.push(y.batchId);for(const I of y.mutations)g=g.add(I.key)}return t.localDocuments.getDocuments(r,g).next(y=>({cs:y,removedBatchIds:c,addedBatchIds:p}))})})}),mx.apply(this,arguments)}function ZF(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Kr.getLastRemoteSnapshotVersion(t))}function xB(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yg(n,e,t){return _x.apply(this,arguments)}function _x(){return _x=k(function*(n,e,t){const r=Me(n),i=r.rs.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Xc(c))throw c;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}),_x.apply(this,arguments)}function u0(n,e,t){const r=Me(n);let i=Ke.min(),a=wt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(g,y,I){const D=Me(g),x=D.ss.get(I);return void 0!==x?$.resolve(D.rs.get(x)):D.Kr.getTargetData(y,I)}(r,c,Gi(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(c,p.targetId).next(g=>{a=g})}).next(()=>r.ns.getDocumentsMatchingQuery(c,e,t?i:Ke.min(),t?a:wt())).next(p=>(function tL(n,e,t){let r=n.os.get(e)||Ke.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.os.set(e,r)}(r,function Nk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),p),{documents:p,Ps:a})))}class wx{constructor(){this.activeTargetIds=function qM(){return OU}()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iL{constructor(){this.ro=new wx,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,t,r){this.io[e]=t}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new wx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kB{so(e){}shutdown(){}}class sL{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let d0=null;function Cx(){return null===d0?d0=268435456+Math.round(2147483648*Math.random()):d0++,"0x"+d0.toString(16)}const FB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LB{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const vi="WebChannelConnection";class VB extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${i}/databases/${a}`,this.wo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get So(){return!1}bo(t,r,i,a,c){const p=Cx(),g=this.Do(t,r);pe("RestConnection",`Sending RPC '${t}' ${p}:`,g,i);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(y,a,c),this.vo(t,g,y,i).then(I=>(pe("RestConnection",`Received RPC '${t}' ${p}: `,I),I),I=>{throw xs("RestConnection",`RPC '${t}' ${p} failed with error: `,I,"url: ",g,"request:",i),I})}Fo(t,r,i,a,c,p){return this.bo(t,r,i,a,c)}Co(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+bg,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,c)=>t[c]=a),i&&i.headers.forEach((a,c)=>t[c]=a)}Do(t,r){return`${this.po}/v1/${r}:${FB[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=Cx();return new Promise((c,p)=>{const g=new F2;g.setWithCredentials(!0),g.listenOnce(N2.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case NE.NO_ERROR:const I=g.getResponseJson();pe(vi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(I)),c(I);break;case NE.TIMEOUT:pe(vi,`RPC '${e}' ${a} timed out`),p(new fe(z.DEADLINE_EXCEEDED,"Request time out"));break;case NE.HTTP_ERROR:const D=g.getStatus();if(pe(vi,`RPC '${e}' ${a} failed with status:`,D,"response text:",g.getResponseText()),D>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const L=x?.error;if(L&&L.status&&L.message){const Z=function(re){const _e=re.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_e)>=0?_e:z.UNKNOWN}(L.status);p(new fe(Z,L.message))}else p(new fe(z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(z.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{pe(vi,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(i);pe(vi,`RPC '${e}' ${a} sending request:`,i),g.send(t,"POST",y,r,15)})}Mo(e,t,r){const i=Cx(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=OE(),p=PM(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Co(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const I=a.join("");pe(vi,`Creating RPC '${e}' stream ${i}: ${I}`,g);const D=c.createWebChannel(I,g);let x=!1,L=!1;const Z=new LB({ho:re=>{L?pe(vi,`Not sending because RPC '${e}' stream ${i} is closed:`,re):(x||(pe(vi,`Opening RPC '${e}' stream ${i} transport.`),D.open(),x=!0),pe(vi,`RPC '${e}' stream ${i} sending:`,re),D.send(re))},Po:()=>D.close()}),J=(re,_e,Fe)=>{re.listen(_e,Ne=>{try{Fe(Ne)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return J(D,Ob.EventType.OPEN,()=>{L||pe(vi,`RPC '${e}' stream ${i} transport opened.`)}),J(D,Ob.EventType.CLOSE,()=>{L||(L=!0,pe(vi,`RPC '${e}' stream ${i} transport closed`),Z.mo())}),J(D,Ob.EventType.ERROR,re=>{L||(L=!0,xs(vi,`RPC '${e}' stream ${i} transport errored:`,re),Z.mo(new fe(z.UNAVAILABLE,"The operation could not be completed")))}),J(D,Ob.EventType.MESSAGE,re=>{var _e;if(!L){const Fe=re.data[0];We(!!Fe);const Xe=Fe.error||(null===(_e=Fe[0])||void 0===_e?void 0:_e.error);if(Xe){pe(vi,`RPC '${e}' stream ${i} received error:`,Xe);const yt=Xe.status;let lt=function(CI){const G0=pr[CI];if(void 0!==G0)return Xk(G0)}(yt),Zt=Xe.message;void 0===lt&&(lt=z.INTERNAL,Zt="Unknown error status: "+yt+" with message "+Xe.message),L=!0,Z.mo(new fe(lt,Zt)),D.close()}else pe(vi,`RPC '${e}' stream ${i} received:`,Fe),Z.fo(Fe)}}),J(p,k2.STAT_EVENT,re=>{re.stat===z1.PROXY?pe(vi,`RPC '${e}' stream ${i} detected buffering proxy`):re.stat===z1.NOPROXY&&pe(vi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Z.Vo()},0),Z}}function h0(){return typeof document<"u"?document:null}function cI(n){return new WU(n,!0)}class Dx{constructor(e,t,r=1e3,i=1.5,a=6e4){this._i=e,this.timerId=t,this.xo=r,this.Oo=i,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class aL{constructor(e,t,r,i,a,c,p,g){this._i=e,this.Uo=r,this.Wo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new Dx(e,t)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return k(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return k(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,t){var r=this;return k(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():t&&t.code===z.RESOURCE_EXHAUSTED?(Jn(t.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):t&&t.code===z.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),t=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===t&&this.__(r,i)},r=>{e(()=>{const i=new fe(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,t){const r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){var e=this;this.state=5,this.Ho.Qo(k(function*(){e.state=0,e.start()}))}a_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return t=>{this._i.enqueueAndForget(()=>this.Go===e?t():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UB extends aL{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a}u_(e,t){return this.connection.Mo("Listen",e,t)}onMessage(e){this.Ho.reset();const t=function QU(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Ue(),i=e.targetChange.targetIds||[],a=function(y,I){return y.useProto3Json?(We(void 0===I||"string"==typeof I),Sr.fromBase64String(I||"")):(We(void 0===I||I instanceof Uint8Array),Sr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(y){const I=void 0===y.code?z.UNKNOWN:Xk(y.code);return new fe(I,y.message||"")}(c);t=new iF(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Ca(n,r.document.name),a=Xn(r.document.updateTime),c=r.document.createTime?Xn(r.document.createTime):Ke.min(),p=new ei({mapValue:{fields:r.document.fields}}),g=_n.newFoundDocument(i,a,c,p);t=new Qb(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=Ca(n,r.document),a=r.readTime?Xn(r.readTime):Ke.min(),c=_n.newNoDocument(i,a);t=new Qb([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Ca(n,r.document);t=new Qb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ue();{const r=e.filter,{count:i=0,unchangedNames:a}=r,c=new jU(i,a);t=new rF(r.targetId,c)}}var y;return t}(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ke.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ke.min():c.readTime?Xn(c.readTime):Ke.min()}(e);return this.listener.c_(t,r)}l_(e){const t={};t.database=eI(this.serializer),t.addTarget=function(a,c){let p;const g=c.target;if(p=$b(g)?{documents:pF(a,g)}:{query:nx(a,g)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=uF(a,c.resumeToken);const y=JM(a,c.expectedCount);null!==y&&(p.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ke.min())>0){p.readTime=$g(a,c.snapshotVersion.toTimestamp());const y=JM(a,c.expectedCount);null!==y&&(p.expectedCount=y)}return p}(this.serializer,e);const r=function JU(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.n_(t)}h_(e){const t={};t.database=eI(this.serializer),t.removeTarget=e,this.n_(t)}}class BB extends aL{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,t){return this.connection.Mo("Write",e,t)}onMessage(e){if(We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const t=function ZU(n,e){return n&&n.length>0?(We(void 0!==e),n.map(t=>function(i,a){let c=Xn(i.updateTime?i.updateTime:a);return c.isEqual(Ke.min())&&(c=Xn(a)),new LU(c,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.T_(r,t)}return We(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=eI(this.serializer),this.n_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tI(this.serializer,r))};this.n_(t)}}class jB extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new fe(z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.bo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(z.UNKNOWN,i.toString())})}Fo(e,t,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Fo(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(z.UNKNOWN,a.toString())})}terminate(){this.R_=!0}}class HB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Jn(t),this.p_=!1):pe("OnlineStateTracker",t)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class GB{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so(p=>{r.enqueueAndForget(k(function*(){var g;ll(c)&&(pe("RemoteStore","Restarting streams for network reachability change."),yield(g=k(function*(I){const D=Me(I);D.F_.add(4),yield Qg(D),D.O_.set("Unknown"),D.F_.delete(4),yield lI(D)}),function y(I){return g.apply(this,arguments)})(c))}))}),this.O_=new HB(r,i)}}function lI(n){return Ax.apply(this,arguments)}function Ax(){return Ax=k(function*(n){if(ll(n))for(const e of n.M_)yield e(!0)}),Ax.apply(this,arguments)}function Qg(n){return Sx.apply(this,arguments)}function Sx(){return Sx=k(function*(n){for(const e of n.M_)yield e(!1)}),Sx.apply(this,arguments)}function f0(n,e){const t=Me(n);t.v_.has(e.targetId)||(t.v_.set(e.targetId,e),Mx(t)?Px(t):Jg(t).Yo()&&Rx(t,e))}function dI(n,e){const t=Me(n),r=Jg(t);t.v_.delete(e),r.Yo()&&uL(t,e),0===t.v_.size&&(r.Yo()?r.e_():ll(t)&&t.O_.set("Unknown"))}function Rx(n,e){if(n.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jg(n).l_(e)}function uL(n,e){n.N_.Le(e),Jg(n).h_(e)}function Px(n){n.N_=new HU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.v_.get(e)||null,st:()=>n.datastore.serializer.databaseId}),Jg(n).start(),n.O_.y_()}function Mx(n){return ll(n)&&!Jg(n).Jo()&&n.v_.size>0}function ll(n){return 0===Me(n).F_.size}function cL(n){n.N_=void 0}function zB(n){return xx.apply(this,arguments)}function xx(){return xx=k(function*(n){n.v_.forEach((e,t)=>{Rx(n,e)})}),xx.apply(this,arguments)}function qB(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=k(function*(n,e){cL(n),Mx(n)?(n.O_.b_(e),Px(n)):n.O_.set("Unknown")}),Ox.apply(this,arguments)}function WB(n,e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=k(function*(n,e,t){if(n.O_.set("Online"),e instanceof iF&&2===e.state&&e.cause)try{yield(r=k(function*(a,c){const p=c.cause;for(const g of c.targetIds)a.v_.has(g)&&(yield a.remoteSyncer.rejectListen(g,p),a.v_.delete(g),a.N_.removeTarget(g))}),function i(a,c){return r.apply(this,arguments)})(n,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield p0(n,r)}else if(e instanceof Qb?n.N_.Ge(e):e instanceof rF?n.N_.Xe(e):n.N_.He(e),!t.isEqual(Ke.min()))try{const r=yield ZF(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const p=a.N_._t(c);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const I=a.v_.get(y);I&&a.v_.set(y,I.withResumeToken(g.resumeToken,c))}}),p.targetMismatches.forEach((g,y)=>{const I=a.v_.get(g);if(!I)return;a.v_.set(g,I.withResumeToken(Sr.EMPTY_BYTE_STRING,I.snapshotVersion)),uL(a,g);const D=new Au(I.target,g,y,I.sequenceNumber);Rx(a,D)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),yield p0(n,r)}var r}),Nx.apply(this,arguments)}function p0(n,e,t){return kx.apply(this,arguments)}function kx(){return kx=k(function*(n,e,t){if(!Xc(e))throw e;n.F_.add(1),yield Qg(n),n.O_.set("Offline"),t||(t=()=>ZF(n.localStore)),n.asyncQueue.enqueueRetryable(k(function*(){pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.F_.delete(1),yield lI(n)}))}),kx.apply(this,arguments)}function lL(n,e){return e().catch(t=>p0(n,t,e))}function Zg(n){return Fx.apply(this,arguments)}function Fx(){return Fx=k(function*(n){const e=Me(n),t=dl(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;KB(e);)try{const i=yield xB(e.localStore,r);if(null===i){0===e.C_.length&&t.e_();break}r=i.batchId,YB(e,i)}catch(i){yield p0(e,i)}dL(e)&&hL(e)}),Fx.apply(this,arguments)}function KB(n){return ll(n)&&n.C_.length<10}function YB(n,e){n.C_.push(e);const t=dl(n);t.Yo()&&t.I_&&t.d_(e.mutations)}function dL(n){return ll(n)&&!dl(n).Jo()&&n.C_.length>0}function hL(n){dl(n).start()}function QB(n){return Lx.apply(this,arguments)}function Lx(){return Lx=k(function*(n){dl(n).A_()}),Lx.apply(this,arguments)}function ZB(n){return Vx.apply(this,arguments)}function Vx(){return Vx=k(function*(n){const e=dl(n);for(const t of n.C_)e.d_(t.mutations)}),Vx.apply(this,arguments)}function JB(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=k(function*(n,e,t){const r=n.C_.shift(),i=YM.from(r,e,t);yield lL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Zg(n)}),Ux.apply(this,arguments)}function XB(n,e){return Bx.apply(this,arguments)}function Bx(){return Bx=k(function*(n,e){var t;e&&dl(n).I_&&(yield(t=k(function*(i,a){if(Jk(p=a.code)&&p!==z.ABORTED){const c=i.C_.shift();dl(i).Xo(),yield lL(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,a)),yield Zg(i)}var p}),function r(i,a){return t.apply(this,arguments)})(n,e)),dL(n)&&hL(n)}),Bx.apply(this,arguments)}function fL(n,e){return jx.apply(this,arguments)}function jx(){return jx=k(function*(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=ll(t);t.F_.add(3),yield Qg(t),r&&t.O_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.F_.delete(3),yield lI(t)}),jx.apply(this,arguments)}function Hx(){return Hx=k(function*(n,e){const t=Me(n);e?(t.F_.delete(2),yield lI(t)):e||(t.F_.add(2),yield Qg(t),t.O_.set("Unknown"))}),Hx.apply(this,arguments)}function Jg(n){return n.B_||(n.B_=function(t,r,i){const a=Me(t);return a.V_(),new UB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Io:zB.bind(null,n),Eo:qB.bind(null,n),c_:WB.bind(null,n)}),n.M_.push(function(){var e=k(function*(t){t?(n.B_.Xo(),Mx(n)?Px(n):n.O_.set("Unknown")):(yield n.B_.stop(),cL(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function dl(n){return n.L_||(n.L_=function(t,r,i){const a=Me(t);return a.V_(),new BB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Io:QB.bind(null,n),Eo:XB.bind(null,n),E_:ZB.bind(null,n),T_:JB.bind(null,n)}),n.M_.push(function(){var e=k(function*(t){t?(n.L_.Xo(),yield Zg(n)):(yield n.L_.stop(),n.C_.length>0&&(pe("RemoteStore",`Stopping write stream with ${n.C_.length} pending writes`),n.C_=[]))});return function(t){return e.apply(this,arguments)}}())),n.L_}class Gx{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,p=new Gx(e,t,c,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(n,e){if(Jn("AsyncQueue",`${e}: ${n}`),Xc(n))return new fe(z.UNAVAILABLE,`${e}: ${n}`);throw n}class em{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Oe.comparator(t.key,r.key):(t,r)=>Oe.comparator(t.key,r.key),this.keyedMap=qE(),this.sortedSet=new cn(this.comparator)}static emptySet(e){return new em(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof em)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new em;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class pL{constructor(){this.k_=new cn(Oe.comparator)}track(e){const t=e.doc.key,r=this.k_.get(t);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(t):1===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):Ue():this.k_=this.k_.insert(t,e)}q_(){const e=[];return this.k_.inorderTraversal((t,r)=>{e.push(r)}),e}}class tm{constructor(e,t,r,i,a,c,p,g,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new tm(e,t,em.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&GE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class ej{constructor(){this.Q_=void 0,this.listeners=[]}}class tj{constructor(){this.queries=new Du(e=>Ok(e),GE),this.onlineState="Unknown",this.K_=new Set}}function qx(){return qx=k(function*(n,e){const t=Me(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new ej),i)try{a.Q_=yield t.onListen(r)}catch(c){const p=Xg(c,`Initialization of query '${Lg(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.U_(t.onlineState),a.Q_&&e.W_(a.Q_)&&Yx(t)}),qx.apply(this,arguments)}function Kx(){return Kx=k(function*(n,e){const t=Me(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Kx.apply(this,arguments)}function nj(n,e){const t=Me(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.W_(i)&&(r=!0);c.Q_=i}}r&&Yx(t)}function rj(n,e,t){const r=Me(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Yx(n){n.K_.forEach(e=>{e.next()})}class Qx{constructor(e,t,r){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new tm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){return!e.fromCache||(!this.options.Z_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=tm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class _L{constructor(e){this.key=e}}class yL{constructor(e){this.key=e}}class vL{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=wt(),this.mutatedKeys=wt(),this.ua=kk(e),this.ca=new em(this.ua)}get la(){return this.oa}ha(e,t){const r=t?t.Pa:new pL,i=t?t.ca:this.ca;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,y="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,D)=>{const x=i.get(I),L=zE(this.query,D)?D:null,Z=!!x&&this.mutatedKeys.has(x.key),J=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let re=!1;x&&L?x.data.isEqual(L.data)?Z!==J&&(r.track({type:3,doc:L}),re=!0):this.Ia(x,L)||(r.track({type:2,doc:L}),re=!0,(g&&this.ua(L,g)>0||y&&this.ua(L,y)<0)&&(p=!0)):!x&&L?(r.track({type:0,doc:L}),re=!0):x&&!L&&(r.track({type:1,doc:x}),re=!0,(g||y)&&(p=!0)),re&&(L?(c=c.add(L),a=J?a.add(I):a.delete(I)):(c=c.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const I="F"===this.query.limitType?c.last():c.first();c=c.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{ca:c,Pa:r,es:p,mutatedKeys:a}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.q_();a.sort((y,I)=>function(x,L){const Z=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return Z(x)-Z(L)}(y.type,I.type)||this.ua(y.doc,I.doc)),this.da(r);const c=t?this.Ta():[],p=0===this.aa.size&&this.current?1:0,g=p!==this._a;return this._a=p,0!==a.length||g?{snapshot:new tm(this.query,e.ca,i,a,e.mutatedKeys,0===p,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:c}:{Ea:c}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new pL,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(t=>this.oa=this.oa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.oa=this.oa.delete(t)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=wt(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const t=[];return e.forEach(r=>{this.aa.has(r)||t.push(new yL(r))}),this.aa.forEach(r=>{e.has(r)||t.push(new _L(r))}),t}Ra(e){this.oa=e.Ps,this.aa=wt();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return tm.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class oj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aj{constructor(e){this.key=e,this.ma=!1}}class uj{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.fa={},this.ga=new Du(p=>Ok(p),GE),this.pa=new Map,this.ya=new Set,this.wa=new cn(Oe.comparator),this.Sa=new Map,this.ba=new lx,this.Da={},this.Ca=new Map,this.va=bh.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function cj(n,e){return Zx.apply(this,arguments)}function Zx(){return Zx=k(function*(n,e){const t=function EO(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hj.bind(null,e),e.fa.c_=nj.bind(null,e.eventManager),e.fa.xa=rj.bind(null,e.eventManager),e}(n);let r,i;const a=t.ga.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Va();else{const c=yield function Kg(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Kr.getTargetData(r,e).next(a=>a?(i=a,$.resolve(i)):t.Kr.allocateTargetId(r).next(c=>(i=new Au(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.rs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.rs=t.rs.insert(r.targetId,r),t.ss.set(e,r.targetId)),r})}(t.localStore,Gi(e)),p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield function Jx(n,e,t,r,i){return Xx.apply(this,arguments)}(t,e,r,"current"===p,c.resumeToken),t.isPrimaryClient&&f0(t.remoteStore,c)}return i}),Zx.apply(this,arguments)}function Xx(){return Xx=k(function*(n,e,t,r,i){n.Ma=(D,x,L)=>{return(Z=k(function*(re,_e,Fe,Ne){let Xe=_e.view.ha(Fe);Xe.es&&(Xe=yield u0(re.localStore,_e.query,!1).then(({documents:Zt})=>_e.view.ha(Zt,Xe)));const yt=Ne&&Ne.targetChanges.get(_e.targetId),lt=_e.view.applyChanges(Xe,re.isPrimaryClient,yt);return cO(re,_e.targetId,lt.Ea),lt.snapshot}),function J(re,_e,Fe,Ne){return Z.apply(this,arguments)})(n,D,x,L);var Z};const a=yield u0(n.localStore,e,!0),c=new vL(e,a.Ps),p=c.ha(a.documents),g=JE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),y=c.applyChanges(p,n.isPrimaryClient,g);cO(n,t,y.Ea);const I=new oj(e,t,c);return n.ga.set(e,I),n.pa.has(t)?n.pa.get(t).push(e):n.pa.set(t,[e]),y.snapshot}),Xx.apply(this,arguments)}function lj(n,e){return eO.apply(this,arguments)}function eO(){return eO=k(function*(n,e){const t=Me(n),r=t.ga.get(e),i=t.pa.get(r.targetId);if(i.length>1)return t.pa.set(r.targetId,i.filter(a=>!GE(a,e))),void t.ga.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Yg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),dI(t.remoteStore,r.targetId),nm(t,r.targetId)}).catch(Jc))):(nm(t,r.targetId),yield Yg(t.localStore,r.targetId,!0))}),eO.apply(this,arguments)}function tO(){return tO=k(function*(n,e,t){const r=function IO(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pj.bind(null,e),e}(n);try{const i=yield function(c,p){const g=Me(c),y=On.now(),I=p.reduce((L,Z)=>L.add(Z.key),wt());let D,x;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let Z=ls(),J=wt();return g._s.getEntries(L,I).next(re=>{Z=re,Z.forEach((_e,Fe)=>{Fe.isValidDocument()||(J=J.add(_e))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,Z)).next(re=>{D=re;const _e=[];for(const Fe of p){const Ne=UU(Fe,D.get(Fe.key).overlayedDocument);null!=Ne&&_e.push(new bu(Fe.key,Ne,yk(Ne.value.mapValue),Cn.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,_e,p)}).next(re=>{x=re;const _e=re.applyToLocalDocumentSet(D,J);return g.documentOverlayCache.saveOverlays(L,re.batchId,_e)})}).then(()=>({batchId:x.batchId,changes:Lk(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,p,g){let y=c.Da[c.currentUser.toKey()];y||(y=new cn(pt)),y=y.insert(p,g),c.Da[c.currentUser.toKey()]=y}(r,i.batchId,t),yield Su(r,i.changes),yield Zg(r.remoteStore)}catch(i){const a=Xg(i,"Failed to persist write");t.reject(a)}}),tO.apply(this,arguments)}function EL(n,e){return nO.apply(this,arguments)}function nO(){return nO=k(function*(n,e){const t=Me(n);try{const r=yield function MB(n,e){const t=Me(n),r=e.snapshotVersion;let i=t.rs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t._s.newChangeBuffer({trackRemovals:!0});i=t.rs;const p=[];e.targetChanges.forEach((I,D)=>{const x=i.get(D);if(!x)return;p.push(t.Kr.removeMatchingKeys(a,I.removedDocuments,D).next(()=>t.Kr.addMatchingKeys(a,I.addedDocuments,D)));let L=x.withSequenceNumber(a.currentSequenceNumber);var J,re,_e;null!==e.targetMismatches.get(D)?L=L.withResumeToken(Sr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):I.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(I.resumeToken,r)),i=i.insert(D,L),re=L,_e=I,(0===(J=x).resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&p.push(t.Kr.updateTargetData(a,L))});let g=ls(),y=wt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),p.push(function JF(n,e,t){let r=wt(),i=wt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=ls();return t.forEach((p,g)=>{const y=a.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(i=i.add(p)),g.isNoDocument()&&g.version.isEqual(Ke.min())?(e.removeEntry(p,g.readTime),c=c.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||0===g.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(g),c=c.insert(p,g)):pe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{ls:c,hs:i}})}(a,c,e.documentUpdates).next(I=>{g=I.ls,y=I.hs})),!r.isEqual(Ke.min())){const I=t.Kr.getLastRemoteSnapshotVersion(a).next(D=>t.Kr.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(I)}return $.waitFor(p).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,g,y)).next(()=>g)}).then(a=>(t.rs=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.Sa.get(a);c&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ma=!0:i.modifiedDocuments.size>0?We(c.ma):i.removedDocuments.size>0&&(We(c.ma),c.ma=!1))}),yield Su(t,r,e)}catch(r){yield Jc(r)}}),nO.apply(this,arguments)}function IL(n,e,t){const r=Me(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ga.forEach((a,c)=>{const p=c.view.U_(e);p.snapshot&&i.push(p.snapshot)}),function(c,p){const g=Me(c);g.onlineState=p;let y=!1;g.queries.forEach((I,D)=>{for(const x of D.listeners)x.U_(p)&&(y=!0)}),y&&Yx(g)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hj(n,e,t){return rO.apply(this,arguments)}function rO(){return rO=k(function*(n,e,t){const r=Me(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Sa.get(e),a=i&&i.key;if(a){let c=new cn(Oe.comparator);c=c.insert(a,_n.newNoDocument(a,Ke.min()));const p=wt().add(a),g=new ZE(Ke.min(),new Map,new cn(pt),c,p);yield EL(r,g),r.wa=r.wa.remove(a),r.Sa.delete(e),lO(r)}else yield Yg(r.localStore,e,!1).then(()=>nm(r,e,t)).catch(Jc)}),rO.apply(this,arguments)}function fj(n,e){return iO.apply(this,arguments)}function iO(){return iO=k(function*(n,e){const t=Me(n),r=e.batch.batchId;try{const i=yield function PB(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t._s.newChangeBuffer({trackRemovals:!0});return function(p,g,y,I){const D=y.batch,x=D.keys();let L=$.resolve();return x.forEach(Z=>{L=L.next(()=>I.getEntry(g,Z)).next(J=>{const re=y.docVersions.get(Z);We(null!==re),J.version.compareTo(re)<0&&(D.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),I.addEntry(J)))})}),L.next(()=>p.mutationQueue.removeMutationBatch(g,D))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let g=wt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);uO(t,r,null),aO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Su(t,i)}catch(i){yield Jc(i)}}),iO.apply(this,arguments)}function pj(n,e,t){return sO.apply(this,arguments)}function sO(){return sO=k(function*(n,e,t){const r=Me(n);try{const i=yield function(c,p){const g=Me(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let I;return g.mutationQueue.lookupMutationBatch(y,p).next(D=>(We(null!==D),I=D.keys(),g.mutationQueue.removeMutationBatch(y,D))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,I,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,I)).next(()=>g.localDocuments.getDocuments(y,I))})}(r.localStore,e);uO(r,e,t),aO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Su(r,i)}catch(i){yield Jc(i)}}),sO.apply(this,arguments)}function aO(n,e){(n.Ca.get(e)||[]).forEach(t=>{t.resolve()}),n.Ca.delete(e)}function uO(n,e,t){const r=Me(n);let i=r.Da[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function nm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.pa.get(e))n.ga.delete(r),t&&n.fa.xa(r,t);n.pa.delete(e),n.isPrimaryClient&&n.ba.mr(e).forEach(r=>{n.ba.containsKey(r)||wL(n,r)})}function wL(n,e){n.ya.delete(e.path.canonicalString());const t=n.wa.get(e);null!==t&&(dI(n.remoteStore,t),n.wa=n.wa.remove(e),n.Sa.delete(t),lO(n))}function cO(n,e,t){for(const r of t)r instanceof _L?(n.ba.addReference(r.key,e),mj(n,r)):r instanceof yL?(pe("SyncEngine","Document no longer in limbo: "+r.key),n.ba.removeReference(r.key,e),n.ba.containsKey(r.key)||wL(n,r.key)):Ue()}function mj(n,e){const t=e.key,r=t.path.canonicalString();n.wa.get(t)||n.ya.has(r)||(pe("SyncEngine","New document in limbo: "+t),n.ya.add(r),lO(n))}function lO(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const e=n.ya.values().next().value;n.ya.delete(e);const t=new Oe(kt.fromString(e)),r=n.va.next();n.Sa.set(r,new aj(t)),n.wa=n.wa.insert(t,r),f0(n.remoteStore,new Au(Gi(kg(t.path)),r,"TargetPurposeLimboResolution",Ns.ae))}}function Su(n,e,t){return dO.apply(this,arguments)}function dO(){return dO=k(function*(n,e,t){const r=Me(n),i=[],a=[],c=[];var p;r.ga.isEmpty()||(r.ga.forEach((p,g)=>{c.push(r.Ma(g,e,t).then(y=>{if((y||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,y?.fromCache?"not-current":"current"),y){i.push(y);const I=gx.$i(g.targetId,y);a.push(I)}}))}),yield Promise.all(c),r.fa.c_(i),yield(p=k(function*(y,I){const D=Me(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>$.forEach(I,L=>$.forEach(L.Qi,Z=>D.persistence.referenceDelegate.addReference(x,L.targetId,Z)).next(()=>$.forEach(L.Ki,Z=>D.persistence.referenceDelegate.removeReference(x,L.targetId,Z)))))}catch(x){if(!Xc(x))throw x;pe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of I){const L=x.targetId;if(!x.fromCache){const Z=D.rs.get(L),re=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);D.rs=D.rs.insert(L,re)}}}),function g(y,I){return p.apply(this,arguments)})(r.localStore,a))}),dO.apply(this,arguments)}function _j(n,e){return hO.apply(this,arguments)}function hO(){return hO=k(function*(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=yield QF(t.localStore,e);t.currentUser=e,(a=t).Ca.forEach(p=>{p.forEach(g=>{g.reject(new fe(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ca.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Su(t,r.cs)}var a}),hO.apply(this,arguments)}function yj(n,e){const t=Me(n),r=t.Sa.get(e);if(r&&r.ma)return wt().add(r.key);{let i=wt();const a=t.pa.get(e);if(!a)return i;for(const c of a){const p=t.ga.get(c);i=i.unionWith(p.view.la)}return i}}class g0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return k(function*(){t.serializer=cI(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function YF(n,e,t,r){return new RB(n,e,t,r)}(this.persistence,new KF,e.initialUser,this.serializer)}createPersistence(e){return new dx(s0.Jr,this.serializer)}createSharedClientState(e){return new iL}terminate(){var e=this;return k(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rm{initialize(e,t){var r=this;return k(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>IL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=_j.bind(null,r.syncEngine),yield function $x(n,e){return Hx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tj}createDatastore(e){const t=cI(e.databaseInfo.databaseId),r=new VB(e.databaseInfo);return new jB(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,a=e.asyncQueue,c=t=>IL(this.syncEngine,t,0),p=sL.C()?new sL:new kB,new GB(r,i,a,c,p);var r,i,a,c,p}createSyncEngine(e,t){return function(i,a,c,p,g,y,I){const D=new uj(i,a,c,p,g,y);return I&&(D.Fa=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=k(function*(r){const i=Me(r);pe("RemoteStore","RemoteStore shutting down."),i.F_.add(5),yield Qg(i),i.x_.shutdown(),i.O_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class m0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Rj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return k(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new fe(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=k(function*(c,p){const g=Me(c),y=eI(g.serializer)+"/documents",I={documents:p.map(Z=>XE(g.serializer,Z))},D=yield g.Fo("BatchGetDocuments",y,I,p.length),x=new Map;D.forEach(Z=>{const J=function YU(n,e){return"found"in e?function(r,i){We(!!i.found);const a=Ca(r,i.found.name),c=Xn(i.found.updateTime),p=i.found.createTime?Xn(i.found.createTime):Ke.min(),g=new ei({mapValue:{fields:i.found.fields}});return _n.newFoundDocument(a,c,p,g)}(n,e):"missing"in e?function(r,i){We(!!i.missing),We(!!i.readTime);const a=Ca(r,i.missing),c=Xn(i.readTime);return _n.newNoDocument(a,c)}(n,e):Ue()}(g.serializer,Z);x.set(J.key.toString(),J)});const L=[];return p.forEach(Z=>{const J=x.get(Z.toString());We(!!J),L.push(J)}),L}),function a(c,p){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new jg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return k(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Oe.fromPath(i);e.mutations.push(new WM(a,e.precondition(a)))}),yield(r=k(function*(a,c){const p=Me(a),g=eI(p.serializer)+"/documents",y={writes:c.map(I=>tI(p.serializer,I))};yield p.bo("Commit",g,y)}),function i(a,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ue();t=Ke.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new fe(z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ke.min())?Cn.exists(!1):Cn.updateTime(t):Cn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ke.min()))throw new fe(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cn.updateTime(t)}return Cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Pj{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.za=r.maxAttempts,this.Ho=new Dx(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){var e=this;this.Ho.Qo(k(function*(){const t=new Rj(e.datastore),r=e.Ha(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ja(a)}))}).catch(i=>{e.Ja(i)})}))}Ha(e){try{const t=this.updateFunction(e);return!LE(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Jk(t)}return!1}}class Mj{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=Y1.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=k(function*(p){pe("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return k(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(k(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Xg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function _0(n,e){return wO.apply(this,arguments)}function wO(){return wO=k(function*(n,e){n.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=k(function*(a){r.isEqual(a)||(yield QF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),wO.apply(this,arguments)}function TO(n,e){return CO.apply(this,arguments)}function CO(){return CO=k(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function DO(n){return bO.apply(this,arguments)}(n);pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>fL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>fL(e.remoteStore,a)),n._onlineComponents=e}),CO.apply(this,arguments)}function bO(){return bO=k(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function SL(n){return"FirebaseError"===n.name?n.code===z.FAILED_PRECONDITION||n.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;xs("Error using user provided cache. Falling back to memory cache: "+t),yield _0(n,new g0)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),yield _0(n,new g0);return n._offlineComponents}),bO.apply(this,arguments)}function y0(n){return AO.apply(this,arguments)}function AO(){return AO=k(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield TO(n,n._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),yield TO(n,new rm))),n._onlineComponents}),AO.apply(this,arguments)}function RO(){return RO=k(function*(n){const e=yield y0(n),t=e.eventManager;return t.onListen=cj.bind(null,e.syncEngine),t.onUnlisten=lj.bind(null,e.syncEngine),t}),RO.apply(this,arguments)}function xL(n,e,t={}){const r=new Ar;return n.asyncQueue.enqueueAndForget(k(function*(){return function(a,c,p,g,y){const I=new m0({next:x=>{c.enqueueAndForget(()=>function Wx(n,e){return Kx.apply(this,arguments)}(a,D));const L=x.docs.has(p);!L&&x.fromCache?y.reject(new fe(z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&g&&"server"===g.source?y.reject(new fe(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),D=new Qx(kg(p.path),I,{includeMetadataChanges:!0,Z_:!0});return function zx(n,e){return qx.apply(this,arguments)}(a,D)}(yield function sm(n){return RO.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function NL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const kL=new Map;function FL(n){if(!Oe.isDocumentKey(n))throw new fe(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function v0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ue()}function Mt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=v0(n);throw new fe(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class UL{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new fe(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fe(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $j(n,e,t,r){if(!0===e&&!0===r)throw new fe(z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=NL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new fe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hI{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fe(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UL(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new V2;switch(r.type){case"firstParty":return new $2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=kL.get(t);r&&(pe("ComponentProvider","Removing Datastore"),kL.delete(t),r.terminate())}(this),Promise.resolve()}}class ti{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ti(this.firestore,e,this._query)}}class er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Da extends ti{constructor(e,t,r){super(e,t,kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new Oe(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function ni(n,e,...t){if(n=Qt(n),1===arguments.length&&(e=Y1.V()),function PO(n,e,t){if(!t)throw new fe(z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("doc","path",e),n instanceof hI){const r=kt.fromString(e,...t);return FL(r),new er(n,null,new Oe(r))}{if(!(n instanceof er||n instanceof Da))throw new fe(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return FL(r),new er(n.firestore,n instanceof Da?n.converter:null,new Oe(r))}}class Gj{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new Dx(this,"async_queue_retry"),this.ou=()=>{const t=h0();t&&pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Ho.$o()};const e=h0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=h0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const t=new Ar;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return k(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(t){if(!Xc(t))throw t;pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const t=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,Jn("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=t,t}enqueueAfterDelay(e,t,r){this._u(),this.su.indexOf(e)>-1&&(t=0);const i=Gx.createAndSchedule(this,e,t,r,a=>this.cu(a));return this.tu.push(i),i}_u(){this.nu&&Ue()}verifyOperationInProgress(){}lu(){var e=this;return k(function*(){let t;do{t=e.Za,yield t}while(t!==e.Za)})()}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}class dn extends hI{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Gj,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jL(this),this._firestoreClient.terminate()}}function tr(n){return n._firestoreClient||jL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jL(n){var e,t,r;const i=n._freezeSettings(),a=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new yU(n._databaseId,g,n._persistenceKey,(I=i).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,NL(I.experimentalLongPollingOptions),I.useFetchStreams));var g,I;n._firestoreClient=new Mj(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Sh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sh(Sr.fromBase64String(e))}catch(t){throw new fe(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sh(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new fe(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xO{constructor(e){this._methodName=e}}class OO{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}const Kj=/^__.*__$/;class Yj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bg(e,this.data,t,this.fieldTransforms)}}class GL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class E0{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.du(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new E0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return T0(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(zL(this.Tu)&&Kj.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class Qj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cI(e)}wu(e,t,r,i=!1){return new E0({Tu:e,methodName:t,yu:r,path:Hn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ph(n){const e=n._freezeSettings(),t=cI(n._databaseId);return new Qj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function I0(n,e,t,r,i,a={}){const c=n.wu(a.merge||a.mergeFields?2:0,e,t,i);LO("Data must be an object, but it was:",c,r);const p=KL(r,c);let g,y;if(a.merge)g=new cs(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const I=[];for(const D of a.mergeFields){const x=gI(e,D,t);if(!c.contains(x))throw new fe(z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);QL(I,x)||I.push(x)}g=new cs(I),y=c.fieldTransforms.filter(D=>g.covers(D.field))}else g=null,y=c.fieldTransforms;return new Yj(new ei(p),g,y)}class pI extends xO{_toFieldTransform(e){if(2!==e.Tu)throw e.gu(1===e.Tu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pI}}function kO(n,e,t,r){const i=n.wu(1,e,t);LO("Data must be an object, but it was:",i,r);const a=[],c=ei.empty();el(r,(g,y)=>{const I=w0(e,g,t);y=Qt(y);const D=i.mu(I);if(y instanceof pI)a.push(I);else{const x=Mh(y,D);null!=x&&(a.push(I),c.set(I,x))}});const p=new cs(a);return new GL(c,p,i.fieldTransforms)}function FO(n,e,t,r,i,a){const c=n.wu(1,e,t),p=[gI(e,r,t)],g=[i];if(a.length%2!=0)throw new fe(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)p.push(gI(e,a[x])),g.push(a[x+1]);const y=[],I=ei.empty();for(let x=p.length-1;x>=0;--x)if(!QL(y,p[x])){const L=p[x];let Z=g[x];Z=Qt(Z);const J=c.mu(L);if(Z instanceof pI)y.push(L);else{const re=Mh(Z,J);null!=re&&(y.push(L),I.set(L,re))}}const D=new cs(y);return new GL(I,D,c.fieldTransforms)}function Mh(n,e){if(YL(n=Qt(n)))return LO("Unsupported field value:",e,n),KL(n,e);if(n instanceof xO)return function(r,i){if(!zL(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ru&&4!==e.Tu)throw e.gu("Nested arrays are not supported");return function(r,i){const a=[];let c=0;for(const p of r){let g=Mh(p,i.fu(c));null==g&&(g={nullValue:"NULL_VALUE"}),a.push(g),c++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if(null===(r=Qt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return jk(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const a=On.fromDate(r);return{timestampValue:$g(i.serializer,a)}}if(r instanceof On){const a=new On(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$g(i.serializer,a)}}if(r instanceof OO)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sh)return{bytesValue:uF(i.serializer,r._byteString)};if(r instanceof er){const a=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw i.gu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:XM(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${v0(r)}`)}(n,e)}function KL(n,e){const t={};return ck(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):el(n,(r,i)=>{const a=Mh(i,e.Au(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function YL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof On||n instanceof OO||n instanceof Sh||n instanceof er||n instanceof xO)}function LO(n,e,t){if(!YL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=v0(t);throw e.gu("an object"===r?n+" a custom object":n+" "+r)}var i}function gI(n,e,t){if((e=Qt(e))instanceof Rh)return e._internalPath;if("string"==typeof e)return w0(n,e);throw T0("Field path arguments must be of type string or ",n,!1,void 0,t)}const e$=new RegExp("[~\\*/\\[\\]]");function w0(n,e,t){if(e.search(e$)>=0)throw T0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rh(...e.split("."))._internalPath}catch{throw T0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function T0(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(a||c)&&(g+=" (found",a&&(g+=` in field ${r}`),c&&(g+=` in document ${i}`),g+=")"),new fe(z.INVALID_ARGUMENT,p+n+g)}function QL(n,e){return n.some(t=>t.isEqual(e))}class mI{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new t$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(C0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class t$ extends mI{data(){return super.data()}}function C0(n,e){return"string"==typeof e?w0(n,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}class iV{convertValue(e,t="none"){switch(rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return el(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new OO(Gn(e.latitude),Gn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Vb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(UE(e));default:return null}}convertTimestamp(e){const t=tl(e);return new On(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kt.fromString(e);We(yF(r));const i=new mh(r.get(1),r.get(3)),a=new Oe(r.popFirst(5));return i.isEqual(t)||Jn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function S0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class r$ extends iV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}class xh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class am extends mI{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new R0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(C0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class R0 extends am{data(e={}){return super.data(e)}}function ks(n){n=Mt(n,er);const e=Mt(n.firestore,dn);return xL(tr(e),n._key).then(t=>function BO(n,e,t){const r=t.docs.get(e._key),i=new hl(n);return new am(n,i,e._key,r,new xh(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class hl extends iV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function UO(n,e,t){n=Mt(n,er);const r=Mt(n.firestore,dn),i=S0(n.converter,e,t);return yI(r,[I0(Ph(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Cn.none())])}function sV(n){return yI(Mt(n.firestore,dn),[new jg(n._key,Cn.none())])}function yI(n,e){return function(r,i){const a=new Ar;return r.asyncQueue.enqueueAndForget(k(function*(){return function dj(n,e,t){return tO.apply(this,arguments)}(yield function SO(n){return y0(n).then(e=>e.syncEngine)}(r),i,a)})),a.promise}(tr(n),e)}const g$={maxAttempts:5};function fl(n,e){if((n=Qt(n)).firestore!==e)throw new fe(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class _$ extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Ph(t)}get(t){const r=fl(t,this._firestore),i=new r$(this._firestore);return this._transaction.lookup([r._key]).then(a=>{if(!a||1!==a.length)return Ue();const c=a[0];if(c.isFoundDocument())return new mI(this._firestore,i,c.key,c,r.converter);if(c.isNoDocument())return new mI(this._firestore,i,r._key,null,r.converter);throw Ue()})}set(t,r,i){const a=fl(t,this._firestore),c=S0(a.converter,r,i),p=I0(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,i);return this._transaction.set(a._key,p),this}update(t,r,i,...a){const c=fl(t,this._firestore);let p;return p="string"==typeof(r=Qt(r))||r instanceof Rh?FO(this._dataReader,"Transaction.update",c._key,r,i,a):kO(this._dataReader,"Transaction.update",c._key,r),this._transaction.update(c._key,p),this}delete(t){const r=fl(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=fl(e,this._firestore),r=new hl(this._firestore);return super.get(e).then(i=>new am(this._firestore,r,t._key,i._document,new xh(!1,!1),t.converter))}}!function(e,t=!0){bg=Wa,pi(new xr("firestore",(r,{instanceIdentifier:i,options:a})=>{const c=r.getProvider("app").getImmediate(),p=new dn(new B2(r.getProvider("auth-internal")),new H2(r.getProvider("app-check-internal")),function(y,I){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(y.options.projectId,I)}(c,i),c);return a=Object.assign({useFetchStreams:t},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),gi(q1,"4.2.0",e),gi(q1,"4.2.0","esm2017")}();const cV=f_({apiKey:"AIzaSyADljtJJVmWrxoQru7Z0K31BBcoAhC_t2M",authDomain:"hacked23-24.firebaseapp.com",projectId:"hacked23-24",storageBucket:"hacked23-24.appspot.com",messagingSenderId:"762917826898",appId:"1:762917826898:web:2e61a3302af9834f530a8b",measurementId:"G-BCYK66FZ62"}),lV=(function Ff(n=Ka()){const e=Fi(n=Qt(n),Mf);e.isInitialized()?e.getImmediate():function CT(n,e={}){const t=Fi(n,Mf);if(t.isInitialized()){const i=t.getImmediate();if(Zo(e,t.getOptions()))return i;throw Wr.create("already-initialized")}t.initialize({options:e})}(n)}(cV),new _R),yn=function Iv(n=Ka()){const e=Fi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function qf(n,e){const t=Fi(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Zo(t.getOptions(),e??{}))return i;Nr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:_P,persistence:[HR,yC,vC]}),r=tf("authTokenSyncURL");if(r){const a=M1(r);(function qy(n,e,t){Qt(n).beforeAuthStateChanged(e,t)})(t,a,()=>a(t.currentUser)),function mC(n,e,t,r){Qt(n).onIdTokenChanged(e,t,r)}(t,c=>a(c))}const i=ow("auth");return i&&function lR(n,e,t){const r=$n(n);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,a=Wf(e),{host:c,port:p}=function dR(n){const e=Wf(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Ss(r.substr(a.length+1))}}{const[a,c]=r.split(":");return{host:a,port:Ss(c)}}}(e);r.config.emulator={url:`${a}//${c}${null===p?"":`:${p}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:p,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Td(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(),dV=function Xv(n=Ka()){return function BP(){return Jv.apply(this,arguments)}().then(e=>{if(!e)throw Mn.create("unsupported-browser")},e=>{throw Mn.create("indexed-db-unsupported")}),Fi(Qt(n),"messaging").getImmediate()}(cV),ri=function qj(n,e){const r="string"==typeof n?n:e||"(default)",i=Fi("object"==typeof n?n:Ka(),"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(n=>{const e=ow("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();a&&function Hj(n,e,t,r={}){var i;const a=(n=Mt(n,hI))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==c&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),r.mockUserToken){let p,g;if("string"==typeof r.mockUserToken)p=r.mockUserToken,g=Fr.MOCK_USER;else{p=function yN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xh(JSON.stringify({alg:"none",type:"JWT"})),Xh(JSON.stringify(c)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new fe(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Fr(y)}n._authCredentials=new U2(new W1(p,g))}}(i,...a)}return i}();function hV(n){return new Promise(e=>setTimeout(e,n))}function E$(){return $O.apply(this,arguments)}function $O(){return $O=k(function*(){try{const e=(yield HC(yn,lV)).user;console.log("Logged in user:",e);const t=ni(ri,"users",e.uid);yield hV(2500);const r=yield ks(t);!0!==r.get("registrationCompleted")&&(console.log(r.get("registrationCompleted")),alert("Per favore, completare la registrazione prima di accedere."),yield sV(t),yield function Rs(n){return ji.apply(this,arguments)}(e))}catch(n){console.error("Error logging in:",n)}}),$O.apply(this,arguments)}function HO(){return HO=k(function*(){try{const e=(yield HC(yn,lV)).user;console.log("Logged in user:",e);const t=ni(ri,"users",e.uid);yield hV(2500);const r=yield ks(t);if(!0!==r.get("registrationCompleted")){console.log(r.get("registrationCompleted"));const i=ni(ri,"metadata","student_count");yield function y$(n,e,t){n=Mt(n,dn);const r=Object.assign(Object.assign({},g$),t);return function(a){if(a.maxAttempts<1)throw new fe(z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,c,p){const g=new Ar;return a.asyncQueue.enqueueAndForget(k(function*(){const y=yield function ML(n){return y0(n).then(e=>e.datastore)}(a);new Pj(a.asyncQueue,y,p,c,g).run()})),g.promise}(tr(n),i=>e(new _$(n,i)),r)}(ri,function(){var a=k(function*(c){const p=yield c.get(i);if(!p.exists())throw"Document does not exist!";const g=p.data().count+1;c.update(i,{count:g})});return function(c){return a.apply(this,arguments)}}())}}catch(n){console.error("Error logging in:",n)}}),HO.apply(this,arguments)}function fV(){return GO.apply(this,arguments)}function GO(){return GO=k(function*(){try{yield function oo(n){return Qt(n).signOut()}(yn),console.log("Logged out successfully")}catch(n){console.error("Error logging out:",n)}}),GO.apply(this,arguments)}function zO(){return zO=k(function*(){try{"granted"===(yield Notification.requestPermission())&&function L1(n,e){return jD.apply(this,arguments)}(dV,{vapidKey:"BKOIvinydaKL00iJbhKrJNOQVuqq6lYM5jC8-1oyiI4OVLdBsB7X82XG_dSkvZmDD0tp-k2owyuE4_TUjaRmKo8"}).then(function(){var e=k(function*(t){if(t){console.log("User token:",t);const r=yn.currentUser;if(r){const i=ni(ri,"users",r.uid);yield UO(i,{notificationToken:t},{merge:!0})}else console.warn("Utente non autenticato. Non \xe8 possibile salvare il token.")}else console.log("No registration token available. Request permission to generate one.")});return function(t){return e.apply(this,arguments)}}()).catch(e=>{console.log("An error occurred while retrieving token. ",e)})}catch(n){console.error("Errore durante la richiesta del permesso:",n)}}),zO.apply(this,arguments)}function pV(){return qO.apply(this,arguments)}function qO(){return qO=k(function*(){try{const n=yn.currentUser;if(n){const t=yield(yield fetch("https://us-central1-hacked23-24.cloudfunctions.net/sendNotification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:n.uid})})).json();console.log(t)}else console.warn("Utente non autenticato.")}catch(n){console.error("Errore durante l'invio della notifica:",n)}}),qO.apply(this,arguments)}function T$(){return WO.apply(this,arguments)}function WO(){return WO=k(function*(){try{const n=yn.currentUser,e=3e3;if(n){const r=yield(yield fetch("https://us-central1-hacked23-24.cloudfunctions.net/sendNotificationDelayed",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:n.uid,delay:e})})).json();console.log(r),console.log("bg data")}else console.warn("Utente non autenticato.")}catch(n){console.error("Errore durante l'invio della notifica:",n)}}),WO.apply(this,arguments)}!function Gd(n,e){(function BD(n,e){if(!navigator)throw Mn.create("only-available-in-window");n.onMessageHandler=e})(n=Qt(n),e)}(dV,n=>{console.log("Notifica da onMessage:",n),n.notification?"granted"===Notification.permission?new Notification(n.notification.title||"Titolo predefinito",{body:n.notification.body||"Corpo predefinito"}):console.warn("Permesso per le notifiche non concesso."):console.warn("Notifica senza contenuto.")});const C$="https://random-user-by-api-ninjas.p.rapidapi.com/v1/randomuser",D$={method:"GET",headers:{"X-RapidAPI-Key":"34f54b7ca9mshae462c74aeccbc2p12b2d4jsncf73428f9321","X-RapidAPI-Host":"random-user-by-api-ninjas.p.rapidapi.com"}};function gV(){return YO.apply(this,arguments)}function YO(){return(YO=k(function*(){const t=(yield(yield fetch(C$,D$)).json()).username;return console.log(t),t})).apply(this,arguments)}let Ru=(()=>{class n{constructor(){this.userSubject=new Nn.X(null),this.user$=this.userSubject.asObservable(),function so(n,e,t,r){Qt(n).onAuthStateChanged(e,t,r)}(yn,t=>{console.log("User: ",t),this.userSubject.next(t||null)})}isLoggedIn(){return!!this.userSubject.value}getUserUid(){return this.userSubject.value?.uid||""}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fs=N(95);const mV=function(){return["/user"]};function b$(n,e){1&n&&(h.TgZ(0,"a",8),h._uU(1,"Profile"),h.qZA()),2&n&&h.Q6J("routerLink",h.DdM(1,mV))}const A$=function(){return["/auth"]};function S$(n,e){1&n&&(h.TgZ(0,"a",14)(1,"strong"),h._uU(2,"Login"),h.qZA()()),2&n&&h.Q6J("routerLink",h.DdM(1,A$))}function R$(n,e){1&n&&(h.TgZ(0,"a",14)(1,"strong"),h._uU(2,"Dashboard"),h.qZA()()),2&n&&h.Q6J("routerLink",h.DdM(1,mV))}const P$=function(){return["/trophies"]},M$=function(){return["/exercises"]};let cm=(()=>{class n{constructor(t){this.authService=t,this.isMenuActive=!1}toggleMenu(){this.isMenuActive=!this.isMenuActive}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Ru))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:22,vars:11,consts:[["role","navigation","aria-label","main navigation",1,"navbar"],[1,"container"],[1,"navbar-brand"],["href","/",1,"navbar-item"],["id","test","role","button","aria-label","menu","aria-expanded","false",1,"navbar-burger",3,"click"],["aria-hidden","true"],["id","navbarBasicExample",1,"navbar-menu"],[1,"navbar-start"],[1,"navbar-item",3,"routerLink"],["class","navbar-item",3,"routerLink",4,"ngIf"],[1,"navbar-end"],[1,"navbar-item"],[1,"buttons"],["class","button is-primary",3,"routerLink",4,"ngIf"],[1,"button","is-primary",3,"routerLink"]],template:function(r,i){1&r&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"strong"),h._uU(5,"HackEd"),h.qZA()(),h.TgZ(6,"a",4),h.NdJ("click",function(){return i.toggleMenu()}),h._UZ(7,"span",5)(8,"span",5)(9,"span",5),h.qZA()(),h.TgZ(10,"div",6)(11,"div",7)(12,"a",8),h._uU(13,"Trophies"),h.qZA(),h.YNc(14,b$,2,2,"a",9),h.TgZ(15,"a",8),h._uU(16,"Exercises"),h.qZA()(),h.TgZ(17,"div",10)(18,"div",11)(19,"div",12),h.YNc(20,S$,3,2,"a",13),h.YNc(21,R$,3,2,"a",13),h.qZA()()()()()()),2&r&&(h.xp6(6),h.ekj("is-active",i.isMenuActive),h.xp6(4),h.ekj("is-active",i.isMenuActive),h.xp6(2),h.Q6J("routerLink",h.DdM(9,P$)),h.xp6(2),h.Q6J("ngIf",!i.authService.isLoggedIn()),h.xp6(1),h.Q6J("routerLink",h.DdM(10,M$)),h.xp6(5),h.Q6J("ngIf",!i.authService.isLoggedIn()),h.xp6(1),h.Q6J("ngIf",i.authService.isLoggedIn()))},dependencies:[j.O5,Bm]})}return n})();function x$(n,e){if(1&n&&(h.TgZ(0,"option",16),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.Q6J("value",t),h.xp6(1),h.Oqu(t)}}function O$(n,e){if(1&n&&(h.TgZ(0,"p",19),h._uU(1,"Your username: "),h.TgZ(2,"strong"),h._uU(3),h.qZA()()),2&n){const t=h.oxw(3);h.xp6(3),h.Oqu(t.username)}}function N$(n,e){if(1&n&&(h.TgZ(0,"p"),h._uU(1,"Your clan: "),h.TgZ(2,"strong"),h._uU(3),h.qZA()()),2&n){const t=h.oxw(3);h.xp6(3),h.Oqu(t.selectedClan)}}function k$(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"h2",5),h._uU(2,"Your Random Username"),h.qZA(),h.TgZ(3,"button",17),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(2);return h.KtG(i.generateRandomUsername())}),h._uU(4,"Generate Random Username"),h.qZA(),h.YNc(5,O$,4,1,"p",18),h.YNc(6,N$,4,1,"p",12),h.qZA()}if(2&n){const t=h.oxw(2);h.xp6(5),h.Q6J("ngIf",t.username),h.xp6(1),h.Q6J("ngIf",t.username)}}function F$(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",20)(1,"h2",5),h._uU(2,"Ready to Join HackEd?"),h.qZA(),h.TgZ(3,"button",21),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(2);return h.KtG(i.registerProcedure())}),h._uU(4,"Register with Google"),h.qZA()()}if(2&n){const t=h.oxw(2);h.xp6(3),h.Q6J("disabled",!t.username)}}function L$(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",1)(1,"h1",2),h._uU(2,"Welcome to HackEd"),h.qZA(),h.TgZ(3,"div",3)(4,"div",4)(5,"h2",5),h._uU(6,"Register"),h.qZA(),h.TgZ(7,"div",6)(8,"label",7),h._uU(9,"Choose Your Clan"),h.qZA(),h.TgZ(10,"div",8)(11,"div",9)(12,"select",10),h.NdJ("ngModelChange",function(i){h.CHM(t);const a=h.oxw();return h.KtG(a.selectedClan=i)})("change",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onClanSelected())}),h.YNc(13,x$,2,2,"option",11),h.qZA()()()(),h.YNc(14,k$,7,2,"div",12),h.YNc(15,F$,5,1,"div",13),h.qZA(),h.TgZ(16,"div",14)(17,"h2",5),h._uU(18,"Coming Back?"),h.qZA(),h.TgZ(19,"button",15),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.loginWithGoogleDev())}),h._uU(20,"Login"),h.qZA()()()()}if(2&n){const t=h.oxw();h.xp6(12),h.Q6J("ngModel",t.selectedClan),h.xp6(1),h.Q6J("ngForOf",t.clans),h.xp6(1),h.Q6J("ngIf",t.selectedClan),h.xp6(1),h.Q6J("ngIf",t.selectedClan)}}let V$=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.getRandomUsername=gV,this.loginWithGoogleDev=E$,this.isLogged=!1,this.username="",this.clans=["Binary Battlers","Crypto Crusaders","Network Nomads","System Sentinels"],this.selectedClan="",this.clanSelected=!1}ngOnInit(){this.authService.user$.subscribe(t=>{t?(this.isLogged=!0,this.router.navigate(["/user"])):this.isLogged=!1})}onClanSelected(){this.selectedClan&&(this.clanSelected=!0)}generateRandomUsername(){var t=this;return k(function*(){t.username=yield gV(),console.log(t.username)})()}registerProcedure(){var t=this;return k(function*(){yield function I$(){return HO.apply(this,arguments)}(),console.log("Chiamata a usernameToServer() iniziata...");const r=t.username;if(console.log("Username ottenuto:",r),r)if(yn.currentUser){const i=yn.currentUser.uid,a=yn.currentUser.email,c=ni(ri,"users",i);console.log("Tentativo di scrittura nel database con UID:",i),yield UO(c,{email:a,username:r,registrationCompleted:!0,level:1,exercises_solved:0,clan:t.selectedClan,exp:0,solved_exercises:[],percentage:0},{merge:!0});const p=yield ks(c);console.log(p.data()),console.log("Scrittura nel database completata.")}else console.error("No user uid found");else console.error("Errore nel generare un username casuale!")})()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Ru),h.Y36(zr))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-auth"]],decls:2,vars:1,consts:[["class","auth-container",4,"ngIf"],[1,"auth-container"],[1,"title","has-text-centered"],[1,"columns","is-centered","is-8"],[1,"column","has-border-right","pl-10","has-text-centered"],[1,"subtitle"],[1,"field"],[1,"label"],[1,"control"],[1,"select"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"column","pl-5","has-text-centered"],[1,"button","is-info",3,"click"],[3,"value"],[1,"button","is-primary",3,"click"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"mt-4"],[1,"button","is-success",3,"disabled","click"]],template:function(r,i){1&r&&(h._UZ(0,"app-navbar"),h.YNc(1,L$,21,4,"div",0)),2&r&&(h.xp6(1),h.Q6J("ngIf",!i.isLogged))},dependencies:[j.sg,j.O5,Fs.YN,Fs.Kr,Fs.EJ,Fs.JJ,Fs.On,cm],styles:[".has-border-right[_ngcontent-%COMP%]{border-right:1px solid #d5d5d5;padding-right:1.5rem;margin-right:1.5rem}"]})}return n})(),U$=(()=>{class n{constructor(t){this.auth=t}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Ru))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-home-content"]],decls:54,vars:0,consts:[[1,"hero","is-medium","is-primary"],[1,"hero-body"],[1,"container"],[1,"title"],[1,"subtitle"],[1,"section"],[1,"my-5"],[1,"columns"],[1,"column"],[1,"title","is-4"],[1,"container","has-text-centered"],["href","/auth",1,"button","is-medium","is-primary"],[1,"footer"],[1,"content","has-text-centered"]],template:function(r,i){1&r&&(h._UZ(0,"app-navbar"),h.TgZ(1,"body")(2,"section",0)(3,"div",1)(4,"div",2)(5,"h1",3),h._uU(6,"Welcome to HackEd!"),h.qZA(),h.TgZ(7,"h2",4),h._uU(8,"Your portal to learn and improve in cybersecurity."),h.qZA()()()(),h.TgZ(9,"section",5)(10,"div",2)(11,"h2",3),h._uU(12,"Challenges and Clans"),h.qZA(),h.TgZ(13,"p",6),h._uU(14," Take on practical cybersecurity challenges and join one of the 4 competing clans. Collaborate, compete, and reach the top! "),h.qZA(),h.TgZ(15,"div",7)(16,"div",8)(17,"h3",9),h._uU(18,"Binary Battlers"),h.qZA(),h.TgZ(19,"p"),h._uU(20," Heroes of the digital world, they translate reality into zeros and ones, protecting every bit and byte in the vast digital universe. "),h.qZA()(),h.TgZ(21,"div",8)(22,"h3",9),h._uU(23,"Crypto Crusaders"),h.qZA(),h.TgZ(24,"p"),h._uU(25," Guardians of the Cyberspace secrets, they hold ancient keys, deciphering riddles and keeping information safe. "),h.qZA()(),h.TgZ(26,"div",8)(27,"h3",9),h._uU(28,"Network Nomads"),h.qZA(),h.TgZ(29,"p"),h._uU(30," Internet explorers, they travel through the vast network, ensuring every packet reaches its destination. "),h.qZA()(),h.TgZ(31,"div",8)(32,"h3",9),h._uU(33,"System Sentinels"),h.qZA(),h.TgZ(34,"p"),h._uU(35," Protectors of operating systems, they watch over every process, guarding the digital essence from threats and intruders. "),h.qZA()()()()(),h.TgZ(36,"section",5)(37,"div",2)(38,"h2",3),h._uU(39,"Certificates and Trophies"),h.qZA(),h.TgZ(40,"p"),h._uU(41," Earn certificates for every completed challenge and proudly display your conquered trophies. Learn, compete, and become a master of cybersecurity. "),h.qZA()()(),h.TgZ(42,"section",5)(43,"div",10)(44,"h2",3),h._uU(45,"Ready to join?"),h.qZA(),h.TgZ(46,"p",6),h._uU(47," Sign up now and start your journey in cybersecurity. "),h.qZA(),h.TgZ(48,"a",11),h._uU(49,"Register"),h.qZA()()(),h.TgZ(50,"footer",12)(51,"div",13)(52,"p"),h._uU(53," \xa9 2023 HackEd. All rights reserved. "),h.qZA()()()())},dependencies:[cm]})}return n})();var B$=N(305);class M0{}class x0{}class ba{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ba?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ba;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ba?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(p=>-1===a.indexOf(p)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(a=>a.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class $${encodeKey(e){return _V(e)}encodeValue(e){return _V(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const G$=/%(\d[a-f0-9])/gi,z$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _V(n){return encodeURIComponent(n).replace(G$,(e,t)=>z$[t]??e)}function O0(n){return`${n}`}class pl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $$,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function H$(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,p]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],g=t.get(c)||[];g.push(p),t.set(c,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(O0):[O0(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new pl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(O0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(O0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class q${constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function yV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function vV(n){return typeof Blob<"u"&&n instanceof Blob}function EV(n){return typeof FormData<"u"&&n instanceof FormData}class vI{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function W$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new ba),this.context||(this.context=new q$),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+c}}else this.params=new pl,this.urlWithParams=t}serializeBody(){return null===this.body?null:yV(this.body)||vV(this.body)||EV(this.body)||function K$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||EV(this.body)?null:vV(this.body)?this.body.type||null:yV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,y=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((D,x)=>D.set(x,e.setHeaders[x]),g)),e.setParams&&(y=Object.keys(e.setParams).reduce((D,x)=>D.set(x,e.setParams[x]),y)),new vI(t,r,a,{params:y,headers:g,context:I,reportProgress:p,responseType:i,withCredentials:c})}}var lm=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(lm||{});class QO{constructor(e,t=200,r="OK"){this.headers=e.headers||new ba,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ZO extends QO{constructor(e={}){super(e),this.type=lm.ResponseHeader}clone(e={}){return new ZO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dm extends QO{constructor(e={}){super(e),this.type=lm.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new dm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class IV extends QO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function JO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let N0=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof vI)a=t;else{let g,y;g=i.headers instanceof ba?i.headers:new ba(i.headers),i.params&&(y=i.params instanceof pl?i.params:new pl({fromObject:i.params})),a=new vI(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:y,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=(0,je.of)(a).pipe(ys(g=>this.handler.handle(g)));if(t instanceof vI||"events"===i.observe)return c;const p=c.pipe(pn(g=>g instanceof dm));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe((0,ft.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return p.pipe((0,ft.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return p.pipe((0,ft.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return p.pipe((0,ft.U)(g=>g.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new pl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,JO(i,r))}post(t,r,i={}){return this.request("POST",t,JO(i,r))}put(t,r,i={}){return this.request("PUT",t,JO(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(M0))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function CV(n,e){return e(n)}function Q$(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const J$=new h.OlP(""),EI=new h.OlP(""),DV=new h.OlP("");function X$(){let n=null;return(e,t)=>{null===n&&(n=((0,h.f3M)(J$,{optional:!0})??[]).reduceRight(Q$,CV));const r=(0,h.f3M)(h.HDt),i=r.add();return n(e,t).pipe(po(()=>r.remove(i)))}}let bV=(()=>{class n extends M0{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,h.f3M)(h.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(EI),...this.injector.get(DV,[])]));this.chain=i.reduceRight((a,c)=>function Z$(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(a,c,this.injector),CV)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(po(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(x0),h.LFG(h.lqb))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const rH=/^\)\]\}',?\n/;let SV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new h.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,hn.D)(r.\u0275loadImpl()):(0,je.of)(null)).pipe((0,fn.w)(()=>new Ti.y(a=>{const c=r.build();if(c.open(t.method,t.urlWithParams),t.withCredentials&&(c.withCredentials=!0),t.headers.forEach((J,re)=>c.setRequestHeader(J,re.join(","))),t.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const J=t.detectContentTypeHeader();null!==J&&c.setRequestHeader("Content-Type",J)}if(t.responseType){const J=t.responseType.toLowerCase();c.responseType="json"!==J?J:"text"}const p=t.serializeBody();let g=null;const y=()=>{if(null!==g)return g;const J=c.statusText||"OK",re=new ba(c.getAllResponseHeaders()),_e=function iH(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(c)||t.url;return g=new ZO({headers:re,status:c.status,statusText:J,url:_e}),g},I=()=>{let{headers:J,status:re,statusText:_e,url:Fe}=y(),Ne=null;204!==re&&(Ne=typeof c.response>"u"?c.responseText:c.response),0===re&&(re=Ne?200:0);let Xe=re>=200&&re<300;if("json"===t.responseType&&"string"==typeof Ne){const yt=Ne;Ne=Ne.replace(rH,"");try{Ne=""!==Ne?JSON.parse(Ne):null}catch(lt){Ne=yt,Xe&&(Xe=!1,Ne={error:lt,text:Ne})}}Xe?(a.next(new dm({body:Ne,headers:J,status:re,statusText:_e,url:Fe||void 0})),a.complete()):a.error(new IV({error:Ne,headers:J,status:re,statusText:_e,url:Fe||void 0}))},D=J=>{const{url:re}=y(),_e=new IV({error:J,status:c.status||0,statusText:c.statusText||"Unknown Error",url:re||void 0});a.error(_e)};let x=!1;const L=J=>{x||(a.next(y()),x=!0);let re={type:lm.DownloadProgress,loaded:J.loaded};J.lengthComputable&&(re.total=J.total),"text"===t.responseType&&c.responseText&&(re.partialText=c.responseText),a.next(re)},Z=J=>{let re={type:lm.UploadProgress,loaded:J.loaded};J.lengthComputable&&(re.total=J.total),a.next(re)};return c.addEventListener("load",I),c.addEventListener("error",D),c.addEventListener("timeout",D),c.addEventListener("abort",D),t.reportProgress&&(c.addEventListener("progress",L),null!==p&&c.upload&&c.upload.addEventListener("progress",Z)),c.send(p),a.next({type:lm.Sent}),()=>{c.removeEventListener("error",D),c.removeEventListener("abort",D),c.removeEventListener("load",I),c.removeEventListener("timeout",D),t.reportProgress&&(c.removeEventListener("progress",L),null!==p&&c.upload&&c.upload.removeEventListener("progress",Z)),c.readyState!==c.DONE&&c.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(j.JF))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const XO=new h.OlP("XSRF_ENABLED"),RV=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),PV=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class MV{}let aH=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,j.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(j.K0),h.LFG(h.Lbi),h.LFG(RV))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function uH(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(XO)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(MV).getToken(),i=(0,h.f3M)(PV);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var gl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(gl||{});function cH(...n){const e=[N0,SV,bV,{provide:M0,useExisting:bV},{provide:x0,useExisting:SV},{provide:EI,useValue:uH,multi:!0},{provide:XO,useValue:!0},{provide:MV,useClass:aH}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const xV=new h.OlP("LEGACY_INTERCEPTOR_FN");function lH(){return function Oh(n,e){return{\u0275kind:n,\u0275providers:e}}(gl.LegacyInterceptors,[{provide:xV,useFactory:X$},{provide:EI,useExisting:xV,multi:!0}])}let dH=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[cH(lH())]})}return n})(),_H=(()=>{class n{constructor(t){this.http=t,this.API_ENDPOINT="https://brave-rabbit-annually.ngrok-free.app/api/compile"}handleCompile(t,r,i){var a=this;return k(function*(){const c={code:t,input:r,languageId:i},p={"ngrok-skip-browser-warning":"true"};try{const g=yield function j$(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const a=new B$.Hp({next:c=>{r(c),a.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new qn)}});n.subscribe(a)})}(a.http.post(a.API_ENDPOINT,c,{headers:p}));if(g&&g.output)return g.output;throw new Error("Output not found in the response")}catch(g){throw console.error("Error during compilation:",g),g}})()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(N0))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OV=(()=>{class n{constructor(){this.trophies=[{id:1,description:"Risolvi il primo esercizio",requirement:"hello-security",unlocked:!1,iconURL:"/assets/trophy.png"},{id:2,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"},{id:3,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"},{id:4,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"},{id:5,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"}]}isExerciseSolvedByUser(t,r){return k(function*(){try{const i=ni(ri,"users",t);return((yield ks(i)).get("solved_exercises")||[]).includes(r)}catch(i){return console.error("Error:",i),!1}})()}updateTrophiesForUser(t){var r=this;return k(function*(){for(const i of r.trophies)i.unlocked=yield r.isExerciseSolvedByUser(t,i.requirement)})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NV=N(2352),eN=N(3019);class yH extends ms.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const F0={setInterval(n,e,...t){const{delegate:r}=F0;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=F0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var vH=N(9039);const tN={now:()=>(tN.delegate||Date).now(),delegate:void 0};class II{constructor(e,t=II.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}II.now=tN.now;const kV=new class IH extends II{constructor(e,t=II.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class EH extends yH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,r=0){return F0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&F0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,vH.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),wH=kV;var TH=N(671);function FV(n=0,e,t=wH){let r=-1;return null!=e&&((0,TH.K)(e)?t=e:r=e),new Ti.y(i=>{let a=function CH(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}var DH=N(3997);class bH extends Ln.x{constructor(e=1/0,t=1/0,r=tN){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let p=0;for(let g=1;g<r.length&&r[g]<=c;g+=2)p=g;p&&r.splice(0,p+1)}}}var AH=N(3020);function LV(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,AH.B)({connector:()=>new bH(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}let Nh={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const UV=/[&<>"']/,RH=new RegExp(UV.source,"g"),BV=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,PH=new RegExp(BV.source,"g"),MH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jV=n=>MH[n];function Ei(n,e){if(e){if(UV.test(n))return n.replace(RH,jV)}else if(BV.test(n))return n.replace(PH,jV);return n}const xH=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function $V(n){return n.replace(xH,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const OH=/(^|[^\[])\^/g;function nn(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,i)=>(i=(i=i.source||i).replace(OH,"$1"),n=n.replace(r,i),t),getRegex:()=>new RegExp(n,e)};return t}const NH=/[^\w:]/g,kH=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function HV(n,e,t){if(n){let r;try{r=decodeURIComponent($V(t)).replace(NH,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!kH.test(t)&&(t=function UH(n,e){L0[" "+n]||(L0[" "+n]=FH.test(n)?n+"/":U0(n,"/",!0));const t=-1===(n=L0[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(LH,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(VH,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const L0={},FH=/^[^:]+:\/*[^/]*$/,LH=/^([^:]+:)[\s\S]*$/,VH=/^([^:]+:\/*[^/]*)[\s\S]*$/,V0={exec:function(){}};function GV(n,e){const r=n.replace(/\|/g,(a,c,p)=>{let g=!1,y=c;for(;--y>=0&&"\\"===p[y];)g=!g;return g?"|":" |"}).split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function U0(n,e,t){const r=n.length;if(0===r)return"";let i=0;for(;i<r;){const a=n.charAt(r-i-1);if(a!==e||t){if(a===e||!t)break;i++}else i++}return n.slice(0,r-i)}function zV(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function qV(n,e,t,r){const i=e.href,a=e.title?Ei(e.title):null,c=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const p={type:"link",raw:t,href:i,title:a,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,p}return{type:"image",raw:t,href:i,title:a,text:Ei(c)}}class nN{constructor(e){this.options=e||Nh}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:U0(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=function $H(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(i=>{const a=i.match(/^\s+/);if(null===a)return i;const[c]=a;return c.length>=r.length?i.slice(r.length):i}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const i=U0(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:a,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,i,a,c,p,g,y,I,D,x,L,Z,J=t[1].trim();const re=J.length>1,_e={type:"list",raw:"",ordered:re,start:re?+J.slice(0,-1):"",loose:!1,items:[]};J=re?`\\d{1,9}\\${J.slice(-1)}`:`\\${J}`,this.options.pedantic&&(J=re?J:"[*+-]");const Fe=new RegExp(`^( {0,3}${J})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(Z=!1,(t=Fe.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),I=t[2].split("\n",1)[0].replace(/^\t+/,Xe=>" ".repeat(3*Xe.length)),D=e.split("\n",1)[0],this.options.pedantic?(c=2,L=I.trimLeft()):(c=t[2].search(/[^ ]/),c=c>4?1:c,L=I.slice(c),c+=t[1].length),g=!1,!I&&/^ *$/.test(D)&&(r+=D+"\n",e=e.substring(D.length+1),Z=!0),!Z){const Xe=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),yt=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),lt=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),Zt=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;e&&(x=e.split("\n",1)[0],D=x,this.options.pedantic&&(D=D.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(lt.test(D)||Zt.test(D)||Xe.test(D)||yt.test(e)));){if(D.search(/[^ ]/)>=c||!D.trim())L+="\n"+D.slice(c);else{if(g||I.search(/[^ ]/)>=4||lt.test(I)||Zt.test(I)||yt.test(I))break;L+="\n"+D}!g&&!D.trim()&&(g=!0),r+=x+"\n",e=e.substring(x.length+1),I=D.slice(c)}}_e.loose||(y?_e.loose=!0:/\n *\n *$/.test(r)&&(y=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(L),i&&(a="[ ] "!==i[0],L=L.replace(/^\[[ xX]\] +/,""))),_e.items.push({type:"list_item",raw:r,task:!!i,checked:a,loose:!1,text:L}),_e.raw+=r}_e.items[_e.items.length-1].raw=r.trimRight(),_e.items[_e.items.length-1].text=L.trimRight(),_e.raw=_e.raw.trimRight();const Ne=_e.items.length;for(p=0;p<Ne;p++)if(this.lexer.state.top=!1,_e.items[p].tokens=this.lexer.blockTokens(_e.items[p].text,[]),!_e.loose){const Xe=_e.items[p].tokens.filter(lt=>"space"===lt.type),yt=Xe.length>0&&Xe.some(lt=>/\n.*\n/.test(lt.raw));_e.loose=yt}if(_e.loose)for(p=0;p<Ne;p++)_e.items[p].loose=!0;return _e}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):Ei(t[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:a}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:GV(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let a,c,p,g,i=r.align.length;for(a=0;a<i;a++)r.align[a]=/^ *-+: *$/.test(r.align[a])?"right":/^ *:-+: *$/.test(r.align[a])?"center":/^ *:-+ *$/.test(r.align[a])?"left":null;for(i=r.rows.length,a=0;a<i;a++)r.rows[a]=GV(r.rows[a],r.header.length).map(y=>({text:y}));for(i=r.header.length,c=0;c<i;c++)r.header[c].tokens=this.lexer.inline(r.header[c].text);for(i=r.rows.length,c=0;c<i;c++)for(g=r.rows[c],p=0;p<g.length;p++)g[p].tokens=this.lexer.inline(g[p].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ei(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ei(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const c=U0(r.slice(0,-1),"\\");if((r.length-c.length)%2==0)return}else{const c=function BH(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,i=0;for(;i<t;i++)if("\\"===n[i])i++;else if(n[i]===e[0])r++;else if(n[i]===e[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(c>-1){const g=(0===t[0].indexOf("!")?5:4)+t[1].length+c;t[2]=t[2].substring(0,c),t[0]=t[0].substring(0,g).trim(),t[3]=""}}let i=t[2],a="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);c&&(i=c[1],a=c[3])}else a=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(r)?i.slice(1):i.slice(1,-1)),qV(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return qV(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const a=i[1]||i[2]||"";if(!a||a&&(""===r||this.rules.inline.punctuation.exec(r))){const c=i[0].length-1;let p,g,y=c,I=0;const D="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(D.lastIndex=0,t=t.slice(-1*e.length+c);null!=(i=D.exec(t));){if(p=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!p)continue;if(g=p.length,i[3]||i[4]){y+=g;continue}if((i[5]||i[6])&&c%3&&!((c+g)%3)){I+=g;continue}if(y-=g,y>0)continue;g=Math.min(g,g+y+I);const x=e.slice(0,c+i.index+(i[0].length-p.length)+g);if(Math.min(c,g)%2){const Z=x.slice(1,-1);return{type:"em",raw:x,text:Z,tokens:this.lexer.inlineTokens(Z)}}const L=x.slice(2,-2);return{type:"strong",raw:x,text:L,tokens:this.lexer.inlineTokens(L)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const i=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return i&&a&&(r=r.substring(1,r.length-1)),r=Ei(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let i,a;return"@"===r[2]?(i=Ei(this.options.mangle?t(r[1]):r[1]),a="mailto:"+i):(i=Ei(r[1]),a=i),{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let i,a;if("@"===r[2])i=Ei(this.options.mangle?t(r[0]):r[0]),a="mailto:"+i;else{let c;do{c=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(c!==r[0]);i=Ei(r[0]),a="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let i;return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ei(r[0]):r[0]:Ei(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const nt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:V0,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};nt.def=nn(nt.def).replace("label",nt._label).replace("title",nt._title).getRegex(),nt.bullet=/(?:[*+-]|\d{1,9}[.)])/,nt.listItemStart=nn(/^( *)(bull) */).replace("bull",nt.bullet).getRegex(),nt.list=nn(nt.list).replace(/bull/g,nt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+nt.def.source+")").getRegex(),nt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",nt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,nt.html=nn(nt.html,"i").replace("comment",nt._comment).replace("tag",nt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),nt.paragraph=nn(nt._paragraph).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nt._tag).getRegex(),nt.blockquote=nn(nt.blockquote).replace("paragraph",nt.paragraph).getRegex(),nt.normal={...nt},nt.gfm={...nt.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},nt.gfm.table=nn(nt.gfm.table).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nt._tag).getRegex(),nt.gfm.paragraph=nn(nt._paragraph).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",nt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nt._tag).getRegex(),nt.pedantic={...nt.normal,html:nn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",nt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:V0,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:nn(nt.normal._paragraph).replace("hr",nt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",nt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const He={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:V0,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:V0,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function HH(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function WV(n){let t,r,e="";const i=n.length;for(t=0;t<i;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}He._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",He.punctuation=nn(He.punctuation).replace(/punctuation/g,He._punctuation).getRegex(),He.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,He.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,He._comment=nn(nt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),He.emStrong.lDelim=nn(He.emStrong.lDelim).replace(/punct/g,He._punctuation).getRegex(),He.emStrong.rDelimAst=nn(He.emStrong.rDelimAst,"g").replace(/punct/g,He._punctuation).getRegex(),He.emStrong.rDelimUnd=nn(He.emStrong.rDelimUnd,"g").replace(/punct/g,He._punctuation).getRegex(),He._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,He._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,He._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,He.autolink=nn(He.autolink).replace("scheme",He._scheme).replace("email",He._email).getRegex(),He._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,He.tag=nn(He.tag).replace("comment",He._comment).replace("attribute",He._attribute).getRegex(),He._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,He._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,He._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,He.link=nn(He.link).replace("label",He._label).replace("href",He._href).replace("title",He._title).getRegex(),He.reflink=nn(He.reflink).replace("label",He._label).replace("ref",nt._label).getRegex(),He.nolink=nn(He.nolink).replace("ref",nt._label).getRegex(),He.reflinkSearch=nn(He.reflinkSearch,"g").replace("reflink",He.reflink).replace("nolink",He.nolink).getRegex(),He.normal={...He},He.pedantic={...He.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:nn(/^!?\[(label)\]\((.*?)\)/).replace("label",He._label).getRegex(),reflink:nn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",He._label).getRegex()},He.gfm={...He.normal,escape:nn(He.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},He.gfm.url=nn(He.gfm.url,"i").replace("email",He.gfm._extended_email).getRegex(),He.breaks={...He.gfm,br:nn(He.br).replace("{2,}","*").getRegex(),text:nn(He.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ml{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Nh,this.options.tokenizer=this.options.tokenizer||new nN,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:nt.normal,inline:He.normal};this.options.pedantic?(t.block=nt.pedantic,t.inline=He.pedantic):this.options.gfm&&(t.block=nt.gfm,t.inline=this.options.breaks?He.breaks:He.gfm),this.tokenizer.rules=t}static get rules(){return{block:nt,inline:He}}static lex(e,t){return new ml(t).lex(e)}static lexInline(e,t){return new ml(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,i,a,c;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(p,g,y)=>g+"    ".repeat(y.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(p=>!!(r=p.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let p=1/0;const g=e.slice(1);let y;this.options.extensions.startBlock.forEach(function(I){y=I.call({lexer:this},g),"number"==typeof y&&y>=0&&(p=Math.min(p,y))}),p<1/0&&p>=0&&(a=e.substring(0,p+1))}if(this.state.top&&(r=this.tokenizer.paragraph(a))){i=t[t.length-1],c&&"paragraph"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),c=a.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}throw new Error(p)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,i,a,p,g,y,c=e;if(this.tokens.links){const I=Object.keys(this.tokens.links);if(I.length>0)for(;null!=(p=this.tokenizer.rules.inline.reflinkSearch.exec(c));)I.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,p.index)+"["+zV("a",p[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(p=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,p.index)+"["+zV("a",p[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(p=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,p.index+p[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(g||(y=""),g=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(I=>!!(r=I.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,c,y)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,WV)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,WV))){e=e.substring(r.raw.length),t.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let I=1/0;const D=e.slice(1);let x;this.options.extensions.startInline.forEach(function(L){x=L.call({lexer:this},D),"number"==typeof x&&x>=0&&(I=Math.min(I,x))}),I<1/0&&I>=0&&(a=e.substring(0,I+1))}if(r=this.tokenizer.inlineText(a,HH)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(y=r.raw.slice(-1)),g=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(e){const I="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(I);break}throw new Error(I)}}return t}}class wI{constructor(e){this.options=e||Nh}code(e,t,r){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,i);null!=a&&a!==e&&(r=!0,e=a)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+Ei(i)+'">'+(r?e:Ei(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:Ei(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,i){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+i.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const i=t?"ol":"ul";return"<"+i+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=HV(this.options.sanitize,this.options.baseUrl,e)))return r;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>",i}image(e,t,r){if(null===(e=HV(this.options.sanitize,this.options.baseUrl,e)))return r;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class KV{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class YV{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do{i++,r=e+"-"+i}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=i,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class _l{constructor(e){this.options=e||Nh,this.options.renderer=this.options.renderer||new wI,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new KV,this.slugger=new YV}static parse(e,t){return new _l(t).parse(e)}static parseInline(e,t){return new _l(t).parseInline(e)}parse(e,t=!0){let i,a,c,p,g,y,I,D,x,L,Z,J,re,_e,Fe,Ne,Xe,yt,lt,r="";const Zt=e.length;for(i=0;i<Zt;i++)if(L=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[L.type]&&(lt=this.options.extensions.renderers[L.type].call({parser:this},L),!1!==lt||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(L.type)))r+=lt||"";else switch(L.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(L.tokens),L.depth,$V(this.parseInline(L.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(L.text,L.lang,L.escaped);continue;case"table":for(D="",I="",p=L.header.length,a=0;a<p;a++)I+=this.renderer.tablecell(this.parseInline(L.header[a].tokens),{header:!0,align:L.align[a]});for(D+=this.renderer.tablerow(I),x="",p=L.rows.length,a=0;a<p;a++){for(y=L.rows[a],I="",g=y.length,c=0;c<g;c++)I+=this.renderer.tablecell(this.parseInline(y[c].tokens),{header:!1,align:L.align[c]});x+=this.renderer.tablerow(I)}r+=this.renderer.table(D,x);continue;case"blockquote":x=this.parse(L.tokens),r+=this.renderer.blockquote(x);continue;case"list":for(Z=L.ordered,J=L.start,re=L.loose,p=L.items.length,x="",a=0;a<p;a++)Fe=L.items[a],Ne=Fe.checked,Xe=Fe.task,_e="",Fe.task&&(yt=this.renderer.checkbox(Ne),re?Fe.tokens.length>0&&"paragraph"===Fe.tokens[0].type?(Fe.tokens[0].text=yt+" "+Fe.tokens[0].text,Fe.tokens[0].tokens&&Fe.tokens[0].tokens.length>0&&"text"===Fe.tokens[0].tokens[0].type&&(Fe.tokens[0].tokens[0].text=yt+" "+Fe.tokens[0].tokens[0].text)):Fe.tokens.unshift({type:"text",text:yt}):_e+=yt),_e+=this.parse(Fe.tokens,re),x+=this.renderer.listitem(_e,Xe,Ne);r+=this.renderer.list(x,Z,J);continue;case"html":r+=this.renderer.html(L.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(L.tokens));continue;case"text":for(x=L.tokens?this.parseInline(L.tokens):L.text;i+1<Zt&&"text"===e[i+1].type;)L=e[++i],x+="\n"+(L.tokens?this.parseInline(L.tokens):L.text);r+=t?this.renderer.paragraph(x):x;continue;default:{const Ii='Token with "'+L.type+'" type was not found.';if(this.options.silent)return void console.error(Ii);throw new Error(Ii)}}return r}parseInline(e,t){t=t||this.renderer;let i,a,c,r="";const p=e.length;for(i=0;i<p;i++)if(a=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(c=this.options.extensions.renderers[a.type].call({parser:this},a),!1!==c||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)))r+=c||"";else switch(a.type){case"escape":case"text":r+=t.text(a.text);break;case"html":r+=t.html(a.text);break;case"link":r+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break;case"image":r+=t.image(a.href,a.title,a.text);break;case"strong":r+=t.strong(this.parseInline(a.tokens,t));break;case"em":r+=t.em(this.parseInline(a.tokens,t));break;case"codespan":r+=t.codespan(a.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(a.tokens,t));break;default:{const g='Token with "'+a.type+'" type was not found.';if(this.options.silent)return void console.error(g);throw new Error(g)}}return r}}class rN{constructor(e){this.options=e||Nh}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function QV(n,e){return(t,r,i)=>{"function"==typeof r&&(i=r,r=null);const a={...r},c=function GH(n,e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",n){const i="<p>An error occurred:</p><pre>"+Ei(r.message+"",!0)+"</pre>";return e?Promise.resolve(i):t?void t(null,i):i}if(e)return Promise.reject(r);if(!t)throw r;t(r)}}((r={...rt.defaults,...a}).silent,r.async,i);if(typeof t>"u"||null===t)return c(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(function jH(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(r),r.hooks&&(r.hooks.options=r),i){const p=r.highlight;let g;try{r.hooks&&(t=r.hooks.preprocess(t)),g=n(t,r)}catch(D){return c(D)}const y=function(D){let x;if(!D)try{r.walkTokens&&rt.walkTokens(g,r.walkTokens),x=e(g,r),r.hooks&&(x=r.hooks.postprocess(x))}catch(L){D=L}return r.highlight=p,D?c(D):i(null,x)};if(!p||p.length<3||(delete r.highlight,!g.length))return y();let I=0;return rt.walkTokens(g,function(D){"code"===D.type&&(I++,setTimeout(()=>{p(D.text,D.lang,function(x,L){if(x)return y(x);null!=L&&L!==D.text&&(D.text=L,D.escaped=!0),I--,0===I&&y()})},0))}),void(0===I&&y())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(t):t).then(p=>n(p,r)).then(p=>r.walkTokens?Promise.all(rt.walkTokens(p,r.walkTokens)).then(()=>p):p).then(p=>e(p,r)).then(p=>r.hooks?r.hooks.postprocess(p):p).catch(c);try{r.hooks&&(t=r.hooks.preprocess(t));const p=n(t,r);r.walkTokens&&rt.walkTokens(p,r.walkTokens);let g=e(p,r);return r.hooks&&(g=r.hooks.postprocess(g)),g}catch(p){return c(p)}}}function rt(n,e,t){return QV(ml.lex,_l.parse)(n,e,t)}rt.options=rt.setOptions=function(n){return function SH(n){Nh=n}(rt.defaults={...rt.defaults,...n}),rt},rt.getDefaults=function VV(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},rt.defaults=Nh,rt.use=function(...n){const e=rt.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r={...t};if(r.async=rt.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const a=e.renderers[i.name];e.renderers[i.name]=a?function(...c){let p=i.renderer.apply(this,c);return!1===p&&(p=a.apply(this,c)),p}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),t.renderer){const i=rt.defaults.renderer||new wI;for(const a in t.renderer){const c=i[a];i[a]=(...p)=>{let g=t.renderer[a].apply(i,p);return!1===g&&(g=c.apply(i,p)),g}}r.renderer=i}if(t.tokenizer){const i=rt.defaults.tokenizer||new nN;for(const a in t.tokenizer){const c=i[a];i[a]=(...p)=>{let g=t.tokenizer[a].apply(i,p);return!1===g&&(g=c.apply(i,p)),g}}r.tokenizer=i}if(t.hooks){const i=rt.defaults.hooks||new rN;for(const a in t.hooks){const c=i[a];i[a]=rN.passThroughHooks.has(a)?p=>{if(rt.defaults.async)return Promise.resolve(t.hooks[a].call(i,p)).then(y=>c.call(i,y));const g=t.hooks[a].call(i,p);return c.call(i,g)}:(...p)=>{let g=t.hooks[a].apply(i,p);return!1===g&&(g=c.apply(i,p)),g}}r.hooks=i}if(t.walkTokens){const i=rt.defaults.walkTokens;r.walkTokens=function(a){let c=[];return c.push(t.walkTokens.call(this,a)),i&&(c=c.concat(i.call(this,a))),c}}rt.setOptions(r)})},rt.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(rt,r)),r.type){case"table":for(const i of r.header)t=t.concat(rt.walkTokens(i.tokens,e));for(const i of r.rows)for(const a of i)t=t.concat(rt.walkTokens(a.tokens,e));break;case"list":t=t.concat(rt.walkTokens(r.items,e));break;default:rt.defaults.extensions&&rt.defaults.extensions.childTokens&&rt.defaults.extensions.childTokens[r.type]?rt.defaults.extensions.childTokens[r.type].forEach(function(i){t=t.concat(rt.walkTokens(r[i],e))}):r.tokens&&(t=t.concat(rt.walkTokens(r.tokens,e)))}return t},rt.parseInline=QV(ml.lexInline,_l.parseInline),rt.Parser=_l,rt.parser=_l.parse,rt.Renderer=wI,rt.TextRenderer=KV,rt.Lexer=ml,rt.lexer=ml.lex,rt.Tokenizer=nN,rt.Slugger=YV,rt.Hooks=rN,rt.parse=rt;const zH=["*"];let ZV=(()=>{class n{constructor(){this._buttonClick$=new Ln.x,this.copied$=this._buttonClick$.pipe((0,fn.w)(()=>(0,eN.T)((0,je.of)(!0),FV(3e3).pipe(yr(!1)))),(0,DH.x)(),LV(1)),this.copiedText$=this.copied$.pipe(Nu(!1),(0,ft.U)(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(r,i){1&r&&(h.TgZ(0,"button",0),h.NdJ("click",function(){return i.onCopyToClipboardClick()}),h.ALo(1,"async"),h._uU(2),h.ALo(3,"async"),h.qZA()),2&r&&(h.ekj("copied",h.lcZ(1,3,i.copied$)),h.xp6(2),h.Oqu(h.lcZ(3,5,i.copiedText$)))},dependencies:[j.Ov],encapsulation:2,changeDetection:0})}return n})();class KH{}var iN=function(n){return n.CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",n}(iN||{});class QH{}const JV=new h.OlP("SECURITY_CONTEXT");let sN=(()=>{class n{get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}constructor(t,r,i,a,c,p){this.platform=t,this.securityContext=r,this.http=i,this.clipboardOptions=a,this.sanitizer=p,this.DEFAULT_MARKED_OPTIONS={renderer:new wI},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Ln.x,this.reload$=this._reload$.asObservable(),this.options=c}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:a,emoji:c,mermaid:p,disableSanitizer:g}=r,y={...this.options,...r.markedOptions};p&&(this.renderer=this.extendRenderer(y.renderer||new wI));const I=this.trimIndentation(t),D=i?this.decodeHtml(I):I,x=c?this.parseEmoji(D):D,L=this.parseMarked(x,y,a);return(g?L:this.sanitizer.sanitize(this.securityContext,L))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:a,clipboardOptions:c,katex:p,katexOptions:g,mermaid:y,mermaidOptions:I}=r;a&&this.renderClipboard(t,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...c}),p&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...g}),y&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...I}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe((0,ft.U)(r=>this.handleExtension(t,r)))}highlight(t){if(!(0,j.NF)(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,i=>i.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!(0,j.NF)(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const i=t.code;return t.code=function(a,c,p){return"mermaid"===c?`<div class="mermaid">${a}</div>`:i.call(this,a,c,p)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const i=t.lastIndexOf("://"),a=i>-1?t.substring(i+4):t,c=a.lastIndexOf("/"),p=c>-1?a.substring(c+1).split("?")[0]:"",g=p.lastIndexOf("."),y=g>-1?p.substring(g+1):"";return y&&"md"!==y?"```"+y+"\n"+r+"\n```":r}parseMarked(t,r,i=!1){return i?rt.parseInline(t,r):rt.parse(t,r)}parseEmoji(t){if(!(0,j.NF)(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if((0,j.NF)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,i){if(!(0,j.NF)(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:a,buttonTemplate:c}=i,p=t.querySelectorAll("pre");for(let g=0;g<p.length;g++){const y=p.item(g),I=document.createElement("div");I.style.position="relative",y.parentNode.insertBefore(I,y),I.appendChild(y);const D=document.createElement("div");let x,L;D.style.position="absolute",D.style.top=".5em",D.style.right=".5em",D.style.opacity="0",D.style.transition="opacity 250ms ease-out",I.insertAdjacentElement("beforeend",D),y.onmouseover=()=>D.style.opacity="1",y.onmouseout=()=>D.style.opacity="0",x=a?r.createComponent(a).hostView:c?r.createEmbeddedView(c):r.createComponent(ZV).hostView,x.rootNodes.forEach(Z=>{Z.onmouseover=()=>D.style.opacity="1",D.appendChild(Z),L=new ClipboardJS(Z,{text:()=>y.innerText})}),x.onDestroy(()=>L.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!(0,j.NF)(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=t.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(r),mermaid.init(i))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(i=>{let a=r;return i.length>0&&(a=isNaN(a)?i.search(/\S|$/):Math.min(i.search(/\S|$/),a)),isNaN(r)&&(r=a),a?i.substring(a):i}).join("\n")}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(h.Lbi),h.LFG(JV),h.LFG(N0,8),h.LFG(KH,8),h.LFG(QH,8),h.LFG(ko))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})(),XV=(()=>{class n{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}constructor(t,r,i){this.element=t,this.markdownService=r,this.viewContainerRef=i,this.error=new h.vpe,this.load=new h.vpe,this.ready=new h.vpe,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new Ln.x}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Bo(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let i;this.src&&this.srcRelativeLink&&(i={baseUrl:new URL(this.src,location.origin).pathname});const c={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},p=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:i,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=p,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,c,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,iN.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,iN.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const i=t.querySelectorAll("pre");for(let a=0;a<i.length;a++){const c=r instanceof Array?r:[r];i.item(a).classList.add(...c)}}setPluginOptions(t,r){const i=t.querySelectorAll("pre");for(let a=0;a<i.length;a++)Object.keys(r).forEach(c=>{const p=r[c];if(p){const g=this.toLispCase(c);i.item(a).setAttribute(g,p.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let i=t.toString();for(let a=0,c=r.length;a<c;a++)i=i.replace(new RegExp(r[a]),"-"+r[a].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(sN),h.Y36(h.s_b))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[h.TTD],ngContentSelectors:zH,decls:1,vars:0,template:function(r,i){1&r&&(h.F$t(),h.Hsn(0))},encapsulation:2})}return n})(),r3=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[sN,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:JV,useValue:t&&null!=t.sanitize?t.sanitize:h.q3G.HTML}]}}static forChild(){return{ngModule:n}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[j.ez]})}return n})();var e2;!function(n){let e;var i;let t,r;(i=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",i.Loose="loose",i.Antiscript="antiscript",i.Sandbox="sandbox",function(i){i.Base="base",i.Forest="forest",i.Dark="dark",i.Default="default",i.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(i){i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(e2||(e2={}));const i3=function(n){return{"is-loading":n}};let t2=(()=>{class n{constructor(t,r,i){this.auth=t,this.serverService=r,this.trophyService=i,this.editorOptions={theme:"vs-dark",language:"javascript"},this.code="",this.languageId="",this.idTrophy=0,this.output="",this.customInput="",this.isProcessing=!1,this.currentTab="instructions"}runCode(){this.isProcessing=!0,this.serverService.handleCompile(this.code,this.customInput,+this.languageId).then(t=>{this.output=t,this.checkSolution(this.output),this.isProcessing=!1}).catch(t=>{this.output="Error during compilation or execution.",console.error(t),this.isProcessing=!1})}checkSolution(t){var r=this;return k(function*(){try{const i=ni(ri,"exercises","hello-security"),c=(yield ks(i)).get("solution");console.log("User Solution:",JSON.stringify(t)),console.log("DB Solution:",JSON.stringify(c)),c.trim()===t.trim()?(pV(),console.log("You got it!!!"),yn.currentUser?yield r.updateExperienceAndSolvedExercises(yn.currentUser.uid,"hello-security"):console.error("No user is currently logged in.")):console.log("Wrong Solution")}catch(i){console.error("Error:",i)}})()}updateExperienceAndSolvedExercises(t,r){return k(function*(){const i=ni(ri,"users",t),a=yield ks(i),c=a.get("experience")||0,p=a.get("exercises_solved")||0,g=a.get("solved_exercises")||[],y=a.get("percentage")||0;g.includes(r)?console.log("Exercise already solved!"):(yield function o$(n,e,t,...r){n=Mt(n,er);const i=Mt(n.firestore,dn),a=Ph(i);let c;return c="string"==typeof(e=Qt(e))||e instanceof Rh?FO(a,"updateDoc",n._key,e,t,r):kO(a,"updateDoc",n._key,e),yI(i,[c.toMutation(n._key,Cn.exists(!0))])}(i,{exp:c+50,exercises_solved:p+1,solved_exercises:[...g,r],percentage:y+5}),console.log("Experience, solved exercises and percentage of progression updated!"))})()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Ru),h.Y36(_H),h.Y36(OV))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-code-editor"]],inputs:{editorOptions:"editorOptions",code:"code",languageId:"languageId",idTrophy:"idTrophy",instructions:"instructions"},decls:17,vars:9,consts:[[1,"columns","is-vcentered","is-gapless","is-fullheight"],[1,"column","is-two-thirds"],[1,"editor-height",3,"options","ngModel","ngModelChange"],[1,"m-2"],[1,"button","is-primary","is-pulled-right",3,"disabled","ngClass","click"],[1,"box","m-4","output-height"],[1,"title","is-5"],[1,"column"],[1,"content","p-4","istruzioni"],[3,"data"]],template:function(r,i){1&r&&(h._UZ(0,"app-navbar"),h.TgZ(1,"div",0)(2,"div",1)(3,"ngx-monaco-editor",2),h.NdJ("ngModelChange",function(c){return i.code=c}),h.qZA(),h.TgZ(4,"div",3)(5,"button",4),h.NdJ("click",function(){return i.runCode()}),h._uU(6),h.qZA()(),h.TgZ(7,"div",5)(8,"h2",6),h._uU(9,"Output"),h.qZA(),h.TgZ(10,"pre"),h._uU(11),h.qZA()()(),h.TgZ(12,"div",7)(13,"div",8)(14,"h2"),h._uU(15,"Istruzioni"),h.qZA(),h._UZ(16,"markdown",9),h.qZA()()()),2&r&&(h.xp6(3),h.Q6J("options",i.editorOptions)("ngModel",i.code),h.xp6(2),h.Q6J("disabled",i.isProcessing)("ngClass",h.VKq(7,i3,i.isProcessing)),h.xp6(1),h.hij(" ",i.isProcessing?"Processing":"Run Code"," "),h.xp6(5),h.Oqu(i.output),h.xp6(5),h.Q6J("data",i.instructions))},dependencies:[j.mk,NV.PG,Fs.JJ,Fs.On,XV,cm],styles:[".columns.is-fullheight[_ngcontent-%COMP%]{min-height:100vh}.istruzioni[_ngcontent-%COMP%]{top:0;width:100%;z-index:100;background-color:#fff;overflow-y:auto;max-height:100vh}ngx-monaco-editor[_ngcontent-%COMP%]{height:80vh;width:100%}@media only screen and (max-width: 768px){.columns[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();function s3(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",21),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.deleteUser())}),h._uU(1," Delete User "),h.qZA()}}function o3(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.logoutFromGoogle())}),h._uU(1," Logout "),h.qZA()}}function a3(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",23),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.navigate())}),h._uU(1," Login "),h.qZA()}}function u3(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",24),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.editUsername())}),h._uU(1,"Modifica"),h.qZA()}}function c3(n,e){if(1&n&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Oqu(t)}}function l3(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",23),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.saveUsername())}),h._uU(1,"Salva"),h.qZA()}}let d3=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.username="",this.isLogged=!1,this.logoutFromGoogle=fV,this.editable=!1,yn.onAuthStateChanged(i=>{i?this.retrieveData():this.username="Stranger!"})}ngOnInit(){this.authService.user$.subscribe(t=>{t?(this.isLogged=!0,this.retrieveData()):this.isLogged=!1})}editUsername(){this.editable=!0}saveUsername(){var t=this;return k(function*(){if(yn.currentUser){const i=ni(ri,"users",yn.currentUser.uid);yield UO(i,{username:t.username},{merge:!0}),t.editable=!1}else alert("No user uid found")})()}navigate(){this.router.navigate(["/auth"])}delay(t){return k(function*(){return new Promise(r=>setTimeout(r,t))})()}retrieveData(){var t=this;return k(function*(){if(yn.currentUser){const i=ni(ri,"users",yn.currentUser.uid);yield t.delay(300);const a=yield ks(i);t.username=a.get("username")?a.get("username"):"Stranger!",t.clan=a.get("clan")?a.get("clan"):"No clan!",t.exp=a.get("exp")?a.get("exp"):"No exp",t.level=a.get("level")?a.get("level"):"No level",t.percentage=a.get("email")?a.get("percentage"):"No percentage",t.email=a.get("email")?a.get("email"):"Weird no Email",a.get("solved_exercises")?t.solved_exercises=a.get("solved_exercises"):t.email="No exercises solved"}else alert("No user uid found")})()}deleteUser(){return k(function*(){const t=yn.currentUser;if(t){const r=t.uid,i=ni(ri,"users",r);if((yield ks(i)).exists())try{yield sV(i),console.log("User data for UID",r,"deleted successfully"),yield fV(),yield t.delete(),console.log("User removed from Firebase Auth")}catch(c){console.error("Error during the delete user process:",c),c.details&&console.error("Error details:",c.details)}else console.log("No data found for UID",r)}else console.warn("No authenticated user found")})()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Ru),h.Y36(zr))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-profile"]],decls:55,vars:15,consts:[[1,"section","reduced-padding"],[1,"container"],[1,"title"],[1,"buttons","are-centered"],["class","button is-danger",3,"click",4,"ngIf"],["class","button is-info",3,"click",4,"ngIf"],["class","button is-primary",3,"click",4,"ngIf"],[1,"section"],[1,"box"],[1,"title","is-4"],[1,"field"],[1,"label"],[1,"control"],["type","text","placeholder","Nome utente",1,"input",3,"ngModel","readonly","ngModelChange"],["class","button is-small",3,"click",4,"ngIf"],["type","email","placeholder","Email","readonly","",1,"input",3,"value"],["type","text","placeholder","Nome Clan","readonly","",1,"input",3,"value"],["type","text","placeholder","Livello","readonly","",1,"input",3,"value"],["type","text","placeholder","exp","readonly","",1,"input",3,"value"],["max","100",1,"progress","is-primary",3,"value"],[4,"ngFor","ngForOf"],[1,"button","is-danger",3,"click"],[1,"button","is-info",3,"click"],[1,"button","is-primary",3,"click"],[1,"button","is-small",3,"click"]],template:function(r,i){1&r&&(h._UZ(0,"app-navbar"),h.TgZ(1,"section",0)(2,"div",1)(3,"h1",2),h._uU(4),h.qZA(),h.TgZ(5,"div",3),h.YNc(6,s3,2,0,"button",4),h.YNc(7,o3,2,0,"button",5),h.YNc(8,a3,2,0,"button",6),h.qZA()()(),h.TgZ(9,"section",0)(10,"div",1)(11,"section",7)(12,"div",1)(13,"div",8)(14,"h1",9),h._uU(15,"User Profile"),h.qZA(),h.TgZ(16,"div",10)(17,"label",11),h._uU(18,"Username"),h.qZA(),h.TgZ(19,"div",12)(20,"input",13),h.NdJ("ngModelChange",function(c){return i.username=c}),h.qZA(),h.YNc(21,u3,2,0,"button",14),h.qZA()(),h.TgZ(22,"div",10)(23,"label",11),h._uU(24,"Email"),h.qZA(),h.TgZ(25,"div",12),h._UZ(26,"input",15),h.qZA()(),h.TgZ(27,"div",10)(28,"label",11),h._uU(29,"Clan"),h.qZA(),h.TgZ(30,"div",12),h._UZ(31,"input",16),h.qZA()(),h.TgZ(32,"div",10)(33,"label",11),h._uU(34,"Level"),h.qZA(),h.TgZ(35,"div",12),h._UZ(36,"input",17),h.qZA()(),h.TgZ(37,"div",10)(38,"label",11),h._uU(39,"Experience Points (exp)"),h.qZA(),h.TgZ(40,"div",12),h._UZ(41,"input",18),h.qZA()(),h.TgZ(42,"div",10)(43,"label",11),h._uU(44,"Percentage of completion"),h.qZA(),h.TgZ(45,"progress",19),h._uU(46),h.qZA()(),h.TgZ(47,"div",10)(48,"label",11),h._uU(49,"Solved Exercises"),h.qZA(),h.TgZ(50,"ul"),h.YNc(51,c3,2,1,"li",20),h.qZA()(),h.TgZ(52,"div",10)(53,"div",12),h.YNc(54,l3,2,0,"button",6),h.qZA()()()()()()()),2&r&&(h.xp6(4),h.hij(" Hello, ",i.username," "),h.xp6(2),h.Q6J("ngIf","Stranger!"!==i.username),h.xp6(1),h.Q6J("ngIf","Stranger!"!==i.username),h.xp6(1),h.Q6J("ngIf","Stranger!"===i.username),h.xp6(12),h.Q6J("ngModel",i.username)("readonly",!i.editable),h.xp6(1),h.Q6J("ngIf",!i.editable),h.xp6(5),h.s9C("value",i.email),h.xp6(5),h.s9C("value",i.clan),h.xp6(5),h.s9C("value",i.level),h.xp6(5),h.s9C("value",i.exp),h.xp6(4),h.s9C("value",i.percentage),h.xp6(1),h.hij("",i.percentage,"%"),h.xp6(5),h.Q6J("ngForOf",i.solved_exercises),h.xp6(3),h.Q6J("ngIf","Stranger!"!==i.username))},dependencies:[j.sg,j.O5,Fs.Fj,Fs.JJ,Fs.On,cm],styles:[".reduced-padding[_ngcontent-%COMP%]{padding:20px 0!important}"]})}return n})();function h3(n,e){if(1&n&&(h.TgZ(0,"div",4)(1,"figure",5),h._UZ(2,"img",6),h.qZA(),h.TgZ(3,"p"),h._uU(4),h.qZA()()),2&n){const t=e.$implicit;h.xp6(1),h.ekj("grayed-out",!t.unlocked),h.xp6(1),h.Q6J("src",t.iconURL,h.LSH)("alt","Icona Trofeo "+t.id),h.xp6(2),h.Oqu(t.description)}}let n2=(()=>{class n{constructor(t,r){this.trophyService=t,this.authService=r,this.trophies=this.trophyService.trophies}ngOnInit(){this.authService.user$.subscribe(t=>{if(t){const r=this.authService.getUserUid();this.trophyService.updateTrophiesForUser(r)}})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(OV),h.Y36(Ru))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-trophies-page"]],decls:4,vars:1,consts:[[1,"section"],[1,"container"],[1,"columns","is-multiline"],["class","column is-3",4,"ngFor","ngForOf"],[1,"column","is-3"],[1,"image","is-128x128"],[3,"src","alt"]],template:function(r,i){1&r&&(h.TgZ(0,"section",0)(1,"div",1)(2,"div",2),h.YNc(3,h3,5,5,"div",3),h.qZA()()()),2&r&&(h.xp6(3),h.Q6J("ngForOf",i.trophies))},dependencies:[j.sg],styles:[".grayed-out[_ngcontent-%COMP%]{filter:grayscale(100%);opacity:.6}"]})}return n})();function f3(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",14),h.NdJ("click",function(){const a=h.CHM(t).index,c=h.oxw();return h.KtG(c.navigateToExercise(a))}),h._uU(1),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(1),h.hij(" ",t.name," ")}}let p3=(()=>{class n{navigateToExercise(t){0===t&&this.router.navigate(["/exercises/1-hello-security"])}getStudentCount(){return k(function*(){if(!yn.currentUser)return console.warn("Utente non autenticato"),0;try{const r=ni(ri,"metadata","student_count");return(yield ks(r)).get("count")}catch(r){return console.error("Errore durante la lettura del conto studenti:",r),0}})()}getUserProgression(){return k(function*(){const t=yn.currentUser;if(!t)return console.warn("Utente non autenticato"),0;try{const r=ni(ri,"users",t.uid);return(yield ks(r)).get("percentage")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),0}})()}getUserExercises(){return k(function*(){const t=yn.currentUser;if(!t)return console.warn("Utente non autenticato"),0;try{const r=ni(ri,"users",t.uid);return(yield ks(r)).get("exercises_solved")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),0}})()}getUserName(){return k(function*(){const t=yn.currentUser;if(!t)return console.warn("Utente non autenticato"),"";try{const r=ni(ri,"users",t.uid);return(yield ks(r)).get("username")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),""}})()}createBoxes(){let t=[];for(let r=0;r<20;r++)t.push({name:`Box ${r+1}`});return t}constructor(t,r){this.router=t,this.autho=r,this.boxes=[{name:"Hello Security!"},{name:"Exercise 2"},{name:"Exercise 3"},{name:"Exercise 4"},{name:"Exercise 5"},{name:"Exercise 6"},{name:"Exercise 7"},{name:"Exercise 8"},{name:"Exercise 9"},{name:"Exercise 10"},{name:"Exercise 11"},{name:"Exercise 2"},{name:"Exercise 3"},{name:"Exercise 4"},{name:"Exercise 5"},{name:"Exercise 6"},{name:"Exercise 7"},{name:"Exercise 8"},{name:"Exercise 9"},{name:"Exercise 10"}],yn.onAuthStateChanged(i=>{i?(console.log("user auth"),this.getStudentCount().then(a=>{this.studentsCount=a}).catch(a=>{console.error("Errore durante la lettura del conto studenti:",a)}),this.getUserProgression().then(a=>{this.progressPercentage=a}),this.getUserExercises().then(a=>{this.exercisesCompleted=a}),this.getUserName().then(a=>{this.userName=a}).catch(a=>{console.error("Errore durante la lettura del conto studenti:",a)})):this.navigate()})}ngOnInit(){}navigate(){this.router.navigate(["/auth"])}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(zr),h.Y36(Ru))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-exercises"]],decls:30,vars:6,consts:[[1,"section"],[1,"level"],[1,"level-left"],[1,"title","java-classname"],[1,"subtitle"],[1,"level-right"],[1,"box"],[1,"block"],[1,"columns"],[1,"column","is-two-quarters"],[1,"title"],[1,"box-grid"],["class","box-item",3,"click",4,"ngFor","ngForOf"],[1,"column"],[1,"box-item",3,"click"]],template:function(r,i){1&r&&(h._UZ(0,"app-navbar"),h.TgZ(1,"section",0)(2,"div",1)(3,"div",2)(4,"h1",3),h._uU(5,"Cybersecurity"),h.qZA(),h.TgZ(6,"h3",4),h._uU(7),h.qZA()(),h._UZ(8,"div",5),h.qZA(),h.TgZ(9,"div",6)(10,"p"),h._uU(11),h.qZA(),h._UZ(12,"div",7),h.qZA(),h.TgZ(13,"div",8)(14,"div",9)(15,"div",6)(16,"h2",10),h._uU(17,"Exercises"),h.qZA(),h.TgZ(18,"p"),h._uU(19),h.qZA(),h.TgZ(20,"p"),h._uU(21),h.qZA(),h._UZ(22,"br"),h.TgZ(23,"div",11),h.YNc(24,f3,2,1,"div",12),h.qZA()()(),h.TgZ(25,"div",13)(26,"div",6)(27,"h2",10),h._uU(28),h.qZA(),h._UZ(29,"app-trophies-page"),h.qZA()()()()),2&r&&(h.xp6(7),h.hij("students: ",i.studentsCount," "),h.xp6(4),h.hij("You're ",i.progressPercentage,"% through the Cybersecurity track. Keep up the good work! \u{1f680}"),h.xp6(8),h.hij("Avg. exercises completed per week: ",i.exercisesCompleted,""),h.xp6(2),h.hij("Exercises completed: ",i.exercisesCompleted,""),h.xp6(3),h.Q6J("ngForOf",i.boxes),h.xp6(4),h.hij("",i.userName,"'s Trophies"))},dependencies:[j.sg,cm,n2],styles:[".java-classname[_ngcontent-%COMP%]{margin-right:10px}.box-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}.box-item[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:5px;cursor:pointer;border-radius:10%;display:flex;align-items:center;justify-content:center;height:50px;width:100px}.box-item[_ngcontent-%COMP%]:first-child{background-color:#00d1b2;justify-content:center}"]})}return n})(),g3=(()=>{class n{constructor(t){this.http=t,this.helloSecurityInstructions="",this.defaultCode="",this.languageId="48",this.idTrophy=1,this.editorOptions={theme:"vs-dark",language:"c"}}ngOnInit(){this.http.get("assets/exercises/1/helloSecurityInstructions.md",{responseType:"text"}).subscribe(t=>{this.helloSecurityInstructions=t}),this.http.get("assets/exercises/1/hello-securityCode.c",{responseType:"text"}).subscribe(t=>{this.defaultCode=t})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(N0))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-hello-security"]],decls:1,vars:5,consts:[[3,"instructions","code","languageId","editorOptions","idTrophy"]],template:function(r,i){1&r&&h._UZ(0,"app-code-editor",0),2&r&&h.Q6J("instructions",i.helloSecurityInstructions)("code",i.defaultCode)("languageId",i.languageId)("editorOptions",i.editorOptions)("idTrophy",i.idTrophy)},dependencies:[t2],styles:[".columns.is-fullheight[_ngcontent-%COMP%]{min-height:100vh}.istruzioni[_ngcontent-%COMP%]{top:0;width:100%;z-index:100;background-color:#fff;overflow-y:auto;max-height:100vh}ngx-monaco-editor[_ngcontent-%COMP%]{height:80vh;width:100%}@media only screen and (max-width: 768px){.columns[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();function m3(n,e){if(1&n&&(h.TgZ(0,"h1",2),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.hij("",t.userName,"'s Trophies cabinet")}}function _3(n,e){1&n&&(h.TgZ(0,"h1",2),h._uU(1,"Stranger's Trophies cabinet"),h.qZA())}let y3=(()=>{class n{constructor(t){this.autho=t,yn.onAuthStateChanged(r=>{r&&this.getUserName().then(i=>{this.userName=i}).catch(i=>{console.error("Errore durante la lettura del nome studente",i)})})}getUserName(){return k(function*(){const t=yn.currentUser;if(!t)return console.warn("Utente non autenticato"),"";try{const r=ni(ri,"users",t.uid);return(yield ks(r)).get("username")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),""}})()}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Ru))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-trophies"]],decls:5,vars:2,consts:[["class","is-size-2 has-text-centered",4,"ngIf","ngIfElse"],["strangerTitle",""],[1,"is-size-2","has-text-centered"]],template:function(r,i){if(1&r&&(h._UZ(0,"app-navbar"),h.YNc(1,m3,2,1,"h1",0),h.YNc(2,_3,2,0,"ng-template",null,1,h.W1O),h._UZ(4,"app-trophies-page")),2&r){const a=h.MAs(3);h.xp6(1),h.Q6J("ngIf",i.userName)("ngIfElse",a)}},dependencies:[j.O5,cm,n2]})}return n})();const E3=[{path:"offline",component:N(8653).J},{path:"",component:U$},{path:"auth",component:V$},{path:"code",component:t2},{path:"user",component:d3},{path:"trophies",component:y3},{path:"exercises",component:p3},{path:"exercises/1-hello-security",component:g3}];let I3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[XI.forRoot(E3,{useHash:!0}),XI]})}return n})(),w3=(()=>{class n{constructor(t){this.authService=t,this.title="HackEd",this.sendNotification=pV,this.sendNotificationDelayed=T$}ngOnInit(){this.registerServiceWorker(),this.authService.user$.subscribe(t=>{t&&this.requestNotificationPermission()})}requestNotificationPermission(){return k(function*(){setTimeout(k(function*(){yield function w$(){return zO.apply(this,arguments)}()}),2e3)})()}registerServiceWorker(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(t=>{console.log("Service Worker registered with scope:",t.scope)}).catch(t=>{console.error("Service Worker registration failed:",t)})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Ru))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&h._UZ(0,"router-outlet")},dependencies:[bm]})}return n})();var B0=N(2438);const yl=new Ti.y(ku.Z),C3={connector:()=>new Ln.x};function r2(n,e=C3){const{connector:t}=e;return(0,Fn.e)((r,i)=>{const a=t();(0,Di.Xf)(n(function T3(n){return new Ti.y(e=>n.subscribe(e))}(a))).subscribe(i),i.add(r.subscribe(a))})}function i2(n,e){return e?t=>gr(e.pipe(An(1),function A3(){return(0,Fn.e)((n,e)=>{n.subscribe((0,kn.x)(e,ku.Z))})}()),t.pipe(i2(n))):(0,Vn.z)((t,r)=>(0,Di.Xf)(n(t,r)).pipe(An(1),yr(t)))}const TI="Service workers are disabled or not supported by this browser";class j0{constructor(e){if(this.serviceWorker=e,e){const r=(0,B0.R)(e,"controllerchange").pipe((0,ft.U)(()=>e.controller)),a=gr(Qi(()=>(0,je.of)(e.controller)),r);this.worker=a.pipe(pn(I=>!!I)),this.registration=this.worker.pipe((0,fn.w)(()=>e.getRegistration()));const y=(0,B0.R)(e,"message").pipe((0,ft.U)(I=>I.data)).pipe(pn(I=>I&&I.type)).pipe(function b3(n){return n?e=>r2(n)(e):e=>function D3(n,e){const t=(0,oi.m)(n)?n:()=>n;return(0,oi.m)(e)?r2(e,{connector:t}):r=>new Bs(r,t)}(new Ln.x)(e)}());y.connect(),this.events=y}else this.worker=this.events=this.registration=function R3(n){return Qi(()=>mr(new Error(n)))}(TI)}postMessage(e,t){return this.worker.pipe(An(1),Sn(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(e,t);return Promise.all([a,i]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(pn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(An(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(pn(t=>t.nonce===e),An(1),(0,ft.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let s2=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Ln.x,!t.isEnabled)return this.messages=yl,this.notificationClicks=yl,void(this.subscription=yl);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ft.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ft.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,ft.U)(i=>i.pushManager));const r=this.pushManager.pipe((0,fn.w)(i=>i.getSubscription()));this.subscription=(0,eN.T)(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(TI));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let c=0;c<i.length;c++)a[c]=i.charCodeAt(c);return r.applicationServerKey=a,this.pushManager.pipe((0,fn.w)(c=>c.subscribe(r)),An(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(An(1),(0,fn.w)(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(TI))}decodeBase64(t){return atob(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(j0))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})(),o2=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=yl,this.available=yl,this.activated=yl,void(this.unrecoverable=yl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(pn(r=>"VERSION_READY"===r.type),(0,ft.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(TI));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(TI));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(j0))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const a2=new h.OlP("NGSW_REGISTER_SCRIPT");function P3(n,e,t,r){return()=>{if(!(0,j.NF)(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[c,...p]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":i=(0,je.of)(null);break;case"registerWithDelay":i=u2(+p[0]||0);break;case"registerWhenStable":i=p[0]?(0,eN.T)(c2(n),u2(+p[0])):c2(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(h.R0b).runOutsideAngular(()=>i.pipe(An(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function u2(n){return(0,je.of)(null).pipe(function S3(n,e=kV){const t=FV(n,e);return i2(()=>t)}(n))}function c2(n){return n.get(h.z2F).isStable.pipe(pn(t=>t))}function M3(n,e){return new j0((0,j.NF)(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class oN{}function x3(n,e={}){return(0,h.MR2)([s2,o2,{provide:a2,useValue:n},{provide:oN,useValue:e},{provide:j0,useFactory:M3,deps:[oN,h.Lbi]},{provide:h.ip1,useFactory:P3,deps:[h.zs3,a2,oN,h.Lbi],multi:!0}])}let O3=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[x3(t,r)]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[s2,o2]})}return n})();function N3(n,e){}const $0=()=>{const n=typeof window<"u"?window:void 0;return n&&n.tinymce?n.tinymce:null};let k3=(()=>{class n{constructor(){this.onBeforePaste=new h.vpe,this.onBlur=new h.vpe,this.onClick=new h.vpe,this.onContextMenu=new h.vpe,this.onCopy=new h.vpe,this.onCut=new h.vpe,this.onDblclick=new h.vpe,this.onDrag=new h.vpe,this.onDragDrop=new h.vpe,this.onDragEnd=new h.vpe,this.onDragGesture=new h.vpe,this.onDragOver=new h.vpe,this.onDrop=new h.vpe,this.onFocus=new h.vpe,this.onFocusIn=new h.vpe,this.onFocusOut=new h.vpe,this.onKeyDown=new h.vpe,this.onKeyPress=new h.vpe,this.onKeyUp=new h.vpe,this.onMouseDown=new h.vpe,this.onMouseEnter=new h.vpe,this.onMouseLeave=new h.vpe,this.onMouseMove=new h.vpe,this.onMouseOut=new h.vpe,this.onMouseOver=new h.vpe,this.onMouseUp=new h.vpe,this.onPaste=new h.vpe,this.onSelectionChange=new h.vpe,this.onActivate=new h.vpe,this.onAddUndo=new h.vpe,this.onBeforeAddUndo=new h.vpe,this.onBeforeExecCommand=new h.vpe,this.onBeforeGetContent=new h.vpe,this.onBeforeRenderUI=new h.vpe,this.onBeforeSetContent=new h.vpe,this.onChange=new h.vpe,this.onClearUndos=new h.vpe,this.onDeactivate=new h.vpe,this.onDirty=new h.vpe,this.onExecCommand=new h.vpe,this.onGetContent=new h.vpe,this.onHide=new h.vpe,this.onInit=new h.vpe,this.onInitNgModel=new h.vpe,this.onLoadContent=new h.vpe,this.onNodeChange=new h.vpe,this.onPostProcess=new h.vpe,this.onPostRender=new h.vpe,this.onPreInit=new h.vpe,this.onPreProcess=new h.vpe,this.onProgressState=new h.vpe,this.onRedo=new h.vpe,this.onRemove=new h.vpe,this.onReset=new h.vpe,this.onResizeEditor=new h.vpe,this.onSaveContent=new h.vpe,this.onSetAttrib=new h.vpe,this.onObjectResizeStart=new h.vpe,this.onObjectResized=new h.vpe,this.onObjectSelected=new h.vpe,this.onSetContent=new h.vpe,this.onShow=new h.vpe,this.onSubmit=new h.vpe,this.onUndo=new h.vpe,this.onVisualAid=new h.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const l2=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],H0=(n,e,t)=>(0,B0.R)(n,e).pipe(Bo(t)),d2=(n,e)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:e;let h2=0;const f2=n=>typeof n<"u"&&"textarea"===n.tagName.toLowerCase(),p2=n=>typeof n>"u"||""===n?[]:Array.isArray(n)?n:n.split(" "),U3=(n,e)=>p2(n).concat(p2(e)),B3=()=>{},g2=n=>null==n,j3=(()=>{let n={script$:null};return{load:(r,i)=>n.script$||(n.script$=Qi(()=>{const a=r.createElement("script");return a.referrerPolicy="origin",a.type="application/javascript",a.src=i,r.head.appendChild(a),(0,B0.R)(a,"load").pipe(An(1),yr(void 0))}).pipe(LV({bufferSize:1,refCount:!0}))),reinitialize:()=>{n={script$:null}}}})(),$3=new h.OlP("TINYMCE_SCRIPT_SRC"),H3={provide:Fs.JU,useExisting:(0,h.Gpc)(()=>_2),multi:!0};let _2=(()=>{class n extends k3{constructor(t,r,i,a){super(),this.platformId=i,this.tinymceScriptSrc=a,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=B3,this.destroy$=new Ln.x,this.initialise=()=>{const c={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:U3(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:p=>{this._editor=p,H0(p,"init",this.destroy$).subscribe(()=>{this.initEditor(p)}),((n,e,t)=>{(n=>{const e=d2(n.ignoreEvents,[]);return d2(n.allowedEvents,l2).filter(r=>l2.includes(r)&&!e.includes(r))})(n).forEach(i=>{const a=n[i];H0(e,i.substring(2),t).subscribe(c=>{a.observers.length>0&&n.ngZone.run(()=>a.emit({event:c,editor:e}))})})})(this,p,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(p)}};f2(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{$0().init(c)})},this._elementRef=t,this.ngZone=r}set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(g2(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){(0,j.NF)(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),r=Math.floor(1e9*Math.random());return h2++,"tiny-angular_"+r+h2+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==$0()?this.initialise():this._element&&this._element.ownerDocument&&j3.load(this._element.ownerDocument,this.getScriptSrc()).pipe(Bo(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==$0()&&$0().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,f2(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return g2(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){H0(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),H0(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(h.Lbi),h.Y36($3,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[h._Bn([H3]),h.qOj,h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h.YNc(0,N3,0,0,"ng-template")},dependencies:[j.ez,Fs.u5],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),G3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[_2]}),n})(),z3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n,bootstrap:[w3]});static#n=this.\u0275inj=h.cJS({imports:[Ht,G3,NV.nm.forRoot(),Fs.u5,r3.forRoot(),dH,I3,O3.register("ngsw-worker.js",{enabled:!(0,h.X6Q)(),registrationStrategy:"registerWhenStable:30000"})]})}return n})();mt().bootstrapModule(z3).catch(n=>console.error(n))},5619:(Ye,de,N)=>{N.d(de,{X:()=>j});var h=N(8645);class j extends h.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const ie=super._subscribe(ae);return!ie.closed&&ae.next(this._value),ie}getValue(){const{hasError:ae,thrownError:ie,_value:Te}=this;if(ae)throw ie;return this._throwIfClosed(),Te}next(ae){super.next(this._value=ae)}}},5592:(Ye,de,N)=>{N.d(de,{y:()=>Be});var h=N(305),j=N(7394),he=N(4850),ae=N(8407),ie=N(2653),Te=N(4674),Ee=N(1441);let Be=(()=>{class oe{constructor(me){me&&(this._subscribe=me)}lift(me){const Ie=new oe;return Ie.source=this,Ie.operator=me,Ie}subscribe(me,Ie,Y){const Re=function X(oe){return oe&&oe instanceof h.Lv||function K(oe){return oe&&(0,Te.m)(oe.next)&&(0,Te.m)(oe.error)&&(0,Te.m)(oe.complete)}(oe)&&(0,j.Nn)(oe)}(me)?me:new h.Hp(me,Ie,Y);return(0,Ee.x)(()=>{const{operator:qe,source:It}=this;Re.add(qe?qe.call(Re,It):It?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(me){try{return this._subscribe(me)}catch(Ie){me.error(Ie)}}forEach(me,Ie){return new(Ie=xe(Ie))((Y,Re)=>{const qe=new h.Hp({next:It=>{try{me(It)}catch(bt){Re(bt),qe.unsubscribe()}},error:Re,complete:Y});this.subscribe(qe)})}_subscribe(me){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(me)}[he.L](){return this}pipe(...me){return(0,ae.U)(me)(this)}toPromise(me){return new(me=xe(me))((Ie,Y)=>{let Re;this.subscribe(qe=>Re=qe,qe=>Y(qe),()=>Ie(Re))})}}return oe.create=Ge=>new oe(Ge),oe})();function xe(oe){var Ge;return null!==(Ge=oe??ie.config.Promise)&&void 0!==Ge?Ge:Promise}},8645:(Ye,de,N)=>{N.d(de,{x:()=>Ee});var h=N(5592),j=N(7394);const ae=(0,N(2306).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=N(9039),Te=N(1441);let Ee=(()=>{class xe extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const oe=new Be(this,this);return oe.operator=X,oe}_throwIfClosed(){if(this.closed)throw new ae}next(X){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(X)}})}error(X){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:oe}=this;for(;oe.length;)oe.shift().error(X)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:oe,isStopped:Ge,observers:me}=this;return oe||Ge?j.Lc:(this.currentObservers=null,me.push(X),new j.w0(()=>{this.currentObservers=null,(0,ie.P)(me,X)}))}_checkFinalizedStatuses(X){const{hasError:oe,thrownError:Ge,isStopped:me}=this;oe?X.error(Ge):me&&X.complete()}asObservable(){const X=new h.y;return X.source=this,X}}return xe.create=(K,X)=>new Be(K,X),xe})();class Be extends Ee{constructor(K,X){super(),this.destination=K,this.source=X}next(K){var X,oe;null===(oe=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===oe||oe.call(X,K)}error(K){var X,oe;null===(oe=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===oe||oe.call(X,K)}complete(){var K,X;null===(X=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===X||X.call(K)}_subscribe(K){var X,oe;return null!==(oe=null===(X=this.source)||void 0===X?void 0:X.subscribe(K))&&void 0!==oe?oe:j.Lc}}},305:(Ye,de,N)=>{N.d(de,{Hp:()=>Y,Lv:()=>oe});var h=N(4674),j=N(7394),he=N(2653),ae=N(3894),ie=N(2420);const Te=xe("C",void 0,void 0);function xe(H,le,ue){return{kind:H,value:le,error:ue}}var K=N(7599),X=N(1441);class oe extends j.w0{constructor(le){super(),this.isStopped=!1,le?(this.destination=le,(0,j.Nn)(le)&&le.add(this)):this.destination=bt}static create(le,ue,we){return new Y(le,ue,we)}next(le){this.isStopped?It(function Be(H){return xe("N",H,void 0)}(le),this):this._next(le)}error(le){this.isStopped?It(function Ee(H){return xe("E",void 0,H)}(le),this):(this.isStopped=!0,this._error(le))}complete(){this.isStopped?It(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(le){this.destination.next(le)}_error(le){try{this.destination.error(le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function me(H,le){return Ge.call(H,le)}class Ie{constructor(le){this.partialObserver=le}next(le){const{partialObserver:ue}=this;if(ue.next)try{ue.next(le)}catch(we){Re(we)}}error(le){const{partialObserver:ue}=this;if(ue.error)try{ue.error(le)}catch(we){Re(we)}else Re(le)}complete(){const{partialObserver:le}=this;if(le.complete)try{le.complete()}catch(ue){Re(ue)}}}class Y extends oe{constructor(le,ue,we){let De;if(super(),(0,h.m)(le)||!le)De={next:le??void 0,error:ue??void 0,complete:we??void 0};else{let be;this&&he.config.useDeprecatedNextContext?(be=Object.create(le),be.unsubscribe=()=>this.unsubscribe(),De={next:le.next&&me(le.next,be),error:le.error&&me(le.error,be),complete:le.complete&&me(le.complete,be)}):De=le}this.destination=new Ie(De)}}function Re(H){he.config.useDeprecatedSynchronousErrorHandling?(0,X.O)(H):(0,ae.h)(H)}function It(H,le){const{onStoppedNotification:ue}=he.config;ue&&K.z.setTimeout(()=>ue(H,le))}const bt={closed:!0,next:ie.Z,error:function qe(H){throw H},complete:ie.Z}},7394:(Ye,de,N)=>{N.d(de,{Lc:()=>Te,w0:()=>ie,Nn:()=>Ee});var h=N(4674);const he=(0,N(2306).d)(xe=>function(X){xe(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((oe,Ge)=>`${Ge+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var ae=N(9039);class ie{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const me of X)me.remove(this);else X.remove(this);const{initialTeardown:oe}=this;if((0,h.m)(oe))try{oe()}catch(me){K=me instanceof he?me.errors:[me]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const me of Ge)try{Be(me)}catch(Ie){K=K??[],Ie instanceof he?K=[...K,...Ie.errors]:K.push(Ie)}}if(K)throw new he(K)}}add(K){var X;if(K&&K!==this)if(this.closed)Be(K);else{if(K instanceof ie){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(K)}}_hasParent(K){const{_parentage:X}=this;return X===K||Array.isArray(X)&&X.includes(K)}_addParent(K){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(K),X):X?[X,K]:K}_removeParent(K){const{_parentage:X}=this;X===K?this._parentage=null:Array.isArray(X)&&(0,ae.P)(X,K)}remove(K){const{_finalizers:X}=this;X&&(0,ae.P)(X,K),K instanceof ie&&K._removeParent(this)}}ie.EMPTY=(()=>{const xe=new ie;return xe.closed=!0,xe})();const Te=ie.EMPTY;function Ee(xe){return xe instanceof ie||xe&&"closed"in xe&&(0,h.m)(xe.remove)&&(0,h.m)(xe.add)&&(0,h.m)(xe.unsubscribe)}function Be(xe){(0,h.m)(xe)?xe():xe.unsubscribe()}},2653:(Ye,de,N)=>{N.d(de,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Ye,de,N)=>{N.d(de,{E:()=>j});const j=new(N(5592).y)(ie=>ie.complete())},7715:(Ye,de,N)=>{N.d(de,{D:()=>we});var h=N(4829),j=N(7103),he=N(9360),ae=N(8251);function ie(De,be=0){return(0,he.e)((gt,Qe)=>{gt.subscribe((0,ae.x)(Qe,Ut=>(0,j.f)(Qe,De,()=>Qe.next(Ut),be),()=>(0,j.f)(Qe,De,()=>Qe.complete(),be),Ut=>(0,j.f)(Qe,De,()=>Qe.error(Ut),be)))})}function Te(De,be=0){return(0,he.e)((gt,Qe)=>{Qe.add(De.schedule(()=>gt.subscribe(Qe),be))})}var xe=N(5592),X=N(4971),oe=N(4674);function me(De,be){if(!De)throw new Error("Iterable cannot be null");return new xe.y(gt=>{(0,j.f)(gt,be,()=>{const Qe=De[Symbol.asyncIterator]();(0,j.f)(gt,be,()=>{Qe.next().then(Ut=>{Ut.done?gt.complete():gt.next(Ut.value)})},0,!0)})})}var Ie=N(8382),Y=N(4026),Re=N(4266),qe=N(3664),It=N(5726),bt=N(9853),H=N(541);function we(De,be){return be?function ue(De,be){if(null!=De){if((0,Ie.c)(De))return function Ee(De,be){return(0,h.Xf)(De).pipe(Te(be),ie(be))}(De,be);if((0,Re.z)(De))return function K(De,be){return new xe.y(gt=>{let Qe=0;return be.schedule(function(){Qe===De.length?gt.complete():(gt.next(De[Qe++]),gt.closed||this.schedule())})})}(De,be);if((0,Y.t)(De))return function Be(De,be){return(0,h.Xf)(De).pipe(Te(be),ie(be))}(De,be);if((0,It.D)(De))return me(De,be);if((0,qe.T)(De))return function Ge(De,be){return new xe.y(gt=>{let Qe;return(0,j.f)(gt,be,()=>{Qe=De[X.h](),(0,j.f)(gt,be,()=>{let Ut,ds;try{({value:Ut,done:ds}=Qe.next())}catch(Ls){return void gt.error(Ls)}ds?gt.complete():gt.next(Ut)},0,!0)}),()=>(0,oe.m)(Qe?.return)&&Qe.return()})}(De,be);if((0,H.L)(De))return function le(De,be){return me((0,H.Q)(De),be)}(De,be)}throw(0,bt.z)(De)}(De,be):(0,h.Xf)(De)}},2438:(Ye,de,N)=>{N.d(de,{R:()=>K});var h=N(4829),j=N(5592),he=N(1631),ae=N(4266),ie=N(4674),Te=N(7400);const Ee=["addListener","removeListener"],Be=["addEventListener","removeEventListener"],xe=["on","off"];function K(Ie,Y,Re,qe){if((0,ie.m)(Re)&&(qe=Re,Re=void 0),qe)return K(Ie,Y,Re).pipe((0,Te.Z)(qe));const[It,bt]=function me(Ie){return(0,ie.m)(Ie.addEventListener)&&(0,ie.m)(Ie.removeEventListener)}(Ie)?Be.map(H=>le=>Ie[H](Y,le,Re)):function oe(Ie){return(0,ie.m)(Ie.addListener)&&(0,ie.m)(Ie.removeListener)}(Ie)?Ee.map(X(Ie,Y)):function Ge(Ie){return(0,ie.m)(Ie.on)&&(0,ie.m)(Ie.off)}(Ie)?xe.map(X(Ie,Y)):[];if(!It&&(0,ae.z)(Ie))return(0,he.z)(H=>K(H,Y,Re))((0,h.Xf)(Ie));if(!It)throw new TypeError("Invalid event target");return new j.y(H=>{const le=(...ue)=>H.next(1<ue.length?ue:ue[0]);return It(le),()=>bt(le)})}function X(Ie,Y){return Re=>qe=>Ie[Re](Y,qe)}},4829:(Ye,de,N)=>{N.d(de,{Xf:()=>Ge});var h=N(7582),j=N(4266),he=N(4026),ae=N(5592),ie=N(8382),Te=N(5726),Ee=N(9853),Be=N(3664),xe=N(541),K=N(4674),X=N(3894),oe=N(4850);function Ge(H){if(H instanceof ae.y)return H;if(null!=H){if((0,ie.c)(H))return function me(H){return new ae.y(le=>{const ue=H[oe.L]();if((0,K.m)(ue.subscribe))return ue.subscribe(le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(H);if((0,j.z)(H))return function Ie(H){return new ae.y(le=>{for(let ue=0;ue<H.length&&!le.closed;ue++)le.next(H[ue]);le.complete()})}(H);if((0,he.t)(H))return function Y(H){return new ae.y(le=>{H.then(ue=>{le.closed||(le.next(ue),le.complete())},ue=>le.error(ue)).then(null,X.h)})}(H);if((0,Te.D)(H))return qe(H);if((0,Be.T)(H))return function Re(H){return new ae.y(le=>{for(const ue of H)if(le.next(ue),le.closed)return;le.complete()})}(H);if((0,xe.L)(H))return function It(H){return qe((0,xe.Q)(H))}(H)}throw(0,Ee.z)(H)}function qe(H){return new ae.y(le=>{(function bt(H,le){var ue,we,De,be;return(0,h.mG)(this,void 0,void 0,function*(){try{for(ue=(0,h.KL)(H);!(we=yield ue.next()).done;)if(le.next(we.value),le.closed)return}catch(gt){De={error:gt}}finally{try{we&&!we.done&&(be=ue.return)&&(yield be.call(ue))}finally{if(De)throw De.error}}le.complete()})})(H,le).catch(ue=>le.error(ue))})}},3019:(Ye,de,N)=>{N.d(de,{T:()=>Te});var h=N(7537),j=N(4829),he=N(6232),ae=N(9940),ie=N(7715);function Te(...Ee){const Be=(0,ae.yG)(Ee),xe=(0,ae._6)(Ee,1/0),K=Ee;return K.length?1===K.length?(0,j.Xf)(K[0]):(0,h.J)(xe)((0,ie.D)(K,Be)):he.E}},2096:(Ye,de,N)=>{N.d(de,{of:()=>he});var h=N(9940),j=N(7715);function he(...ae){const ie=(0,h.yG)(ae);return(0,j.D)(ae,ie)}},8251:(Ye,de,N)=>{N.d(de,{x:()=>j});var h=N(305);function j(ae,ie,Te,Ee,Be){return new he(ae,ie,Te,Ee,Be)}class he extends h.Lv{constructor(ie,Te,Ee,Be,xe,K){super(ie),this.onFinalize=xe,this.shouldUnsubscribe=K,this._next=Te?function(X){try{Te(X)}catch(oe){ie.error(oe)}}:super._next,this._error=Be?function(X){try{Be(X)}catch(oe){ie.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(X){ie.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},3997:(Ye,de,N)=>{N.d(de,{x:()=>ae});var h=N(2737),j=N(9360),he=N(8251);function ae(Te,Ee=h.y){return Te=Te??ie,(0,j.e)((Be,xe)=>{let K,X=!0;Be.subscribe((0,he.x)(xe,oe=>{const Ge=Ee(oe);(X||!Te(K,Ge))&&(X=!1,K=Ge,xe.next(oe))}))})}function ie(Te,Ee){return Te===Ee}},7398:(Ye,de,N)=>{N.d(de,{U:()=>he});var h=N(9360),j=N(8251);function he(ae,ie){return(0,h.e)((Te,Ee)=>{let Be=0;Te.subscribe((0,j.x)(Ee,xe=>{Ee.next(ae.call(ie,xe,Be++))}))})}},7537:(Ye,de,N)=>{N.d(de,{J:()=>he});var h=N(1631),j=N(2737);function he(ae=1/0){return(0,h.z)(j.y,ae)}},1631:(Ye,de,N)=>{N.d(de,{z:()=>Be});var h=N(7398),j=N(4829),he=N(9360),ae=N(7103),ie=N(8251),Ee=N(4674);function Be(xe,K,X=1/0){return(0,Ee.m)(K)?Be((oe,Ge)=>(0,h.U)((me,Ie)=>K(oe,me,Ge,Ie))((0,j.Xf)(xe(oe,Ge))),X):("number"==typeof K&&(X=K),(0,he.e)((oe,Ge)=>function Te(xe,K,X,oe,Ge,me,Ie,Y){const Re=[];let qe=0,It=0,bt=!1;const H=()=>{bt&&!Re.length&&!qe&&K.complete()},le=we=>qe<oe?ue(we):Re.push(we),ue=we=>{me&&K.next(we),qe++;let De=!1;(0,j.Xf)(X(we,It++)).subscribe((0,ie.x)(K,be=>{Ge?.(be),me?le(be):K.next(be)},()=>{De=!0},void 0,()=>{if(De)try{for(qe--;Re.length&&qe<oe;){const be=Re.shift();Ie?(0,ae.f)(K,Ie,()=>ue(be)):ue(be)}H()}catch(be){K.error(be)}}))};return xe.subscribe((0,ie.x)(K,le,()=>{bt=!0,H()})),()=>{Y?.()}}(oe,Ge,xe,X)))}},3020:(Ye,de,N)=>{N.d(de,{B:()=>ie});var h=N(4829),j=N(8645),he=N(305),ae=N(9360);function ie(Ee={}){const{connector:Be=(()=>new j.x),resetOnError:xe=!0,resetOnComplete:K=!0,resetOnRefCountZero:X=!0}=Ee;return oe=>{let Ge,me,Ie,Y=0,Re=!1,qe=!1;const It=()=>{me?.unsubscribe(),me=void 0},bt=()=>{It(),Ge=Ie=void 0,Re=qe=!1},H=()=>{const le=Ge;bt(),le?.unsubscribe()};return(0,ae.e)((le,ue)=>{Y++,!qe&&!Re&&It();const we=Ie=Ie??Be();ue.add(()=>{Y--,0===Y&&!qe&&!Re&&(me=Te(H,X))}),we.subscribe(ue),!Ge&&Y>0&&(Ge=new he.Hp({next:De=>we.next(De),error:De=>{qe=!0,It(),me=Te(bt,xe,De),we.error(De)},complete:()=>{Re=!0,It(),me=Te(bt,K),we.complete()}}),(0,h.Xf)(le).subscribe(Ge))})(oe)}}function Te(Ee,Be,...xe){if(!0===Be)return void Ee();if(!1===Be)return;const K=new he.Hp({next:()=>{K.unsubscribe(),Ee()}});return(0,h.Xf)(Be(...xe)).subscribe(K)}},4664:(Ye,de,N)=>{N.d(de,{w:()=>ae});var h=N(4829),j=N(9360),he=N(8251);function ae(ie,Te){return(0,j.e)((Ee,Be)=>{let xe=null,K=0,X=!1;const oe=()=>X&&!xe&&Be.complete();Ee.subscribe((0,he.x)(Be,Ge=>{xe?.unsubscribe();let me=0;const Ie=K++;(0,h.Xf)(ie(Ge,Ie)).subscribe(xe=(0,he.x)(Be,Y=>Be.next(Te?Te(Ge,Y,Ie,me++):Y),()=>{xe=null,oe()}))},()=>{X=!0,oe()}))})}},7599:(Ye,de,N)=>{N.d(de,{z:()=>h});const h={setTimeout(j,he,...ae){const{delegate:ie}=h;return ie?.setTimeout?ie.setTimeout(j,he,...ae):setTimeout(j,he,...ae)},clearTimeout(j){const{delegate:he}=h;return(he?.clearTimeout||clearTimeout)(j)},delegate:void 0}},4971:(Ye,de,N)=>{N.d(de,{h:()=>j});const j=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ye,de,N)=>{N.d(de,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(Ye,de,N)=>{N.d(de,{_6:()=>Te,jO:()=>ae,yG:()=>ie});var h=N(4674),j=N(671);function he(Ee){return Ee[Ee.length-1]}function ae(Ee){return(0,h.m)(he(Ee))?Ee.pop():void 0}function ie(Ee){return(0,j.K)(he(Ee))?Ee.pop():void 0}function Te(Ee,Be){return"number"==typeof he(Ee)?Ee.pop():Be}},7453:(Ye,de,N)=>{N.d(de,{D:()=>ie});const{isArray:h}=Array,{getPrototypeOf:j,prototype:he,keys:ae}=Object;function ie(Ee){if(1===Ee.length){const Be=Ee[0];if(h(Be))return{args:Be,keys:null};if(function Te(Ee){return Ee&&"object"==typeof Ee&&j(Ee)===he}(Be)){const xe=ae(Be);return{args:xe.map(K=>Be[K]),keys:xe}}}return{args:Ee,keys:null}}},9039:(Ye,de,N)=>{function h(j,he){if(j){const ae=j.indexOf(he);0<=ae&&j.splice(ae,1)}}N.d(de,{P:()=>h})},2306:(Ye,de,N)=>{function h(j){const ae=j(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}N.d(de,{d:()=>h})},2714:(Ye,de,N)=>{function h(j,he){return j.reduce((ae,ie,Te)=>(ae[ie]=he[Te],ae),{})}N.d(de,{n:()=>h})},1441:(Ye,de,N)=>{N.d(de,{O:()=>ae,x:()=>he});var h=N(2653);let j=null;function he(ie){if(h.config.useDeprecatedSynchronousErrorHandling){const Te=!j;if(Te&&(j={errorThrown:!1,error:null}),ie(),Te){const{errorThrown:Ee,error:Be}=j;if(j=null,Ee)throw Be}}else ie()}function ae(ie){h.config.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=ie)}},7103:(Ye,de,N)=>{function h(j,he,ae,ie=0,Te=!1){const Ee=he.schedule(function(){ae(),Te?j.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(j.add(Ee),!Te)return Ee}N.d(de,{f:()=>h})},2737:(Ye,de,N)=>{function h(j){return j}N.d(de,{y:()=>h})},4266:(Ye,de,N)=>{N.d(de,{z:()=>h});const h=j=>j&&"number"==typeof j.length&&"function"!=typeof j},5726:(Ye,de,N)=>{N.d(de,{D:()=>j});var h=N(4674);function j(he){return Symbol.asyncIterator&&(0,h.m)(he?.[Symbol.asyncIterator])}},4674:(Ye,de,N)=>{function h(j){return"function"==typeof j}N.d(de,{m:()=>h})},8382:(Ye,de,N)=>{N.d(de,{c:()=>he});var h=N(4850),j=N(4674);function he(ae){return(0,j.m)(ae[h.L])}},3664:(Ye,de,N)=>{N.d(de,{T:()=>he});var h=N(4971),j=N(4674);function he(ae){return(0,j.m)(ae?.[h.h])}},4026:(Ye,de,N)=>{N.d(de,{t:()=>j});var h=N(4674);function j(he){return(0,h.m)(he?.then)}},541:(Ye,de,N)=>{N.d(de,{L:()=>ae,Q:()=>he});var h=N(7582),j=N(4674);function he(ie){return(0,h.FC)(this,arguments,function*(){const Ee=ie.getReader();try{for(;;){const{value:Be,done:xe}=yield(0,h.qq)(Ee.read());if(xe)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Be)}}finally{Ee.releaseLock()}})}function ae(ie){return(0,j.m)(ie?.getReader)}},671:(Ye,de,N)=>{N.d(de,{K:()=>j});var h=N(4674);function j(he){return he&&(0,h.m)(he.schedule)}},9360:(Ye,de,N)=>{N.d(de,{A:()=>j,e:()=>he});var h=N(4674);function j(ae){return(0,h.m)(ae?.lift)}function he(ae){return ie=>{if(j(ie))return ie.lift(function(Te){try{return ae(Te,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ye,de,N)=>{N.d(de,{Z:()=>ae});var h=N(7398);const{isArray:j}=Array;function ae(ie){return(0,h.U)(Te=>function he(ie,Te){return j(Te)?ie(...Te):ie(Te)}(ie,Te))}},2420:(Ye,de,N)=>{function h(){}N.d(de,{Z:()=>h})},8407:(Ye,de,N)=>{N.d(de,{U:()=>he,z:()=>j});var h=N(2737);function j(...ae){return he(ae)}function he(ae){return 0===ae.length?h.y:1===ae.length?ae[0]:function(Te){return ae.reduce((Ee,Be)=>Be(Ee),Te)}}},3894:(Ye,de,N)=>{N.d(de,{h:()=>he});var h=N(2653),j=N(7599);function he(ae){j.z.setTimeout(()=>{const{onUnhandledError:ie}=h.config;if(!ie)throw ae;ie(ae)})}},9853:(Ye,de,N)=>{function h(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(de,{z:()=>h})},6814:(Ye,de,N)=>{N.d(de,{Do:()=>Y,EM:()=>Mr,HT:()=>ae,JF:()=>ai,K0:()=>Te,Mx:()=>_r,NF:()=>Si,O5:()=>pn,Ov:()=>Zi,PM:()=>es,S$:()=>Ge,V_:()=>Be,Ye:()=>Re,b0:()=>Ie,bD:()=>ar,ez:()=>en,mk:()=>Us,q:()=>he,sg:()=>fn,w_:()=>ie});var h=N(5879);let j=null;function he(){return j}function ae(v){j||(j=v)}class ie{}const Te=new h.OlP("DocumentToken");let Ee=(()=>{class v{historyGo(T){throw new Error("Not implemented")}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=h.Yz7({token:v,factory:function(){return(0,h.f3M)(xe)},providedIn:"platform"})}return v})();const Be=new h.OlP("Location Initialized");let xe=(()=>{class v extends Ee{constructor(){super(),this._doc=(0,h.f3M)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(T){const A=he().getGlobalEventTarget(this._doc,"window");return A.addEventListener("popstate",T,!1),()=>A.removeEventListener("popstate",T)}onHashChange(T){const A=he().getGlobalEventTarget(this._doc,"window");return A.addEventListener("hashchange",T,!1),()=>A.removeEventListener("hashchange",T)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(T){this._location.pathname=T}pushState(T,A,F){this._history.pushState(T,A,F)}replaceState(T,A,F){this._history.replaceState(T,A,F)}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=h.Yz7({token:v,factory:function(){return new v},providedIn:"platform"})}return v})();function K(v,P){if(0==v.length)return P;if(0==P.length)return v;let T=0;return v.endsWith("/")&&T++,P.startsWith("/")&&T++,2==T?v+P.substring(1):1==T?v+P:v+"/"+P}function X(v){const P=v.match(/#|\?|$/),T=P&&P.index||v.length;return v.slice(0,T-("/"===v[T-1]?1:0))+v.slice(T)}function oe(v){return v&&"?"!==v[0]?"?"+v:v}let Ge=(()=>{class v{historyGo(T){throw new Error("Not implemented")}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=h.Yz7({token:v,factory:function(){return(0,h.f3M)(Ie)},providedIn:"root"})}return v})();const me=new h.OlP("appBaseHref");let Ie=(()=>{class v extends Ge{constructor(T,A){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=A??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return K(this._baseHref,T)}path(T=!1){const A=this._platformLocation.pathname+oe(this._platformLocation.search),F=this._platformLocation.hash;return F&&T?`${A}${F}`:A}pushState(T,A,F,G){const se=this.prepareExternalUrl(F+oe(G));this._platformLocation.pushState(T,A,se)}replaceState(T,A,F,G){const se=this.prepareExternalUrl(F+oe(G));this._platformLocation.replaceState(T,A,se)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}static#e=this.\u0275fac=function(A){return new(A||v)(h.LFG(Ee),h.LFG(me,8))};static#t=this.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),Y=(()=>{class v extends Ge{constructor(T,A){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=A&&(this._baseHref=A)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let A=this._platformLocation.hash;return null==A&&(A="#"),A.length>0?A.substring(1):A}prepareExternalUrl(T){const A=K(this._baseHref,T);return A.length>0?"#"+A:A}pushState(T,A,F,G){let se=this.prepareExternalUrl(F+oe(G));0==se.length&&(se=this._platformLocation.pathname),this._platformLocation.pushState(T,A,se)}replaceState(T,A,F,G){let se=this.prepareExternalUrl(F+oe(G));0==se.length&&(se=this._platformLocation.pathname),this._platformLocation.replaceState(T,A,se)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}static#e=this.\u0275fac=function(A){return new(A||v)(h.LFG(Ee),h.LFG(me,8))};static#t=this.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac})}return v})(),Re=(()=>{class v{constructor(T){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const A=this._locationStrategy.getBaseHref();this._basePath=function H(v){if(new RegExp("^(https?:)?//").test(v)){const[,T]=v.split(/\/\/[^\/]+/);return T}return v}(X(bt(A))),this._locationStrategy.onPopState(F=>{this._subject.emit({url:this.path(!0),pop:!0,state:F.state,type:F.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,A=""){return this.path()==this.normalize(T+oe(A))}normalize(T){return v.stripTrailingSlash(function It(v,P){if(!v||!P.startsWith(v))return P;const T=P.substring(v.length);return""===T||["/",";","?","#"].includes(T[0])?T:P}(this._basePath,bt(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,A="",F=null){this._locationStrategy.pushState(F,"",T,A),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+oe(A)),F)}replaceState(T,A="",F=null){this._locationStrategy.replaceState(F,"",T,A),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+oe(A)),F)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(A=>{this._notifyUrlChangeListeners(A.url,A.state)})),()=>{const A=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(A,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",A){this._urlChangeListeners.forEach(F=>F(T,A))}subscribe(T,A,F){return this._subject.subscribe({next:T,error:A,complete:F})}static#e=this.normalizeQueryParams=oe;static#t=this.joinWithSlash=K;static#n=this.stripTrailingSlash=X;static#r=this.\u0275fac=function(A){return new(A||v)(h.LFG(Ge))};static#i=this.\u0275prov=h.Yz7({token:v,factory:function(){return function qe(){return new Re((0,h.LFG)(Ge))}()},providedIn:"root"})}return v})();function bt(v){return v.replace(/\/index.html$/,"")}function _r(v,P){P=encodeURIComponent(P);for(const T of v.split(";")){const A=T.indexOf("="),[F,G]=-1==A?[T,""]:[T.slice(0,A),T.slice(A+1)];if(F.trim()===P)return decodeURIComponent(G)}return null}const ms=/\s+/,Fn=[];let Us=(()=>{class v{constructor(T,A,F,G){this._iterableDiffers=T,this._keyValueDiffers=A,this._ngEl=F,this._renderer=G,this.initialClasses=Fn,this.stateMap=new Map}set klass(T){this.initialClasses=null!=T?T.trim().split(ms):Fn}set ngClass(T){this.rawClass="string"==typeof T?T.trim().split(ms):T}ngDoCheck(){for(const A of this.initialClasses)this._updateState(A,!0);const T=this.rawClass;if(Array.isArray(T)||T instanceof Set)for(const A of T)this._updateState(A,!0);else if(null!=T)for(const A of Object.keys(T))this._updateState(A,!!T[A]);this._applyStateDiff()}_updateState(T,A){const F=this.stateMap.get(T);void 0!==F?(F.enabled!==A&&(F.changed=!0,F.enabled=A),F.touched=!0):this.stateMap.set(T,{enabled:A,changed:!0,touched:!0})}_applyStateDiff(){for(const T of this.stateMap){const A=T[0],F=T[1];F.changed?(this._toggleClass(A,F.enabled),F.changed=!1):F.touched||(F.enabled&&this._toggleClass(A,!1),this.stateMap.delete(A)),F.touched=!1}}_toggleClass(T,A){(T=T.trim()).length>0&&T.split(ms).forEach(F=>{A?this._renderer.addClass(this._ngEl.nativeElement,F):this._renderer.removeClass(this._ngEl.nativeElement,F)})}static#e=this.\u0275fac=function(A){return new(A||v)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))};static#t=this.\u0275dir=h.lG2({type:v,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return v})();class ft{constructor(P,T,A,F){this.$implicit=P,this.ngForOf=T,this.index=A,this.count=F}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fn=(()=>{class v{set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}constructor(T,A,F){this._viewContainer=T,this._template=A,this._differs=F,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const A=this._viewContainer;T.forEachOperation((F,G,se)=>{if(null==F.previousIndex)A.createEmbeddedView(this._template,new ft(F.item,this._ngForOf,-1,-1),null===se?void 0:se);else if(null==se)A.remove(null===G?void 0:G);else if(null!==G){const $e=A.get(G);A.move($e,se),An($e,F)}});for(let F=0,G=A.length;F<G;F++){const $e=A.get(F).context;$e.index=F,$e.count=G,$e.ngForOf=this._ngForOf}T.forEachIdentityChange(F=>{An(A.get(F.currentIndex),F)})}static ngTemplateContextGuard(T,A){return!0}static#e=this.\u0275fac=function(A){return new(A||v)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))};static#t=this.\u0275dir=h.lG2({type:v,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return v})();function An(v,P){v.context.$implicit=P.item}let pn=(()=>{class v{constructor(T,A){this._viewContainer=T,this._context=new Vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=A}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){Uo("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){Uo("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,A){return!0}static#e=this.\u0275fac=function(A){return new(A||v)(h.Y36(h.s_b),h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:v,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return v})();class Vn{constructor(){this.$implicit=null,this.ngIf=null}}function Uo(v,P){if(P&&!P.createEmbeddedView)throw new Error(`${v} must be a TemplateRef, but received '${(0,h.AaK)(P)}'.`)}class po{createSubscription(P,T){return(0,h.rg0)(()=>P.subscribe({next:T,error:A=>{throw A}}))}dispose(P){(0,h.rg0)(()=>P.unsubscribe())}}class ku{createSubscription(P,T){return P.then(T,A=>{throw A})}dispose(P){}}const Bo=new ku,ut=new po;let Zi=(()=>{class v{constructor(T){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=T}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(T){return this._obj?T!==this._obj?(this._dispose(),this.transform(T)):this._latestValue:(T&&this._subscribe(T),this._latestValue)}_subscribe(T){this._obj=T,this._strategy=this._selectStrategy(T),this._subscription=this._strategy.createSubscription(T,A=>this._updateLatestValue(T,A))}_selectStrategy(T){if((0,h.QGY)(T))return Bo;if((0,h.F4k)(T))return ut;throw function yr(v,P){return new h.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(T,A){T===this._obj&&(this._latestValue=A,this._ref.markForCheck())}static#e=this.\u0275fac=function(A){return new(A||v)(h.Y36(h.sBO,16))};static#t=this.\u0275pipe=h.Yjl({name:"async",type:v,pure:!1,standalone:!0})}return v})(),en=(()=>{class v{static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275mod=h.oAB({type:v});static#n=this.\u0275inj=h.cJS({})}return v})();const ar="browser",Ji="server";function Si(v){return v===ar}function es(v){return v===Ji}let Mr=(()=>{class v{static#e=this.\u0275prov=(0,h.Yz7)({token:v,providedIn:"root",factory:()=>new ts((0,h.LFG)(Te),window)})}return v})();class ts{constructor(P,T){this.document=P,this.window=T,this.offset=()=>[0,0]}setOffset(P){this.offset=Array.isArray(P)?()=>P:P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const T=function $o(v,P){const T=v.getElementById(P)||v.getElementsByName(P)[0];if(T)return T;if("function"==typeof v.createTreeWalker&&v.body&&"function"==typeof v.body.attachShadow){const A=v.createTreeWalker(v.body,NodeFilter.SHOW_ELEMENT);let F=A.currentNode;for(;F;){const G=F.shadowRoot;if(G){const se=G.getElementById(P)||G.querySelector(`[name="${P}"]`);if(se)return se}F=A.nextNode()}}return null}(this.document,P);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(P){this.supportsScrolling()&&(this.window.history.scrollRestoration=P)}scrollToElement(P){const T=P.getBoundingClientRect(),A=T.left+this.window.pageXOffset,F=T.top+this.window.pageYOffset,G=this.offset();this.window.scrollTo(A-G[0],F-G[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ai{}},5879:(Ye,de,N)=>{N.d(de,{$8M:()=>Km,$WT:()=>or,$Z:()=>ry,AFp:()=>iT,ALo:()=>DD,AaK:()=>oe,CHM:()=>NI,CRH:()=>Gp,DdM:()=>Rv,EJc:()=>YD,EiD:()=>E_,EpF:()=>up,F$t:()=>IR,F4k:()=>cp,FYo:()=>hT,FiY:()=>Jm,Gf:()=>Hp,GfV:()=>pT,Gpc:()=>Ie,HDt:()=>uE,Hsn:()=>hp,JOm:()=>qs,JVY:()=>oS,JZr:()=>bt,KtG:()=>kI,L6k:()=>aS,LAX:()=>cS,LFG:()=>Xt,LSH:()=>I_,Lbi:()=>rd,Lck:()=>pD,MAs:()=>ip,MMx:()=>mD,MR2:()=>vf,NdJ:()=>Md,Ojb:()=>aT,OlP:()=>Ot,Oqu:()=>Qy,P3R:()=>yf,PXZ:()=>eh,Q6J:()=>Ad,QGY:()=>Pd,Qsj:()=>fT,R0b:()=>jn,RDi:()=>nS,Rgc:()=>Mn,SBq:()=>ud,Sil:()=>ZD,Suo:()=>kD,TTD:()=>At,TgZ:()=>Sd,VKq:()=>ED,VuI:()=>Sb,W1O:()=>VD,X6Q:()=>ih,XFs:()=>at,Xpm:()=>po,Xq5:()=>KT,Xts:()=>Zl,Y36:()=>pd,YKP:()=>fD,YNc:()=>rp,Yjl:()=>Vu,Yz7:()=>mt,Z0I:()=>Ht,ZZ4:()=>DE,_Bn:()=>hD,_UZ:()=>sp,_c5:()=>lh,_uU:()=>yC,aQg:()=>Wc,c2e:()=>ag,cJS:()=>Dn,cg1:()=>VC,dDg:()=>oM,dqk:()=>Gt,eBb:()=>uS,eFA:()=>mE,eJc:()=>Xv,ekj:()=>qy,eoX:()=>Eu,f3M:()=>Lt,g9A:()=>sT,h0i:()=>mu,hGG:()=>dh,hij:()=>cu,iGM:()=>Qv,ifc:()=>qn,ip1:()=>Wd,jDz:()=>Cv,kL8:()=>Ap,lG2:()=>Lu,lcZ:()=>bD,lqb:()=>Or,lri:()=>Jd,mCW:()=>Kl,n5z:()=>ew,oAB:()=>Zi,oxw:()=>ER,pB0:()=>Hw,q3G:()=>Qa,qFp:()=>xb,qLn:()=>ra,qOj:()=>wd,qZA:()=>Sc,qzn:()=>cc,rWj:()=>tb,rg0:()=>F,s9C:()=>Uy,sBO:()=>lb,s_b:()=>Fc,soG:()=>Bc,tb:()=>hg,tp0:()=>sc,uIk:()=>Cd,vHH:()=>H,vpe:()=>os,wAp:()=>Fd,xp6:()=>ty,z2F:()=>xo,z3N:()=>Do,zSh:()=>bo,zs3:()=>Li});var h=N(8645),j=N(7394),he=N(5592),ae=N(3019),ie=N(5619),Te=N(2096),Ee=N(3020),Be=N(4664),xe=N(3997);function K(s){for(let o in s)if(s[o]===K)return o;throw Error("Could not find renamed property on target object.")}function X(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function oe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(oe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const me=K({__forward_ref__:K});function Ie(s){return s.__forward_ref__=Ie,s.toString=function(){return oe(this())},s}function Y(s){return Re(s)?s():s}function Re(s){return"function"==typeof s&&s.hasOwnProperty(me)&&s.__forward_ref__===Ie}function qe(s){return s&&!!s.\u0275providers}const bt="https://g.co/ng/security#xss";class H extends Error{constructor(o,u){super(function le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function ue(s){return"string"==typeof s?s:null==s?"":String(s)}function Qe(s,o){throw new H(-201,!1)}function ze(s,o){null==s&&function Se(s,o,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function mt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Dn(s){return{providers:s.providers||[],imports:s.imports||[]}}function zn(s){return Rr(s,vn)||Rr(s,qi)}function Ht(s){return null!==zn(s)}function Rr(s,o){return s.hasOwnProperty(o)?s[o]:null}function No(s){return s&&(s.hasOwnProperty(Br)||s.hasOwnProperty(hs))?s[Br]:null}const vn=K({\u0275prov:K}),Br=K({\u0275inj:K}),qi=K({ngInjectableDef:K}),hs=K({ngInjectorDef:K});var at=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(at||{});let Tt;function bn(s){const o=Tt;return Tt=s,o}function fs(s,o,u){const l=zn(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&at.Optional?null:void 0!==o?o:void Qe(oe(s))}const Gt=globalThis,si={},fo="__NG_DI_FLAG__",wi="ngTempTokenPath",Ou=/\n/gm,oi="__source";let gs;function je(s){const o=gs;return gs=s,o}function Nn(s,o=at.Default){if(void 0===gs)throw new H(-203,!1);return null===gs?fs(s,void 0,o):gs.get(s,o&at.Optional?null:void 0,o)}function Xt(s,o=at.Default){return(function Ct(){return Tt}()||Nn)(Y(s),o)}function Lt(s,o=at.Default){return Xt(s,Ki(o))}function Ki(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Lo(s){const o=[];for(let u=0;u<s.length;u++){const l=Y(s[u]);if(Array.isArray(l)){if(0===l.length)throw new H(900,!1);let d,f=at.Default;for(let m=0;m<l.length;m++){const _=l[m],E=Yi(_);"number"==typeof E?-1===E?d=_.token:f|=E:d=_}o.push(Xt(d,f))}else o.push(Xt(l))}return o}function kn(s,o){return s[fo]=o,s.prototype[fo]=o,s}function Yi(s){return s[fo]}function rr(s){return{toString:s}.toString()}var Ci=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(Ci||{}),qn=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(qn||{});const ir={},Dt=[],gr=K({\u0275cmp:K}),Di=K({\u0275dir:K}),Qi=K({\u0275pipe:K}),Ra=K({\u0275mod:K}),mr=K({\u0275fac:K}),_r=K({__NG_ELEMENT_ID__:K}),ms=K({__NG_ENV_ID__:K});function Fn(s,o,u){let l=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===l||s.charCodeAt(d+f)<=32)return d}u=d+1}}function Us(s,o,u){let l=0;for(;l<u.length;){const d=u[l];if("number"==typeof d){if(0!==d)break;l++;const f=u[l++],m=u[l++],_=u[l++];s.setAttribute(o,m,_,f)}else{const f=d,m=u[++l];Ln(f)?s.setProperty(o,f,m):s.setAttribute(o,f,m),l++}}return l}function Bs(s){return 3===s||4===s||6===s}function Ln(s){return 64===s.charCodeAt(0)}function ft(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?u=d:0===u||fn(s,u,d,null,-1===u||2===u?o[++l]:null)}}return s}function fn(s,o,u,l,d){let f=0,m=s.length;if(-1===o)m=-1;else for(;f<s.length;){const _=s[f++];if("number"==typeof _){if(_===o){m=-1;break}if(_>o){m=f-1;break}}}for(;f<s.length;){const _=s[f];if("number"==typeof _)break;if(_===u){if(null===l)return void(null!==d&&(s[f+1]=d));if(l===s[f+1])return void(s[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==m&&(s.splice(m,0,o),f=m+1),s.splice(f++,0,u),null!==l&&s.splice(f++,0,l),null!==d&&s.splice(f++,0,d)}const An="ng-template";function Nu(s,o,u){let l=0,d=!0;for(;l<s.length;){let f=s[l++];if("string"==typeof f&&d){const m=s[l++];if(u&&"class"===f&&-1!==Fn(m.toLowerCase(),o,0))return!0}else{if(1===f){for(;l<s.length&&"string"==typeof(f=s[l++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function pn(s){return 4===s.type&&s.value!==An}function Vn(s,o,u){return o===(4!==s.type||u?s.value:An)}function Uo(s,o,u){let l=4;const d=s.attrs||[],f=function Sn(s){for(let o=0;o<s.length;o++)if(Bs(s[o]))return o;return s.length}(d);let m=!1;for(let _=0;_<o.length;_++){const E=o[_];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!Vn(s,E,u)||""===E&&1===o.length){if(sr(l))return!1;m=!0}}else{const C=8&l?E:o[++_];if(8&l&&null!==s.attrs){if(!Nu(s.attrs,C,u)){if(sr(l))return!1;m=!0}continue}const O=_s(8&l?"class":E,d,pn(s),u);if(-1===O){if(sr(l))return!1;m=!0;continue}if(""!==C){let U;U=O>f?"":d[O+1].toLowerCase();const B=8&l?U:null;if(B&&-1!==Fn(B,C,0)||2&l&&C!==U){if(sr(l))return!1;m=!0}}}}else{if(!m&&!sr(l)&&!sr(E))return!1;if(m&&sr(E))continue;m=!1,l=E|1&l}}return sr(l)||m}function sr(s){return 0==(1&s)}function _s(s,o,u,l){if(null===o)return-1;let d=0;if(l||!u){let f=!1;for(;d<o.length;){const m=o[d];if(m===s)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let _=o[++d];for(;"string"==typeof _;)_=o[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function bi(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===o)return u;u++}return-1}(o,s)}function jr(s,o,u=!1){for(let l=0;l<o.length;l++)if(Uo(s,o[l],u))return!0;return!1}function hm(s,o){e:for(let u=0;u<o.length;u++){const l=o[u];if(s.length===l.length){for(let d=0;d<s.length;d++)if(s[d]!==l[d])continue e;return!0}}return!1}function Tl(s,o){return s?":not("+o.trim()+")":o}function Pa(s){let o=s[0],u=1,l=2,d="",f=!1;for(;u<s.length;){let m=s[u];if("string"==typeof m)if(2&l){const _=s[++u];d+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!sr(m)&&(o+=Tl(f,d),d=""),l=m,f=f||!sr(l);u++}return""!==d&&(o+=Tl(f,d)),o}function po(s){return rr(()=>{const o=jo(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Ci.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||qn.Emulated,styles:s.styles||Dt,_:null,schemas:s.schemas||null,tView:null,id:""};Ma(u);const l=s.dependencies;return u.directiveDefs=go(l,!1),u.pipeDefs=go(l,!0),u.id=function Cl(s){let o=0;const u=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const d of u)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(u),u})}function Bo(s){return st(s)||En(s)}function ut(s){return null!==s}function Zi(s){return rr(()=>({type:s.type,bootstrap:s.bootstrap||Dt,declarations:s.declarations||Dt,imports:s.imports||Dt,exports:s.exports||Dt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Ai(s,o){if(null==s)return ir;const u={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=l,o&&(o[d]=f)}return u}function Lu(s){return rr(()=>{const o=jo(s);return Ma(o),o})}function Vu(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function st(s){return s[gr]||null}function En(s){return s[Di]||null}function Wn(s){return s[Qi]||null}function or(s){const o=st(s)||En(s)||Wn(s);return null!==o&&o.standalone}function vr(s,o){const u=s[Ra]||null;if(!u&&!0===o)throw new Error(`Type ${oe(s)} does not have '\u0275mod' property.`);return u}function jo(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||ir,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Dt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ai(s.inputs,o),outputs:Ai(s.outputs)}}function Ma(s){s.features?.forEach(o=>o(s))}function go(s,o){if(!s)return null;const u=o?Wn:Bo;return()=>("function"==typeof s?s():s).map(l=>u(l)).filter(ut)}const $t=0,Pe=1,Ze=2,xt=3,ct=4,$r=5,Rn=6,Pr=7,en=8,ar=9,Ji=10,et=11,Xi=12,Si=13,es=14,qt=15,mo=16,vs=17,Mr=18,ts=19,$o=20,ns=21,ai=22,ui=23,Ri=24,vt=25,Ho=1,Uu=2,Er=7,$s=9,gn=11;function sn(s){return Array.isArray(s)&&"object"==typeof s[Ho]}function Kn(s){return Array.isArray(s)&&!0===s[Ho]}function _o(s){return 0!=(4&s.flags)}function rs(s){return s.componentOffset>-1}function Es(s){return 1==(1&s.flags)}function Ir(s){return!!s.template}function Go(s){return 0!=(512&s[Ze])}function ci(s,o){return s.hasOwnProperty(mr)?s[mr]:null}let ur=null,Al=!1;function Hr(s){const o=ur;return ur=s,o}const Sl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Em(s){if(!di(s)||s.dirty){if(!s.producerMustRecompute(s)&&!Oa(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function Pl(s){s.dirty=!0,function Rl(s){if(void 0===s.liveConsumerNode)return;const o=Al;Al=!0;try{for(const u of s.liveConsumerNode)u.dirty||Pl(u)}finally{Al=o}}(s),s.consumerMarkedDirty?.(s)}function Im(s){return s&&(s.nextProducerIndex=0),Hr(s)}function Vh(s,o){if(Hr(o),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(di(s))for(let u=s.nextProducerIndex;u<s.producerNode.length;u++)Na(s.producerNode[u],s.producerIndexOfThis[u]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function Oa(s){Pi(s);for(let o=0;o<s.producerNode.length;o++){const u=s.producerNode[o],l=s.producerLastReadVersion[o];if(l!==u.version||(Em(u),l!==u.version))return!0}return!1}function Uh(s){if(Pi(s),di(s))for(let o=0;o<s.producerNode.length;o++)Na(s.producerNode[o],s.producerIndexOfThis[o]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function Na(s,o){if(function Bh(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),Pi(s),1===s.liveConsumerNode.length)for(let l=0;l<s.producerNode.length;l++)Na(s.producerNode[l],s.producerIndexOfThis[l]);const u=s.liveConsumerNode.length-1;if(s.liveConsumerNode[o]=s.liveConsumerNode[u],s.liveConsumerIndexOfThis[o]=s.liveConsumerIndexOfThis[u],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,o<s.liveConsumerNode.length){const l=s.liveConsumerIndexOfThis[o],d=s.liveConsumerNode[o];Pi(d),d.producerIndexOfThis[l]=o}}function di(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Pi(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let $h=null;function F(s){const o=Hr(null);try{return s()}finally{Hr(o)}}const se=()=>{},$e=(()=>({...Sl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:se}))();class Vt{constructor(o,u,l){this.previousValue=o,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function At(){return Et}function Et(s){return s.type.prototype.ngOnChanges&&(s.setInput=Wt),In}function In(){const s=Gs(this),o=s?.current;if(o){const u=s.previous;if(u===ir)s.previous=o;else for(let l in o)u[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Wt(s,o,u,l){const d=this.declaredInputs[u],f=Gs(s)||function ws(s,o){return s[Bn]=o}(s,{previous:ir,current:null}),m=f.current||(f.current={}),_=f.previous,E=_[d];m[d]=new Vt(E&&E.currentValue,o,_===ir),s[l]=o}At.ngInherit=!0;const Bn="__ngSimpleChanges__";function Gs(s){return s[Bn]||null}const cr=function(s,o,u){};function Yt(s){for(;Array.isArray(s);)s=s[$t];return s}function Am(s,o){return Yt(o[s])}function hi(s,o){return Yt(o[s.index])}function Sm(s,o){return s.data[o]}function vo(s,o){return s[o]}function xi(s,o){const u=o[s];return sn(u)?u:u[$t]}function qo(s,o){return null==o?null:s[o]}function RI(s){s[vs]=0}function Ol(s){1024&s[Ze]||(s[Ze]|=1024,PI(s,1))}function Zu(s){1024&s[Ze]&&(s[Ze]&=-1025,PI(s,-1))}function PI(s,o){let u=s[xt];if(null===u)return;u[$r]+=o;let l=u;for(u=u[xt];null!==u&&(1===o&&1===l[$r]||-1===o&&0===l[$r]);)u[$r]+=o,l=u,u=u[xt]}const ot={lFrame:xm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Nl(){return ot.bindingsEnabled}function Ts(){return null!==ot.skipHydrationRootTNode}function ce(){return ot.lFrame.lView}function Rt(){return ot.lFrame.tView}function NI(s){return ot.lFrame.contextLView=s,s[en]}function kI(s){return ot.lFrame.contextLView=null,s}function lr(){let s=FI();for(;null!==s&&64===s.type;)s=s.parent;return s}function FI(){return ot.lFrame.currentTNode}function Cs(s,o){const u=ot.lFrame;u.currentTNode=s,u.isParent=o}function Ko(){return ot.lFrame.isParent}function Hh(){ot.lFrame.isParent=!1}function wr(){const s=ot.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Fa(){return ot.lFrame.bindingIndex++}function nA(s,o){const u=ot.lFrame;u.bindingIndex=u.bindingRootIndex=s,Rm(o)}function Rm(s){ot.lFrame.currentDirectiveIndex=s}function UI(){return ot.lFrame.currentQueryIndex}function Mm(s){ot.lFrame.currentQueryIndex=s}function rA(s){const o=s[Pe];return 2===o.type?o.declTNode:1===o.type?s[Rn]:null}function BI(s,o,u){if(u&at.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&at.Host||(d=rA(f),null===d||(f=f[es],10&d.type))););if(null===d)return!1;o=d,s=f}const l=ot.lFrame=iA();return l.currentTNode=o,l.lView=s,!0}function qh(s){const o=iA(),u=s[Pe];ot.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function iA(){const s=ot.lFrame,o=null===s?null:s.child;return null===o?xm(s):o}function xm(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Om(){const s=ot.lFrame;return ot.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const jI=Om;function Nm(){const s=Om();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Gr(){return ot.lFrame.selectedIndex}function La(s){ot.lFrame.selectedIndex=s}function an(){const s=ot.lFrame;return Sm(s.tView,s.selectedIndex)}let Lm=!0;function Va(){return Lm}function wo(s){Lm=s}function Wh(s,o){for(let u=o.directiveStart,l=o.directiveEnd;u<l;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:E,ngAfterViewChecked:C,ngOnDestroy:R}=f;m&&(s.contentHooks??=[]).push(-u,m),_&&((s.contentHooks??=[]).push(u,_),(s.contentCheckHooks??=[]).push(u,_)),E&&(s.viewHooks??=[]).push(-u,E),C&&((s.viewHooks??=[]).push(u,C),(s.viewCheckHooks??=[]).push(u,C)),null!=R&&(s.destroyHooks??=[]).push(u,R)}}function Kh(s,o,u){kl(s,o,3,u)}function Yh(s,o,u,l){(3&s[Ze])===u&&kl(s,o,u,l)}function Vm(s,o){let u=s[Ze];(3&u)===o&&(u&=8191,u+=1,s[Ze]=u)}function kl(s,o,u,l){const f=l??-1,m=o.length-1;let _=0;for(let E=void 0!==l?65535&s[vs]:0;E<m;E++)if("number"==typeof o[E+1]){if(_=o[E],null!=l&&_>=l)break}else o[E]<0&&(s[vs]+=65536),(_<f||-1==f)&&(uA(s,u,o,E),s[vs]=(4294901760&s[vs])+E+2),E++}function GI(s,o){cr(4,s,o);const u=Hr(null);try{o.call(s)}finally{Hr(u),cr(5,s,o)}}function uA(s,o,u,l){const d=u[l]<0,f=u[l+1],_=s[d?-u[l]:u[l]];d?s[Ze]>>13<s[vs]>>16&&(3&s[Ze])===o&&(s[Ze]+=8192,GI(_,f)):GI(_,f)}const zs=-1;class Xu{constructor(o,u,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function jm(s){return s!==zs}function Fl(s){return 32767&s}function Qh(s,o){let u=function zI(s){return s>>16}(s),l=o;for(;u>0;)l=l[es],u--;return l}let qI=!0;function Zh(s){const o=qI;return qI=s,o}const $m=255,hA=5;let KI=0;const dr={};function Hm(s,o){const u=pA(s,o);if(-1!==u)return u;const l=o[Pe];l.firstCreatePass&&(s.injectorIndex=o.length,YI(l.data,s),YI(o,null),YI(l.blueprint,null));const d=Ll(s,o),f=s.injectorIndex;if(jm(d)){const m=Fl(d),_=Qh(d,o),E=_[Pe].data;for(let C=0;C<8;C++)o[f+C]=_[m+C]|E[m+C]}return o[f+8]=d,f}function YI(s,o){s.push(0,0,0,0,0,0,0,0,o)}function pA(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ll(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,d=o;for(;null!==d;){if(l=tw(d),null===l)return zs;if(u++,d=d[es],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return zs}function Jh(s,o,u){!function fA(s,o,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(_r)&&(l=u[_r]),null==l&&(l=u[_r]=KI++);const d=l&$m;o.data[s+(d>>hA)]|=1<<d}(s,o,u)}function QI(s,o,u){if(u&at.Optional||void 0!==s)return s;Qe()}function ZI(s,o,u,l){if(u&at.Optional&&void 0===l&&(l=null),!(u&(at.Self|at.Host))){const d=s[ar],f=bn(void 0);try{return d?d.get(o,l,u&at.Optional):fs(o,l,u&at.Optional)}finally{bn(f)}}return QI(l,0,u)}function gA(s,o,u,l=at.Default,d){if(null!==s){if(2048&o[Ze]&&!(l&at.Self)){const m=function vA(s,o,u,l,d){let f=s,m=o;for(;null!==f&&null!==m&&2048&m[Ze]&&!(512&m[Ze]);){const _=zm(f,m,u,l|at.Self,dr);if(_!==dr)return _;let E=f.parent;if(!E){const C=m[$o];if(C){const R=C.get(u,dr,l);if(R!==dr)return R}E=tw(m),m=m[es]}f=E}return d}(s,o,u,l,dr);if(m!==dr)return m}const f=zm(s,o,u,l,dr);if(f!==dr)return f}return ZI(o,u,l,d)}function zm(s,o,u,l,d){const f=function hN(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(_r)?s[_r]:void 0;return"number"==typeof o?o>=0?o&$m:XI:o}(u);if("function"==typeof f){if(!BI(o,s,l))return l&at.Host?QI(d,0,l):ZI(o,u,l,d);try{let m;if(m=f(l),null!=m||l&at.Optional)return m;Qe()}finally{jI()}}else if("number"==typeof f){let m=null,_=pA(s,o),E=zs,C=l&at.Host?o[qt][Rn]:null;for((-1===_||l&at.SkipSelf)&&(E=-1===_?Ll(s,o):o[_+8],E!==zs&&_A(l,!1)?(m=o[Pe],_=Fl(E),o=Qh(E,o)):_=-1);-1!==_;){const R=o[Pe];if(JI(f,_,R.data)){const O=mA(_,o,u,m,l,C);if(O!==dr)return O}E=o[_+8],E!==zs&&_A(l,o[Pe].data[_+8]===C)&&JI(f,_,o)?(m=R,_=Fl(E),o=Qh(E,o)):_=-1}}return d}function mA(s,o,u,l,d,f){const m=o[Pe],_=m.data[s+8],R=qm(_,m,u,null==l?rs(_)&&qI:l!=m&&0!=(3&_.type),d&at.Host&&f===_);return null!==R?ec(o,m,R,_):dr}function qm(s,o,u,l,d){const f=s.providerIndexes,m=o.data,_=1048575&f,E=s.directiveStart,R=f>>20,U=d?_+R:s.directiveEnd;for(let B=l?_:_+R;B<U;B++){const Q=m[B];if(B<E&&u===Q||B>=E&&Q.type===u)return B}if(d){const B=m[E];if(B&&Ir(B)&&B.type===u)return E}return null}function ec(s,o,u,l){let d=s[u];const f=o.data;if(function cA(s){return s instanceof Xu}(d)){const m=d;m.resolving&&function De(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new H(-200,`Circular dependency in DI detected for ${s}${u}`)}(function we(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ue(s)}(f[u]));const _=Zh(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?bn(m.injectImpl):null;BI(s,l,at.Default);try{d=s[u]=m.factory(void 0,f,s,l),o.firstCreatePass&&u>=l.directiveStart&&function HI(s,o,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(l){const m=Et(o);(u.preOrderHooks??=[]).push(s,m),(u.preOrderCheckHooks??=[]).push(s,m)}d&&(u.preOrderHooks??=[]).push(0-s,d),f&&((u.preOrderHooks??=[]).push(s,f),(u.preOrderCheckHooks??=[]).push(s,f))}(u,f[u],o)}finally{null!==C&&bn(C),Zh(_),m.resolving=!1,jI()}}return d}function JI(s,o,u){return!!(u[o+(s>>hA)]&1<<s)}function _A(s,o){return!(s&at.Self||s&at.Host&&o)}class qr{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,l){return gA(this._tNode,this._lView,o,Ki(l),u)}}function XI(){return new qr(lr(),ce())}function ew(s){return rr(()=>{const o=s.prototype.constructor,u=o[mr]||Wm(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const f=d[mr]||Wm(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Wm(s){return Re(s)?()=>{const o=Wm(Y(s));return o&&o()}:ci(s)}function tw(s){const o=s[Pe],u=o.type;return 2===u?o.declTNode:1===u?s[Rn]:null}function Km(s){return function Gm(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const f=u[d];if(Bs(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(lr(),s)}const nc="__parameters__";function Ul(s,o,u){return rr(()=>{const l=function nw(s){return function(...u){if(s){const l=s(...u);for(const d in l)this[d]=l[d]}}}(o);function d(...f){if(this instanceof d)return l.apply(this,f),this;const m=new d(...f);return _.annotation=m,_;function _(E,C,R){const O=E.hasOwnProperty(nc)?E[nc]:Object.defineProperty(E,nc,{value:[]})[nc];for(;O.length<=R;)O.push(null);return(O[R]=O[R]||[]).push(m),E}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}function ic(s,o){s.forEach(u=>Array.isArray(u)?ic(u,o):o(u))}function sw(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function ef(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Bl(s,o){const u=[];for(let l=0;l<s;l++)u.push(o);return u}function fi(s,o,u){let l=Ba(s,o);return l>=0?s[1|l]=u:(l=~l,function ow(s,o,u,l){let d=s.length;if(d==o)s.push(u,l);else if(1===d)s.push(l,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=l}}(s,l,o,u)),l}function tf(s,o){const u=Ba(s,o);if(u>=0)return s[1|u]}function Ba(s,o){return function Zn(s,o,u){let l=0,d=s.length>>u;for(;d!==l;){const f=l+(d-l>>1),m=s[f<<u];if(o===m)return f<<u;m>o?d=f:l=f+1}return~(d<<u)}(s,o,1)}const Jm=kn(Ul("Optional"),8),sc=kn(Ul("SkipSelf"),4);function Qt(s){return 128==(128&s.flags)}var qs=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(qs||{});const $l=new Map;let St=0;const sf="__ngContext__";function Tr(s,o){sn(o)?(s[sf]=o[ts],function VA(s){$l.set(s[ts],s)}(o)):s[sf]=o}let a_;function u_(s,o){return a_(s,o)}function $a(s){const o=s[xt];return Kn(o)?o[xt]:o}function Aw(s){return uf(s[Xi])}function Sw(s){return uf(s[ct])}function uf(s){for(;null!==s&&!Kn(s);)s=s[ct];return s}function Ha(s,o,u,l,d){if(null!=l){let f,m=!1;Kn(l)?f=l:sn(l)&&(m=!0,l=l[$t]);const _=Yt(l);0===s&&null!==u?null==d?xw(o,u,_):za(o,u,_,d||null,!0):1===s&&null!==u?za(o,u,_,d||null,!0):2===s?function hf(s,o,u){const l=df(s,o);l&&function QA(s,o,u,l){s.removeChild(o,u,l)}(s,l,o,u)}(o,_,m):3===s&&o.destroyNode(_),null!=f&&function eS(s,o,u,l,d){const f=u[Er];f!==Yt(u)&&Ha(o,s,l,f,d);for(let _=gn;_<u.length;_++){const E=u[_];Fi(E[Pe],E,s,o,l,f)}}(o,s,f,u,d)}}function zl(s,o,u){return s.createElement(o,u)}function Pw(s,o){const u=s[$s],l=u.indexOf(o);Zu(o),u.splice(l,1)}function lf(s,o){if(s.length<=gn)return;const u=gn+o,l=s[u];if(l){const d=l[mo];null!==d&&d!==s&&Pw(d,l),o>0&&(s[u-1][ct]=l[ct]);const f=ef(s,gn+o);!function Ga(s,o){Fi(s,o,o[et],2,null,null),o[$t]=null,o[Rn]=null}(l[Pe],l);const m=f[Mr];null!==m&&m.detachView(f[Pe]),l[xt]=null,l[ct]=null,l[Ze]&=-129}return l}function c_(s,o){if(!(256&o[Ze])){const u=o[et];o[ui]&&Uh(o[ui]),o[Ri]&&Uh(o[Ri]),u.destroyNode&&Fi(s,o,u,3,null,null),function zA(s){let o=s[Xi];if(!o)return l_(s[Pe],s);for(;o;){let u=null;if(sn(o))u=o[Xi];else{const l=o[gn];l&&(u=l)}if(!u){for(;o&&!o[ct]&&o!==s;)sn(o)&&l_(o[Pe],o),o=o[xt];null===o&&(o=s),sn(o)&&l_(o[Pe],o),u=o&&o[ct]}o=u}}(o)}}function l_(s,o){if(!(256&o[Ze])){o[Ze]&=-129,o[Ze]|=256,function YA(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const d=o[u[l]];if(!(d instanceof Xu)){const f=u[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const _=d[f[m]],E=f[m+1];cr(4,_,E);try{E.call(_)}finally{cr(5,_,E)}}else{cr(4,d,f);try{f.call(d)}finally{cr(5,d,f)}}}}}(s,o),function KA(s,o){const u=s.cleanup,l=o[Pr];if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const m=u[f+3];m>=0?l[m]():l[-m].unsubscribe(),f+=2}else u[f].call(l[u[f+1]]);null!==l&&(o[Pr]=null);const d=o[ns];if(null!==d){o[ns]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(s,o),1===o[Pe].type&&o[et].destroy();const u=o[mo];if(null!==u&&Kn(o[xt])){u!==o[xt]&&Pw(u,o);const l=o[Mr];null!==l&&l.detachView(s)}!function UA(s){$l.delete(s[ts])}(o)}}function d_(s,o,u){return function Mw(s,o,u){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return u[$t];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:f}=s.data[l.directiveStart+d];if(f===qn.None||f===qn.Emulated)return null}return hi(l,u)}}(s,o.parent,u)}function za(s,o,u,l,d){s.insertBefore(o,u,l,d)}function xw(s,o,u){s.appendChild(o,u)}function Ow(s,o,u,l,d){null!==l?za(s,o,u,l,d):xw(s,o,u)}function df(s,o){return s.parentNode(o)}function Nw(s,o,u){return Fw(s,o,u)}let h_,Ka,g_,uc,Fw=function kw(s,o,u){return 40&s.type?hi(s,u):null};function qa(s,o,u,l){const d=d_(s,l,o),f=o[et],_=Nw(l.parent||o[Rn],l,o);if(null!=d)if(Array.isArray(u))for(let E=0;E<u.length;E++)Ow(f,d,u[E],_,!1);else Ow(f,d,u,_,!1);void 0!==h_&&h_(f,l,o,u,d)}function ql(s,o){if(null!==o){const u=o.type;if(3&u)return hi(o,s);if(4&u)return ac(-1,s[o.index]);if(8&u){const l=o.child;if(null!==l)return ql(s,l);{const d=s[o.index];return Kn(d)?ac(-1,d):Yt(d)}}if(32&u)return u_(o,s)()||Yt(s[o.index]);{const l=Xo(s,o);return null!==l?Array.isArray(l)?l[0]:ql($a(s[qt]),l):ql(s,o.next)}}return null}function Xo(s,o){return null!==o?s[qt][Rn].projection[o.projection]:null}function ac(s,o){const u=gn+s+1;if(u<o.length){const l=o[u],d=l[Pe].firstChild;if(null!==d)return ql(l,d)}return o[Er]}function pi(s,o,u,l,d,f,m){for(;null!=u;){const _=l[u.index],E=u.type;if(m&&0===o&&(_&&Tr(Yt(_),l),u.flags|=2),32!=(32&u.flags))if(8&E)pi(s,o,u.child,l,d,f,!1),Ha(o,s,d,_,f);else if(32&E){const C=u_(u,l);let R;for(;R=C();)Ha(o,s,d,R,f);Ha(o,s,d,_,f)}else 16&E?XA(s,o,l,u,d,f):Ha(o,s,d,_,f);u=m?u.projectionNext:u.next}}function Fi(s,o,u,l,d,f){pi(u,l,s.firstChild,o,d,f,!1)}function XA(s,o,u,l,d,f){const m=u[qt],E=m[Rn].projection[l.projection];if(Array.isArray(E))for(let C=0;C<E.length;C++)Ha(o,s,d,E[C],f);else{let C=E;const R=m[xt];Qt(l)&&(C.flags|=128),pi(s,o,C,R,d,f,!0)}}function Wa(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function f_(s,o,u){const{mergedAttrs:l,classes:d,styles:f}=u;null!==l&&Us(s,o,l),null!==d&&Wa(s,o,d),null!==f&&function tS(s,o,u){s.setAttribute(o,"style",u)}(s,o,f)}function Wl(s){return function Vw(){if(void 0===Ka&&(Ka=null,Gt.trustedTypes))try{Ka=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ka}()?.createHTML(s)||s}function nS(s){g_=s}function m_(s){return function ff(){if(void 0===uc&&(uc=null,Gt.trustedTypes))try{uc=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return uc}()?.createScriptURL(s)||s}class Co{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bt})`}}class Bw extends Co{getTypeName(){return"HTML"}}class rS extends Co{getTypeName(){return"Style"}}class iS extends Co{getTypeName(){return"Script"}}class sS extends Co{getTypeName(){return"URL"}}class jw extends Co{getTypeName(){return"ResourceURL"}}function Do(s){return s instanceof Co?s.changingThisBreaksApplicationSecurity:s}function cc(s,o){const u=function $w(s){return s instanceof Co&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${bt})`)}return u===o}function oS(s){return new Bw(s)}function aS(s){return new rS(s)}function uS(s){return new iS(s)}function cS(s){return new sS(s)}function Hw(s){return new jw(s)}class lS{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Wl(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class dS{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=Wl(o),u}}const y_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kl(s){return(s=String(s)).match(y_)?s:"unsafe:"+s}function bs(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Ya(...s){const o={};for(const u of s)for(const l in u)u.hasOwnProperty(l)&&(o[l]=!0);return o}const zw=bs("area,br,col,hr,img,wbr"),qw=bs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gf=bs("rp,rt"),Ks=Ya(zw,Ya(qw,bs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ya(gf,bs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ya(gf,qw)),Yl=bs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ww=Ya(Yl,bs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hS=bs("script,style,template");class v_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Ks.hasOwnProperty(u))return this.sanitizedSomething=!0,!hS.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=o.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),m=f.name,_=m.toLowerCase();if(!Ww.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let E=f.value;Yl[_]&&(E=Kl(E)),this.buf.push(" ",m,'="',mf(E),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Ks.hasOwnProperty(u)&&!zw.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(mf(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Kw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yw=/([^\#-~ |!])/g;function mf(s){return s.replace(/&/g,"&amp;").replace(Kw,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Yw,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ql;function E_(s,o){let u=null;try{Ql=Ql||function __(s){const o=new dS(s);return function Gw(){try{return!!(new window.DOMParser).parseFromString(Wl(""),"text/html")}catch{return!1}}()?new lS(o):o}(s);let l=o?String(o):"";u=Ql.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=u.innerHTML,u=Ql.getInertBodyElement(l)}while(l!==f);return Wl((new v_).sanitizeChildren(_f(u)||u))}finally{if(u){const l=_f(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function _f(s){return"content"in s&&function fS(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Qa=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Qa||{});function I_(s){const o=Za();return o?o.sanitize(Qa.URL,s)||"":cc(s,"URL")?Do(s):Kl(ue(s))}function Ys(s){const o=Za();if(o)return m_(o.sanitize(Qa.RESOURCE_URL,s)||"");if(cc(s,"ResourceURL"))return m_(Do(s));throw new H(904,!1)}function yf(s,o,u){return function T_(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Ys:I_}(o,u)(s)}function Za(){const s=ce();return s&&s[Ji].sanitizer}class Ot{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=mt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Zl=new Ot("ENVIRONMENT_INITIALIZER"),Jw=new Ot("INJECTOR",-1),Xw=new Ot("INJECTOR_DEF_TYPES");class Jl{get(o,u=si){if(u===si){const l=new Error(`NullInjectorError: No provider for ${oe(o)}!`);throw l.name="NullInjectorError",l}return u}}function vf(s){return{\u0275providers:s}}function yS(...s){return{\u0275providers:eT(0,s),\u0275fromNgModule:!0}}function eT(s,...o){const u=[],l=new Set;let d;const f=m=>{u.push(m)};return ic(o,m=>{const _=m;If(_,f,[],l)&&(d||=[],d.push(_))}),void 0!==d&&Ef(d,f),u}function Ef(s,o){for(let u=0;u<s.length;u++){const{ngModule:l,providers:d}=s[u];ea(d,f=>{o(f,l)})}}function If(s,o,u,l){if(!(s=Y(s)))return!1;let d=null,f=No(s);const m=!f&&st(s);if(f||m){if(m&&!m.standalone)return!1;d=s}else{const E=s.ngModule;if(f=No(E),!f)return!1;d=E}const _=l.has(d);if(m){if(_)return!1;if(l.add(d),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const C of E)If(C,o,u,l)}}else{if(!f)return!1;{if(null!=f.imports&&!_){let C;l.add(d);try{ic(f.imports,R=>{If(R,o,u,l)&&(C||=[],C.push(R))})}finally{}void 0!==C&&Ef(C,o)}if(!_){const C=ci(d)||(()=>new d);o({provide:d,useFactory:C,deps:Dt},d),o({provide:Xw,useValue:d,multi:!0},d),o({provide:Zl,useValue:()=>Xt(d),multi:!0},d)}const E=f.providers;if(null!=E&&!_){const C=s;ea(E,R=>{o(R,C)})}}}return d!==s&&void 0!==s.providers}function ea(s,o){for(let u of s)qe(u)&&(u=u.\u0275providers),Array.isArray(u)?ea(u,o):o(u)}const lc=K({provide:String,useValue:K});function wf(s){return null!==s&&"object"==typeof s&&lc in s}function ta(s){return"function"==typeof s}const bo=new Ot("Set Injector scope."),Xl={},rT={};let C_;function Tf(){return void 0===C_&&(C_=new Jl),C_}class Or{}class dc extends Or{get destroyed(){return this._destroyed}constructor(o,u,l,d){super(),this.parent=u,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nd(o,m=>this.processProvider(m)),this.records.set(Jw,na(void 0,this)),d.has("environment")&&this.records.set(Or,na(void 0,this));const f=this.records.get(bo);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Xw.multi,Dt,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of o)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const u=je(this),l=bn(void 0);try{return o()}finally{je(u),bn(l)}}get(o,u=si,l=at.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(ms))return o[ms](this);l=Ki(l);const f=je(this),m=bn(void 0);try{if(!(l&at.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function A_(s){return"function"==typeof s||"object"==typeof s&&s instanceof Ot}(o)&&zn(o);E=C&&this.injectableDefInScope(C)?na(ed(o),Xl):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&at.Self?Tf():this.parent).get(o,u=l&at.Optional&&u===si?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[wi]=_[wi]||[]).unshift(oe(o)),f)throw _;return function Vs(s,o,u,l){const d=s[wi];throw o[oi]&&d.unshift(o[oi]),s.message=function Vo(s,o,u,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=oe(o);if(Array.isArray(o))d=o.map(oe).join(" -> ");else if("object"==typeof o){let f=[];for(let m in o)if(o.hasOwnProperty(m)){let _=o[m];f.push(m+":"+("string"==typeof _?JSON.stringify(_):oe(_)))}d=`{${f.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${s.replace(Ou,"\n  ")}`}("\n"+s.message,d,u,l),s.ngTokenPath=d,s[wi]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{bn(m),je(f)}}resolveInjectorInitializers(){const o=je(this),u=bn(void 0);try{const d=this.get(Zl.multi,Dt,at.Self);for(const f of d)f()}finally{je(o),bn(u)}}toString(){const o=[],u=this.records;for(const l of u.keys())o.push(oe(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(o){let u=ta(o=Y(o))?o:Y(o&&o.provide);const l=function D_(s){return wf(s)?na(void 0,s.useValue):na(Df(s),Xl)}(o);if(ta(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=na(void 0,Xl,!0),d.factory=()=>Lo(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,l)}hydrate(o,u){return u.value===Xl&&(u.value=rT,u.value=u.factory()),"object"==typeof u.value&&u.value&&function b_(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=Y(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(o){const u=this._onDestroyHooks.indexOf(o);-1!==u&&this._onDestroyHooks.splice(u,1)}}function ed(s){const o=zn(s),u=null!==o?o.factory:ci(s);if(null!==u)return u;if(s instanceof Ot)throw new H(204,!1);if(s instanceof Function)return function Cf(s){const o=s.length;if(o>0)throw Bl(o,"?"),new H(204,!1);const u=function zi(s){return s&&(s[vn]||s[qi])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new H(204,!1)}function Df(s,o,u){let l;if(ta(s)){const d=Y(s);return ci(d)||ed(d)}if(wf(s))l=()=>Y(s.useValue);else if(function nT(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Lo(s.deps||[]));else if(function tT(s){return!(!s||!s.useExisting)}(s))l=()=>Xt(Y(s.useExisting));else{const d=Y(s&&(s.useClass||s.provide));if(!function td(s){return!!s.deps}(s))return ci(d)||ed(d);l=()=>new d(...Lo(s.deps))}return l}function na(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function nd(s,o){for(const u of s)Array.isArray(u)?nd(u,o):u&&qe(u)?nd(u.\u0275providers,o):o(u)}const iT=new Ot("AppId",{providedIn:"root",factory:()=>ES}),ES="ng",sT=new Ot("Platform Initializer"),rd=new Ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aT=new Ot("CSP nonce",{providedIn:"root",factory:()=>function Ws(){if(void 0!==g_)return g_;if(typeof document<"u")return document;throw new H(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Sf=(s,o,u)=>null;function x_(s,o,u=!1){return Sf(s,o,u)}class DS{}class lT{}class bS{resolveComponentFactory(o){throw function Mf(s){const o=Error(`No component factory found for ${oe(s)}.`);return o.ngComponent=s,o}(o)}}let xf=(()=>{class s{static#e=this.NULL=new bS}return s})();function V_(){return mn(lr(),ce())}function mn(s,o){return new ud(hi(s,o))}let ud=(()=>{class s{constructor(u){this.nativeElement=u}static#e=this.__NG_ELEMENT_ID__=V_}return s})();function Wr(s){return s instanceof ud?s.nativeElement:s}class hT{}let fT=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function AS(){const s=ce(),u=xi(lr().index,s);return(sn(u)?u:s)[et]}()}return s})(),SS=(()=>{class s{static#e=this.\u0275prov=mt({token:s,providedIn:"root",factory:()=>null})}return s})();class pT{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const RS=new pT("16.2.8"),cd={};function Of(s,o=null,u=null,l){const d=vT(s,o,u,l);return d.resolveInjectorInitializers(),d}function vT(s,o=null,u=null,l,d=new Set){const f=[u||Dt,yS(s)];return l=l||("object"==typeof s?void 0:oe(s)),new dc(f,o||Tf(),l||null,d)}let Li=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=si;static#t=this.NULL=new Jl;static create(u,l){if(Array.isArray(u))return Of({name:""},l,u,"");{const d=u.name??"";return Of({name:d},u.parent,u.providers,d)}}static#n=this.\u0275prov=mt({token:s,providedIn:"any",factory:()=>Xt(Jw)});static#r=this.__NG_ELEMENT_ID__=-1}return s})();function B_(s){return s.ngOriginalError}class ra{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&B_(o);for(;u&&B_(u);)u=B_(u);return u||null}}function G_(s){return o=>{setTimeout(s,void 0,o)}}const os=class H_ extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,l){let d=o,f=u||(()=>null),m=l;if(o&&"object"==typeof o){const E=o;d=E.next?.bind(E),f=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(f=G_(f),d&&(d=G_(d)),m&&(m=G_(m)));const _=super.subscribe({next:d,error:f,complete:m});return o instanceof j.w0&&o.add(_),_}};function IT(...s){}class jn{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new os(!1),this.onMicrotaskEmpty=new os(!1),this.onStable=new os(!1),this.onError=new os(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function z_(){const s="function"==typeof Gt.requestAnimationFrame;let o=Gt[s?"requestAnimationFrame":"setTimeout"],u=Gt[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&u){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=u[Zone.__symbol__("OriginalDelegate")];d&&(u=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function q_(s){const o=()=>{!function kS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,hd(s),s.isCheckStableRunning=!0,dd(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),hd(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,f,m,_)=>{if(function Y_(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(_))return u.invokeTask(d,f,m,_);try{return W_(s),u.invokeTask(d,f,m,_)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),K_(s)}},onInvoke:(u,l,d,f,m,_,E)=>{try{return W_(s),u.invoke(d,f,m,_,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),K_(s)}},onHasTask:(u,l,d,f)=>{u.hasTask(d,f),l===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,hd(s),dd(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,l,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jn.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(jn.isInAngularZone())throw new H(909,!1)}run(o,u,l){return this._inner.run(o,u,l)}runTask(o,u,l,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,o,NS,IT,IT);try{return f.runTask(m,u,l)}finally{f.cancelTask(m)}}runGuarded(o,u,l){return this._inner.runGuarded(o,u,l)}runOutsideAngular(o){return this._outer.run(o)}}const NS={};function dd(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function hd(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function W_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function K_(s){s._nesting--,dd(s)}class FS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new os,this.onMicrotaskEmpty=new os,this.onStable=new os,this.onError=new os}run(o,u,l){return o.apply(u,l)}runGuarded(o,u,l){return o.apply(u,l)}runOutsideAngular(o){return o()}runTask(o,u,l,d){return o.apply(u,l)}}const Nf=new Ot("",{providedIn:"root",factory:wT});function wT(){const s=Lt(jn);let o=!0;const u=new he.y(d=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{d.next(o),d.complete()})}),l=new he.y(d=>{let f;s.runOutsideAngular(()=>{f=s.onStable.subscribe(()=>{jn.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const m=s.onUnstable.subscribe(()=>{jn.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});return(0,ae.T)(u,l.pipe((0,Ee.B)()))}function as(s){return s instanceof Function?s():s}let Z_=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=mt({token:s,providedIn:"root",factory:()=>new s})}return s})();function fd(s){for(;s;){s[Ze]|=64;const o=$a(s);if(Go(s)&&!o)return s;s=o}return null}const US=new Ot("",{providedIn:"root",factory:()=>!1});let Lf=null;function HS(s,o){return s[o]??qS()}function GS(s,o){const u=qS();u.producerNode?.length&&(s[o]=Lf,u.lView=s,Lf=zS())}const XN={...Sl,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{fd(s.lView)},lView:null};function zS(){return Object.create(XN)}function qS(){return Lf??=zS(),Lf}const dt={};function ty(s){ny(Rt(),ce(),Gr()+s,!1)}function ny(s,o,u,l){if(!l)if(3==(3&o[Ze])){const f=s.preOrderCheckHooks;null!==f&&Kh(o,f,u)}else{const f=s.preOrderHooks;null!==f&&Yh(o,f,0,u)}La(u)}function pd(s,o=at.Default){const u=ce();return null===u?Xt(s,o):gA(lr(),u,Y(s),o)}function ry(){throw new Error("invalid")}function Vf(s,o,u,l,d,f,m,_,E,C,R){const O=o.blueprint.slice();return O[$t]=d,O[Ze]=140|l,(null!==C||s&&2048&s[Ze])&&(O[Ze]|=2048),RI(O),O[xt]=O[es]=s,O[en]=u,O[Ji]=m||s&&s[Ji],O[et]=_||s&&s[et],O[ar]=E||s&&s[ar]||null,O[Rn]=f,O[ts]=function Iw(){return St++}(),O[ai]=R,O[$o]=C,O[qt]=2==o.type?s[qt]:O,O}function nu(s,o,u,l,d){let f=s.data[o];if(null===f)f=function bT(s,o,u,l,d){const f=FI(),m=Ko(),E=s.data[o]=function WS(s,o,u,l,d,f){let m=o?o.injectorIndex:-1,_=0;return Ts()&&(_|=128),{type:u,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,u,o,l,d);return null===s.firstChild&&(s.firstChild=E),null!==f&&(m?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E,E.prev=f)),E}(s,o,u,l,d),function tA(){return ot.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=u,f.value=l,f.attrs=d;const m=function Wo(){const s=ot.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Cs(f,!0),f}function ia(s,o,u,l){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function AT(s,o,u,l,d){const f=HS(o,ui),m=Gr(),_=2&l;try{La(-1),_&&o.length>vt&&ny(s,o,vt,!1),cr(_?2:0,d);const C=_?f:null,R=Im(C);try{null!==C&&(C.dirty=!1),u(l,d)}finally{Vh(C,R)}}finally{_&&null===o[ui]&&GS(o,ui),La(m),cr(_?3:1,d)}}function gc(s,o,u){if(_o(o)){const l=Hr(null);try{const f=o.directiveEnd;for(let m=o.directiveStart;m<f;m++){const _=s.data[m];_.contentQueries&&_.contentQueries(1,u[m],m)}}finally{Hr(l)}}}function Nr(s,o,u){Nl()&&(function ly(s,o,u,l){const d=u.directiveStart,f=u.directiveEnd;rs(u)&&function gy(s,o,u){const l=hi(o,s),d=iy(u);let m=16;u.signals?m=4096:u.onPush&&(m=64);const _=_c(s,Vf(s,d,null,m,l,o,null,s[Ji].rendererFactory.createRenderer(l,u),null,null,null));s[o.index]=_}(o,u,s.data[d+u.componentOffset]),s.firstCreatePass||Hm(u,o),Tr(l,o);const m=u.initialInputs;for(let _=d;_<f;_++){const E=s.data[_],C=ec(o,s,_,u);Tr(C,o),null!==m&&ZS(0,_-d,C,E,0,m),Ir(E)&&(xi(u.index,o)[en]=ec(o,s,_,u))}}(s,o,u,hi(u,o)),64==(64&u.flags)&&dy(s,o,u))}function Kr(s,o,u=hi){const l=o.localNames;if(null!==l){let d=o.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],_=-1===m?u(o,s):s[m];s[d++]=_}}}function iy(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=sa(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function sa(s,o,u,l,d,f,m,_,E,C,R){const O=vt+l,U=O+d,B=function sy(s,o){const u=[];for(let l=0;l<o;l++)u.push(l<s?null:dt);return u}(O,U),Q="function"==typeof C?C():C;return B[Pe]={type:s,blueprint:B,template:u,queries:null,viewQuery:_,declTNode:o,data:B.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:Q,incompleteFirstPass:!1,ssrId:R}}let Xs=s=>null;function RT(s,o,u,l){for(let d in s)if(s.hasOwnProperty(d)){u=null===u?{}:u;const f=s[d];null===l?mc(u,o,d,f):l.hasOwnProperty(d)&&mc(u,o,l[d],f)}return u}function mc(s,o,u,l){s.hasOwnProperty(u)?s[u].push(o,l):s[u]=[o,l]}function Vi(s,o,u,l,d,f,m,_){const E=hi(o,u);let R,C=o.inputs;!_&&null!=C&&(R=C[l])?(_y(s,u,R,l,d),rs(o)&&function KS(s,o){const u=xi(o,s);16&u[Ze]||(u[Ze]|=64)}(u,o.index)):3&o.type&&(l=function PT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=m?m(d,o.value||"",l):d,f.setProperty(E,l,d))}function md(s,o,u,l){if(Nl()){const d=null===l?null:{"":-1},f=function _d(s,o){const u=s.directiveRegistry;let l=null,d=null;if(u)for(let f=0;f<u.length;f++){const m=u[f];if(jr(o,m.selectors,!1))if(l||(l=[]),Ir(m))if(null!==m.findHostDirectiveDefs){const _=[];d=d||new Map,m.findHostDirectiveDefs(m,_,d),l.unshift(..._,m),hy(s,o,_.length)}else l.unshift(m),hy(s,o,0);else d=d||new Map,m.findHostDirectiveDefs?.(m,l,d),l.push(m)}return null===l?null:[l,d]}(s,u);let m,_;null===f?m=_=null:[m,_]=f,null!==m&&uy(s,o,u,m,d,_),d&&function fy(s,o,u){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new H(-301,!1);l.push(o[d],f)}}}(u,l,d)}u.mergedAttrs=ft(u.mergedAttrs,u.attrs)}function uy(s,o,u,l,d,f){for(let C=0;C<l.length;C++)Jh(Hm(u,o),s,l[C].type);!function py(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,l.length);for(let C=0;C<l.length;C++){const R=l[C];R.providersResolver&&R.providersResolver(R)}let m=!1,_=!1,E=ia(s,o,l.length,null);for(let C=0;C<l.length;C++){const R=l[C];u.mergedAttrs=ft(u.mergedAttrs,R.hostAttrs),QS(s,u,o,E,R),MT(E,R,d),null!==R.contentQueries&&(u.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=64);const O=R.type.prototype;!m&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((s.preOrderHooks??=[]).push(u.index),m=!0),!_&&(O.ngOnChanges||O.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(u.index),_=!0),E++}!function ay(s,o,u){const d=o.directiveEnd,f=s.data,m=o.attrs,_=[];let E=null,C=null;for(let R=o.directiveStart;R<d;R++){const O=f[R],U=u?u.get(O):null,Q=U?U.outputs:null;E=RT(O.inputs,R,E,U?U.inputs:null),C=RT(O.outputs,R,C,Q);const ge=null===E||null===m||pn(o)?null:vd(E,R,m);_.push(ge)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=8),E.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=_,o.inputs=E,o.outputs=C}(s,u,f)}function dy(s,o,u){const l=u.directiveStart,d=u.directiveEnd,f=u.index,m=function zh(){return ot.lFrame.currentDirectiveIndex}();try{La(f);for(let _=l;_<d;_++){const E=s.data[_],C=o[_];Rm(_),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&YS(E,C)}}finally{La(-1),Rm(m)}}function YS(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function hy(s,o,u){o.componentOffset=u,(s.components??=[]).push(o.index)}function MT(s,o,u){if(u){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)u[o.exportAs[l]]=s;Ir(o)&&(u[""]=s)}}function QS(s,o,u,l,d){s.data[l]=d;const f=d.factory||(d.factory=ci(d.type)),m=new Xu(f,Ir(d),pd);s.blueprint[l]=m,u[l]=m,function cy(s,o,u,l,d){const f=d.hostBindings;if(f){let m=s.hostBindingOpCodes;null===m&&(m=s.hostBindingOpCodes=[]);const _=~o.index;(function Ao(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(m)!=_&&m.push(_),m.push(u,l,f)}}(s,o,l,ia(s,u,d.hostVars,dt),d)}function eo(s,o,u,l,d,f){const m=hi(s,o);!function yd(s,o,u,l,d,f,m){if(null==f)s.removeAttribute(o,d,u);else{const _=null==m?ue(f):m(f,l||"",d);s.setAttribute(o,d,_,u)}}(o[et],m,f,s.value,u,l,d)}function ZS(s,o,u,l,d,f){const m=f[o];if(null!==m)for(let _=0;_<m.length;)Uf(l,u,m[_++],m[_++],m[_++])}function Uf(s,o,u,l,d){const f=Hr(null);try{const m=s.inputTransforms;null!==m&&m.hasOwnProperty(l)&&(d=m[l].call(o,d)),null!==s.setInput?s.setInput(o,d,u,l):o[l]=d}finally{Hr(f)}}function vd(s,o,u){let l=null,d=0;for(;d<u.length;){const f=u[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(s.hasOwnProperty(f)){null===l&&(l=[]);const m=s[f];for(let _=0;_<m.length;_+=2)if(m[_]===o){l.push(f,m[_+1],u[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function JS(s,o,u,l){return[s,!0,!1,o,null,0,l,u,null,null,null]}function xT(s,o){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const f=u[l+1];if(-1!==f){const m=s.data[f];Mm(u[l]),m.contentQueries(2,o[f],f)}}}function _c(s,o){return s[Xi]?s[Si][ct]=o:s[Xi]=o,s[Si]=o,o}function Ed(s,o,u){Mm(0);const l=Hr(null);try{o(s,u)}finally{Hr(l)}}function OT(s){return s[Pr]||(s[Pr]=[])}function to(s){return s.cleanup||(s.cleanup=[])}function NT(s,o){const u=s[ar],l=u?u.get(ra,null):null;l&&l.handleError(o)}function _y(s,o,u,l,d){for(let f=0;f<u.length;){const m=u[f++],_=u[f++];Uf(s.data[m],o[m],l,_,d)}}function Id(s,o){const u=xi(o,s),l=u[Pe];!function yy(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])}(l,u);const d=u[$t];null!==d&&null===u[ai]&&(u[ai]=x_(d,u[ar])),vy(l,u,u[en])}function vy(s,o,u){qh(o);try{const l=s.viewQuery;null!==l&&Ed(1,l,u);const d=s.template;null!==d&&AT(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&xT(s,o),s.staticViewQueries&&Ed(2,s.viewQuery,u);const f=s.components;null!==f&&function Ey(s,o){for(let u=0;u<o.length;u++)Id(s,o[u])}(o,f)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[Ze]&=-5,Nm()}}let kT=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(u,l,d){const f=typeof Zone>"u"?null:Zone.current,m=function G(s,o,u){const l=Object.create($e);u&&(l.consumerAllowSignalWrites=!0),l.fn=s,l.schedule=o;const d=m=>{l.cleanupFn=m};return l.ref={notify:()=>Pl(l),run:()=>{if(l.dirty=!1,l.hasRun&&!Oa(l))return;l.hasRun=!0;const m=Im(l);try{l.cleanupFn(),l.cleanupFn=se,l.fn(d)}finally{Vh(l,m)}},cleanup:()=>l.cleanupFn()},l.ref}(u,C=>{this.all.has(C)&&this.queue.set(C,f)},d);let _;this.all.add(m),m.notify();const E=()=>{m.cleanup(),_?.(),this.all.delete(m),this.queue.delete(m)};return _=l?.onDestroy(E),{destroy:E}}flush(){if(0!==this.queue.size)for(const[u,l]of this.queue)this.queue.delete(u),l?l.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=mt({token:s,providedIn:"root",factory:()=>new s})}return s})();function jf(s,o,u){let l=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let m=0;m<o.length;m++){const _=o[m];"number"==typeof _?f=_:1==f?d=Ge(d,_):2==f&&(l=Ge(l,_+": "+o[++m]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=d:s.classesWithoutHost=d}function ru(s,o,u,l,d=!1){for(;null!==u;){const f=o[u.index];null!==f&&l.push(Yt(f)),Kn(f)&&yc(f,l);const m=u.type;if(8&m)ru(s,o,u.child,l);else if(32&m){const _=u_(u,o);let E;for(;E=_();)l.push(E)}else if(16&m){const _=Xo(o,u);if(Array.isArray(_))l.push(..._);else{const E=$a(o[qt]);ru(E[Pe],E,_,l,!0)}}u=d?u.projectionNext:u.next}return l}function yc(s,o){for(let u=gn;u<s.length;u++){const l=s[u],d=l[Pe].firstChild;null!==d&&ru(l[Pe],l,d,o)}s[Er]!==s[$t]&&o.push(s[Er])}function As(s,o,u,l=!0){const d=o[Ji],f=d.rendererFactory,m=d.afterRenderEventManager;f.begin?.(),m?.begin();try{ro(s,o,s.template,u)}catch(E){throw l&&NT(o,E),E}finally{f.end?.(),d.effectManager?.flush(),m?.end()}}function ro(s,o,u,l){const d=o[Ze];if(256!=(256&d)){o[Ji].effectManager?.flush(),qh(o);try{RI(o),function Gh(s){return ot.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&AT(s,o,u,2,l);const m=3==(3&d);if(m){const C=s.preOrderCheckHooks;null!==C&&Kh(o,C,null)}else{const C=s.preOrderHooks;null!==C&&Yh(o,C,0,null),Vm(o,0)}if(function LT(s){for(let o=Aw(s);null!==o;o=Sw(o)){if(!o[Uu])continue;const u=o[$s];for(let l=0;l<u.length;l++){Ol(u[l])}}}(o),eR(o,2),null!==s.contentQueries&&xT(s,o),m){const C=s.contentCheckHooks;null!==C&&Kh(o,C)}else{const C=s.contentHooks;null!==C&&Yh(o,C,1),Vm(o,1)}!function e1(s,o){const u=s.hostBindingOpCodes;if(null===u)return;const l=HS(o,Ri);try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)La(~f);else{const m=f,_=u[++d],E=u[++d];nA(_,m),l.dirty=!1;const C=Im(l);try{E(2,o[m])}finally{Vh(l,C)}}}}finally{null===o[Ri]&&GS(o,Ri),La(-1)}}(s,o);const _=s.components;null!==_&&Iy(o,_,0);const E=s.viewQuery;if(null!==E&&Ed(2,E,l),m){const C=s.viewCheckHooks;null!==C&&Kh(o,C)}else{const C=s.viewHooks;null!==C&&Yh(o,C,2),Vm(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Ze]&=-73,Zu(o)}finally{Nm()}}}function eR(s,o){for(let u=Aw(s);null!==u;u=Sw(u))for(let l=gn;l<u.length;l++)iu(u[l],o)}function $f(s,o,u){iu(xi(o,s),u)}function iu(s,o){if(!function Qu(s){return 128==(128&s[Ze])}(s))return;const u=s[Pe],l=s[Ze];if(80&l&&0===o||1024&l||2===o)ro(u,s,u.template,s[en]);else if(s[$r]>0){eR(s,1);const d=u.components;null!==d&&Iy(s,d,1)}}function Iy(s,o,u){for(let l=0;l<o.length;l++)$f(s,o[l],u)}class Ec{get rootNodes(){const o=this._lView,u=o[Pe];return ru(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[en]}set context(o){this._lView[en]=o}get destroyed(){return 256==(256&this._lView[Ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[xt];if(Kn(o)){const u=o[8],l=u?u.indexOf(this):-1;l>-1&&(lf(o,l),ef(u,l))}this._attachedToViewContainer=!1}c_(this._lView[Pe],this._lView)}onDestroy(o){!function MI(s,o){if(256==(256&s[Ze]))throw new H(911,!1);null===s[ns]&&(s[ns]=[]),s[ns].push(o)}(this._lView,o)}markForCheck(){fd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ze]&=-129}reattach(){this._lView[Ze]|=128}detectChanges(){As(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function GA(s,o){Fi(s,o,o[et],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=o}}class wy extends Ec{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;As(o[Pe],o,o[en],!1)}checkNoChanges(){}get context(){return null}}class Ty extends xf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=st(o);return new Ic(u,this.ngModule)}}function Cy(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class UT{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,l){l=Ki(l);const d=this.injector.get(o,cd,l);return d!==cd||u===cd?d:this.parentInjector.get(o,u,l)}}class Ic extends lT{get inputs(){const o=this.componentDef,u=o.inputTransforms,l=Cy(o.inputs);if(null!==u)for(const d of l)u.hasOwnProperty(d.propName)&&(d.transform=u[d.propName]);return l}get outputs(){return Cy(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function fm(s){return s.map(Pa).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,l,d){let f=(d=d||this.ngModule)instanceof Or?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new UT(o,f):o,_=m.get(hT,null);if(null===_)throw new H(407,!1);const O={rendererFactory:_,sanitizer:m.get(SS,null),effectManager:m.get(kT,null),afterRenderEventManager:m.get(Z_,null)},U=_.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",Q=l?function Ae(s,o,u,l){const f=l.get(US,!1)||u===qn.ShadowDom,m=s.selectRootElement(o,f);return function Js(s){Xs(s)}(m),m}(U,l,this.componentDef.encapsulation,m):zl(U,B,function VT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(B)),Ve=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ee=null;null!==Q&&(ee=x_(Q,m,!0));const tt=sa(0,null,null,1,0,null,null,null,null,null,null),_t=Vf(null,tt,null,Ve,null,null,O,U,m,null,ee);let Nt,br;qh(_t);try{const lo=this.componentDef;let Ms,OE=null;lo.findHostDirectiveDefs?(Ms=[],OE=new Map,lo.findHostDirectiveDefs(lo,Ms,OE),Ms.push(lo)):Ms=[lo];const PM=function t1(s,o){const u=s[Pe],l=vt;return s[l]=o,nu(u,l,2,"#host",null)}(_t,Q),NE=function tR(s,o,u,l,d,f,m){const _=d[Pe];!function nR(s,o,u,l){for(const d of s)o.mergedAttrs=ft(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(jf(o,o.mergedAttrs,!0),null!==u&&f_(l,u,o))}(l,s,o,m);let E=null;null!==o&&(E=x_(o,d[ar]));const C=f.rendererFactory.createRenderer(o,u);let R=16;u.signals?R=4096:u.onPush&&(R=64);const O=Vf(d,iy(u),null,R,d[s.index],s,f,C,null,null,E);return _.firstCreatePass&&hy(_,s,l.length-1),_c(d,O),d[s.index]=O}(PM,Q,lo,Ms,_t,O,U);br=Sm(tt,vt),Q&&function rR(s,o,u,l){if(l)Us(s,u,["ng-version",RS.full]);else{const{attrs:d,classes:f}=function yr(s){const o=[],u=[];let l=1,d=2;for(;l<s.length;){let f=s[l];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++l]):8===d&&u.push(f);else{if(!sr(d))break;d=f}l++}return{attrs:o,classes:u}}(o.selectors[0]);d&&Us(s,u,d),f&&f.length>0&&Wa(s,u,f.join(" "))}}(U,lo,Q,l),void 0!==u&&function jT(s,o,u){const l=s.projection=[];for(let d=0;d<o.length;d++){const f=u[d];l.push(null!=f?Array.from(f):null)}}(br,this.ngContentSelectors,u),Nt=function BT(s,o,u,l,d,f){const m=lr(),_=d[Pe],E=hi(m,d);uy(_,d,m,u,null,l);for(let R=0;R<u.length;R++)Tr(ec(d,_,m.directiveStart+R,m),d);dy(_,d,m),E&&Tr(E,d);const C=ec(d,_,m.directiveStart+m.componentOffset,m);if(s[en]=d[en]=C,null!==f)for(const R of f)R(C,o);return gc(_,m,s),C}(NE,lo,Ms,OE,_t,[iR]),vy(tt,_t,null)}finally{Nm()}return new Hf(this.componentType,Nt,mn(br,_t),_t,br)}}class Hf extends DS{constructor(o,u,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new wy(d),this.componentType=o}setInput(o,u){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),u))return;const f=this._rootLView;_y(f[Pe],f,d,o,u),this.previousInputValues.set(o,u),fd(xi(this._tNode.index,f))}}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function iR(){const s=lr();Wh(ce()[Pe],s)}function wd(s){let o=function $T(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const l=[s];for(;o;){let d;if(Ir(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new H(903,!1);d=o.\u0275dir}if(d){if(u){l.push(d);const m=s;m.inputs=Gf(s.inputs),m.inputTransforms=Gf(s.inputTransforms),m.declaredInputs=Gf(s.declaredInputs),m.outputs=Gf(s.outputs);const _=d.hostBindings;_&&HT(s,_);const E=d.viewQuery,C=d.contentQueries;if(E&&oR(s,E),C&&$n(s,C),X(s.inputs,d.inputs),X(s.declaredInputs,d.declaredInputs),X(s.outputs,d.outputs),null!==d.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),X(m.inputTransforms,d.inputTransforms)),Ir(d)&&d.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const _=f[m];_&&_.ngInherit&&_(s),_===wd&&(u=!1)}}o=Object.getPrototypeOf(o)}!function sR(s){let o=0,u=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=ft(d.hostAttrs,u=ft(u,d.hostAttrs))}}(l)}function Gf(s){return s===ir?{}:s===Dt?[]:s}function oR(s,o){const u=s.viewQuery;s.viewQuery=u?(l,d)=>{o(l,d),u(l,d)}:o}function $n(s,o){const u=s.contentQueries;s.contentQueries=u?(l,d,f)=>{o(l,d,f),u(l,d,f)}:o}function HT(s,o){const u=s.hostBindings;s.hostBindings=u?(l,d)=>{o(l,d),u(l,d)}:o}function KT(s){const o=s.inputConfig,u={};for(const l in o)if(o.hasOwnProperty(l)){const d=o[l];Array.isArray(d)&&d[2]&&(u[l]=d[2])}s.inputTransforms=u}function qf(s){return!!Wf(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Wf(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ss(s,o,u){return s[o]=u}function Cr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Cd(s,o,u,l){const d=ce();return Cr(d,Fa(),o)&&(Rt(),eo(an(),d,s,o,u,l)),Cd}function aa(s,o,u,l){return Cr(s,Fa(),u)?o+ue(u)+l:dt}function rp(s,o,u,l,d,f,m,_){const E=ce(),C=Rt(),R=s+vt,O=C.firstCreatePass?function o1(s,o,u,l,d,f,m,_,E){const C=o.consts,R=nu(o,s,4,m||null,qo(C,_));md(o,u,R,qo(C,E)),Wh(o,R);const O=R.tView=sa(2,R,l,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,C,null);return null!==o.queries&&(o.queries.template(o,R),O.queries=o.queries.embeddedTView(R)),R}(R,C,E,o,u,l,d,f,m):C.data[R];Cs(O,!1);const U=bd(C,E,O,s);Va()&&qa(C,E,U,O),Tr(U,E),_c(E,E[R]=JS(U,E,U,O)),Es(O)&&Nr(C,E,O),null!=m&&Kr(E,O,_)}let bd=function Py(s,o,u,l){return wo(!0),o[et].createComment("")};function ip(s){return vo(function eA(){return ot.lFrame.contextLView}(),vt+s)}function Ad(s,o,u){const l=ce();return Cr(l,Fa(),o)&&Vi(Rt(),an(),l,s,o,l[et],u,!1),Ad}function Ac(s,o,u,l,d){const m=d?"class":"style";_y(s,u,o.inputs[m],m,l)}function Sd(s,o,u,l){const d=ce(),f=Rt(),m=vt+s,_=d[et],E=f.firstCreatePass?function xy(s,o,u,l,d,f){const m=o.consts,E=nu(o,s,2,l,qo(m,d));return md(o,u,E,qo(m,f)),null!==E.attrs&&jf(E,E.attrs,!1),null!==E.mergedAttrs&&jf(E,E.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,E),E}(m,f,d,o,u,l):f.data[m],C=op(f,d,E,_,o,s);d[m]=C;const R=Es(E);return Cs(E,!0),f_(_,C,E),32!=(32&E.flags)&&Va()&&qa(f,d,C,E),0===function uN(){return ot.lFrame.elementDepthCount}()&&Tr(C,d),function K0(){ot.lFrame.elementDepthCount++}(),R&&(Nr(f,d,E),gc(f,E,d)),null!==l&&Kr(d,E),Sd}function Sc(){let s=lr();Ko()?Hh():(s=s.parent,Cs(s,!1));const o=s;(function Y0(s){return ot.skipHydrationRootTNode===s})(o)&&function X0(){ot.skipHydrationRootTNode=null}(),function OI(){ot.lFrame.elementDepthCount--}();const u=Rt();return u.firstCreatePass&&(Wh(u,s),_o(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function zr(s){return 0!=(8&s.flags)}(o)&&Ac(u,o,ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function lA(s){return 0!=(16&s.flags)}(o)&&Ac(u,o,ce(),o.stylesWithoutHost,!1),Sc}function sp(s,o,u,l){return Sd(s,o,u,l),Sc(),sp}let op=(s,o,u,l,d,f)=>(wo(!0),zl(l,d,function $I(){return ot.lFrame.currentNamespace}()));function up(){return ce()}function Pd(s){return!!s&&"function"==typeof s.then}function cp(s){return!!s&&"function"==typeof s.subscribe}function Md(s,o,u,l){const d=ce(),f=Rt(),m=lr();return function lp(s,o,u,l,d,f,m){const _=Es(l),C=s.firstCreatePass&&to(s),R=o[en],O=OT(o);let U=!0;if(3&l.type||m){const ge=hi(l,o),Ce=m?m(ge):ge,Ve=O.length,ee=m?_t=>m(Yt(_t[l.index])):l.index;let tt=null;if(!m&&_&&(tt=function Ly(s,o,u,l){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===u&&d[f+1]===l){const _=o[Pr],E=d[f+2];return _.length>E?_[E]:null}"string"==typeof m&&(f+=2)}return null}(s,o,d,l.index)),null!==tt)(tt.__ngLastListenerFn__||tt).__ngNextListenerFn__=f,tt.__ngLastListenerFn__=f,U=!1;else{f=dp(l,o,R,f,!1);const _t=u.listen(Ce,d,f);O.push(f,_t),C&&C.push(d,ee,Ve,Ve+1)}}else f=dp(l,o,R,f,!1);const B=l.outputs;let Q;if(U&&null!==B&&(Q=B[d])){const ge=Q.length;if(ge)for(let Ce=0;Ce<ge;Ce+=2){const Nt=o[Q[Ce]][Q[Ce+1]].subscribe(f),br=O.length;O.push(f,Nt),C&&C.push(d,l.index,br,-(br+1))}}}(f,d,d[et],m,s,o,l),Md}function vR(s,o,u,l){try{return cr(6,o,u),!1!==u(l)}catch(d){return NT(s,d),!1}finally{cr(7,o,u)}}function dp(s,o,u,l,d){return function f(m){if(m===Function)return l;fd(s.componentOffset>-1?xi(s.index,o):o);let E=vR(o,u,l,m),C=f.__ngNextListenerFn__;for(;C;)E=vR(o,u,C,m)&&E,C=C.__ngNextListenerFn__;return d&&!1===E&&m.preventDefault(),E}}function ER(s=1){return function sA(s){return(ot.lFrame.contextLView=function oA(s,o){for(;s>0;)o=o[es],s--;return o}(s,ot.lFrame.contextLView))[en]}(s)}function Vy(s,o){let u=null;const l=function ys(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(s);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===l?jr(s,f,!0):hm(l,f))return d}else u=d}return u}function IR(s){const o=ce()[qt][Rn];if(!o.projection){const l=o.projection=Bl(s?s.length:1,null),d=l.slice();let f=o.child;for(;null!==f;){const m=s?Vy(f,s):0;null!==m&&(d[m]?d[m].projectionNext=f:l[m]=f,d[m]=f),f=f.next}}}function hp(s,o=0,u){const l=ce(),d=Rt(),f=nu(d,vt+s,16,null,u||null);null===f.projection&&(f.projection=o),Hh(),(!l[ai]||Ts())&&32!=(32&f.flags)&&function MN(s,o,u){XA(o[et],0,o,u,d_(s,u,o),Nw(u.parent||o[Rn],u,o))}(d,l,f)}function Uy(s,o,u){return xd(s,"",o,"",u),Uy}function xd(s,o,u,l,d){const f=ce(),m=aa(f,o,u,l);return m!==dt&&Vi(Rt(),an(),f,s,m,f[et],d,!1),xd}function By(s,o){return s<<17|o<<2}function io(s){return s>>17&32767}function cC(s){return 2|s}function Po(s){return(131068&s)>>2}function lC(s,o){return-131069&s|o<<2}function dC(s){return 1|s}function mp(s,o,u,l,d){const f=s[u+1],m=null===o;let _=l?io(f):Po(f),E=!1;for(;0!==_&&(!1===E||m);){const R=s[_+1];d1(s[_],o)&&(E=!0,s[_+1]=l?dC(R):cC(R)),_=l?io(R):Po(R)}E&&(s[u+1]=l?cC(f):dC(f))}function d1(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ba(s,o)>=0}function qy(s,o){return function Rs(s,o,u,l){const d=ce(),f=Rt(),m=function Io(s){const o=ot.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);f.firstUpdatePass&&function yp(s,o,u,l){const d=s.data;if(null===d[u+1]){const f=d[Gr()],m=function ga(s,o){return o>=s.expandoStartIndex}(s,u);(function kR(s,o){return 0!=(s.flags&(o?8:16))})(f,l)&&null===o&&!m&&(o=!1),o=function _1(s,o,u,l){const d=function Pm(s){const o=ot.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(u=Od(u=Wy(null,s,o,u,l),o.attrs,l),f=null);else{const m=o.directiveStylingLast;if(-1===m||s[m]!==d)if(u=Wy(d,s,o,u,l),null===f){let E=function xR(s,o,u){const l=u?o.classBindings:o.styleBindings;if(0!==Po(l))return s[io(l)]}(s,o,l);void 0!==E&&Array.isArray(E)&&(E=Wy(null,s,o,E[1],l),E=Od(E,o.attrs,l),function OR(s,o,u,l){s[io(u?o.classBindings:o.styleBindings)]=l}(s,o,l,E))}else f=function y1(s,o,u){let l;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)l=Od(l,s[f].hostAttrs,u);return Od(l,o.attrs,u)}(s,o,l)}return void 0!==f&&(l?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,l),function Hy(s,o,u,l,d,f){let m=f?o.classBindings:o.styleBindings,_=io(m),E=Po(m);s[l]=u;let R,C=!1;if(Array.isArray(u)?(R=u[1],(null===R||Ba(u,R)>0)&&(C=!0)):R=u,d)if(0!==E){const U=io(s[_+1]);s[l+1]=By(U,_),0!==U&&(s[U+1]=lC(s[U+1],l)),s[_+1]=function jy(s,o){return 131071&s|o<<17}(s[_+1],l)}else s[l+1]=By(_,0),0!==_&&(s[_+1]=lC(s[_+1],l)),_=l;else s[l+1]=By(E,0),0===_?_=l:s[E+1]=lC(s[E+1],l),E=l;C&&(s[l+1]=cC(s[l+1])),mp(s,R,l,!0),mp(s,R,l,!1),function l1(s,o,u,l,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&Ba(f,o)>=0&&(u[l+1]=dC(u[l+1]))}(o,R,s,l,f),m=By(_,E),f?o.classBindings=m:o.styleBindings=m}(d,f,o,u,m,l)}}(f,s,m,l),o!==dt&&Cr(d,m,o)&&function Yy(s,o,u,l,d,f,m,_){if(!(3&o.type))return;const E=s.data,C=E[_+1],R=function $y(s){return 1==(1&s)}(C)?_C(E,o,u,d,Po(C),m):void 0;Ip(R)||(Ip(f)||function AR(s){return 2==(2&s)}(C)&&(f=_C(E,null,u,d,_,m)),function To(s,o,u,l,d){if(o)d?s.addClass(u,l):s.removeClass(u,l);else{let f=-1===l.indexOf("-")?void 0:qs.DashCase;null==d?s.removeStyle(u,l,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=qs.Important),s.setStyle(u,l,d,f))}}(l,m,Am(Gr(),u),d,f))}(f,f.data[Gr()],d,d[et],s,d[m+1]=function NR(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=oe(Do(s)))),s}(o,u),l,m)}(s,o,null,!0),qy}function Wy(s,o,u,l,d){let f=null;const m=u.directiveEnd;let _=u.directiveStylingLast;for(-1===_?_=u.directiveStart:_++;_<m&&(f=o[_],l=Od(l,f.hostAttrs,d),f!==s);)_++;return null!==s&&(u.directiveStylingLast=_),l}function Od(s,o,u){const l=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const m=o[f];"number"==typeof m?d=m:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),fi(s,m,!!u||o[++f]))}return void 0===s?null:s}function _C(s,o,u,l,d,f){const m=null===o;let _;for(;d>0;){const E=s[d],C=Array.isArray(E),R=C?E[1]:E,O=null===R;let U=u[d+1];U===dt&&(U=O?Dt:void 0);let B=O?tf(U,l):R===l?U:void 0;if(C&&!Ip(B)&&(B=tf(E,l)),Ip(B)&&(_=B,m))return _;const Q=s[d+1];d=m?io(Q):Po(Q)}if(null!==o){let E=f?o.residualClasses:o.residualStyles;null!=E&&(_=tf(E,l))}return _}function Ip(s){return void 0!==s}function yC(s,o=""){const u=ce(),l=Rt(),d=s+vt,f=l.firstCreatePass?nu(l,d,1,o,null):l.data[d],m=FR(l,u,f,o,s);u[d]=m,Va()&&qa(l,u,m,f),Cs(f,!1)}let FR=(s,o,u,l,d)=>(wo(!0),function cf(s,o){return s.createText(o)}(o[et],l));function Qy(s){return cu("",s,""),Qy}function cu(s,o,u){const l=ce(),d=aa(l,s,o,u);return d!==dt&&function no(s,o,u){const l=Am(o,s);!function Rw(s,o,u){s.setValue(o,u)}(s[et],l,u)}(l,Gr(),d),cu}const lu=void 0;var qR=["en",[["a","p"],["AM","PM"],lu],[["AM","PM"],lu,lu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lu,"{1} 'at' {0}",lu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zR(s){const u=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let du={};function VC(s){const o=function ev(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=WR(o);if(u)return u;const l=o.split("-")[0];if(u=WR(l),u)return u;if("en"===l)return qR;throw new H(701,!1)}function Ap(s){return VC(s)[Fd.PluralCase]}function WR(s){return s in du||(du[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),du[s]}var Fd=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Fd||{});const ma="en-US";let Sp=ma;function cD(s,o,u,l,d){if(s=Y(s),Array.isArray(s))for(let f=0;f<s.length;f++)cD(s[f],o,u,l,d);else{const f=Rt(),m=ce(),_=lr();let E=ta(s)?s:Y(s.provide);const C=Df(s),R=1048575&_.providerIndexes,O=_.directiveStart,U=_.providerIndexes>>20;if(ta(s)||!s.multi){const B=new Xu(C,d,pd),Q=Oc(E,o,d?R:R+U,O);-1===Q?(Jh(Hm(_,m),f,E),Ud(f,s,o.length),o.push(E),_.directiveStart++,_.directiveEnd++,d&&(_.providerIndexes+=1048576),u.push(B),m.push(B)):(u[Q]=B,m[Q]=B)}else{const B=Oc(E,o,R+U,O),Q=Oc(E,o,R,R+U),Ce=Q>=0&&u[Q];if(d&&!Ce||!d&&!(B>=0&&u[B])){Jh(Hm(_,m),f,E);const Ve=function yP(s,o,u,l,d){const f=new Xu(s,u,pd);return f.multi=[],f.index=o,f.componentProviders=0,vv(f,d,l&&!u),f}(d?dD:lD,u.length,d,l,C);!d&&Ce&&(u[Q].providerFactory=Ve),Ud(f,s,o.length,0),o.push(E),_.directiveStart++,_.directiveEnd++,d&&(_.providerIndexes+=1048576),u.push(Ve),m.push(Ve)}else Ud(f,s,B>-1?B:Q,vv(u[d?Q:B],C,!d&&l));!d&&l&&Ce&&u[Q].componentProviders++}}}function Ud(s,o,u,l){const d=ta(o),f=function vS(s){return!!s.useClass}(o);if(d||f){const E=(f?Y(o.useClass):o).prototype.ngOnDestroy;if(E){const C=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const R=C.indexOf(u);-1===R?C.push(u,[l,E]):C[R+1].push(l,E)}else C.push(u,E)}}}function vv(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Oc(s,o,u,l){for(let d=u;d<l;d++)if(o[d]===s)return d;return-1}function lD(s,o,u,l){return Ev(this.multi,[])}function dD(s,o,u,l){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=ec(u,u[Pe],this.providerFactory.index,l);f=_.slice(0,m),Ev(d,f);for(let E=m;E<_.length;E++)f.push(_[E])}else f=[],Ev(d,f);return f}function Ev(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function hD(s,o=[]){return u=>{u.providersResolver=(l,d)=>function P1(s,o,u){const l=Rt();if(l.firstCreatePass){const d=Ir(s);cD(u,l.data,l.blueprint,d,!0),cD(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class mu{}class fD{}function pD(s,o){return new Iv(s,o??null,[])}class Iv extends mu{constructor(o,u,l){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ty(this);const d=vr(o);this._bootstrapComponents=as(d.bootstrap),this._r3Injector=vT(o,u,[{provide:mu,useValue:this},{provide:xf,useValue:this.componentFactoryResolver},...l],oe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class wv extends fD{constructor(o){super(),this.moduleType=o}create(o){return new Iv(this.moduleType,o,[])}}class Tv extends mu{constructor(o){super(),this.componentFactoryResolver=new Ty(this),this.instance=null;const u=new dc([...o.providers,{provide:mu,useValue:this},{provide:xf,useValue:this.componentFactoryResolver}],o.parent||Tf(),o.debugName,new Set(["environment"]));this.injector=u,o.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function mD(s,o,u=null){return new Tv({providers:s,parent:o,debugName:u,runEnvironmentInitializers:!0}).injector}let vP=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const l=eT(0,u.type),d=l.length>0?mD([l],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,d)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=mt({token:s,providedIn:"environment",factory:()=>new s(Xt(Or))})}return s})();function Cv(s){s.getStandaloneInjector=o=>o.get(vP).getOrCreateStandaloneInjector(s)}function Rv(s,o,u){const l=wr()+s,d=ce();return d[l]===dt?Ss(d,l,u?o.call(u):o()):function Td(s,o){return s[o]}(d,l)}function ED(s,o,u,l){return ao(ce(),wr(),s,o,u,l)}function ao(s,o,u,l,d,f){const m=o+u;return Cr(s,m,d)?Ss(s,m+1,f?l.call(f,d):l(d)):function ya(s,o){const u=s[o];return u===dt?void 0:u}(s,m+1)}function DD(s,o){const u=Rt();let l;const d=s+vt;u.firstCreatePass?(l=function Mv(s,o){if(o)for(let u=o.length-1;u>=0;u--){const l=o[u];if(s===l.name)return l}}(o,u.pipeRegistry),u.data[d]=l,l.onDestroy&&(u.destroyHooks??=[]).push(d,l.onDestroy)):l=u.data[d];const f=l.factory||(l.factory=ci(l.type)),_=bn(pd);try{const E=Zh(!1),C=f();return Zh(E),function My(s,o,u,l){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=l}(u,ce(),d,C),C}finally{bn(_)}}function bD(s,o,u){const l=s+vt,d=ce(),f=vo(d,l);return function yu(s,o){return s[Pe].data[o].pure}(d,l)?ao(d,wr(),o,f.transform,u,f):f.transform(u)}function Nv(){return this._results[Symbol.iterator]()}class jd{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new os)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=jd.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Nv)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const l=this;l.dirty=!1;const d=function Oi(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function mN(s,o,u){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],f=o[l];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function kv(s,o,u,l=!0){const d=o[Pe];if(function qA(s,o,u,l){const d=gn+l,f=u.length;l>0&&(u[d-1][ct]=o),l<f-gn?(o[ct]=u[d],sw(u,gn+l,o)):(u.push(o),o[ct]=null),o[xt]=u;const m=o[mo];null!==m&&u!==m&&function WA(s,o){const u=s[$s];o[qt]!==o[xt][xt][qt]&&(s[Uu]=!0),null===u?s[$s]=[o]:u.push(o)}(m,o);const _=o[Mr];null!==_&&_.insertView(s),o[Ze]|=128}(d,o,s,u),l){const f=ac(u,s),m=o[et],_=df(m,s[Er]);null!==_&&function HA(s,o,u,l,d,f){l[$t]=d,l[Rn]=o,Fi(s,l,u,1,d,f)}(d,s[Rn],m,o,_,f)}}let Mn=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=xP}return s})();const MP=Mn,Fv=class extends MP{constructor(o,u,l){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,u){return this.createEmbeddedViewImpl(o,u)}createEmbeddedViewImpl(o,u,l){const d=function PP(s,o,u,l){const d=o.tView,_=Vf(s,d,u,4096&s[Ze]?4096:16,null,o,null,null,null,l?.injector??null,l?.hydrationInfo??null);_[mo]=s[o.index];const C=s[Mr];return null!==C&&(_[Mr]=C.createEmbeddedView(d)),vy(d,_,u),_}(this._declarationLView,this._declarationTContainer,o,{injector:u,hydrationInfo:l});return new Ec(d)}};function xP(){return Nc(lr(),ce())}function Nc(s,o){return 4&s.type?new Fv(o,s,mn(s,o)):null}let Fc=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=NP}return s})();function NP(){return jp(lr(),ce())}const $v=Fc,Hv=class extends $v{constructor(o,u,l){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=l}get element(){return mn(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ll(this._hostTNode,this._hostLView);if(jm(o)){const u=Qh(o,this._hostLView),l=Fl(o);return new qr(u[Pe].data[l+8],u)}return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Bp(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-gn}createEmbeddedView(o,u,l){let d,f;"number"==typeof l?d=l:null!=l&&(d=l.index,f=l.injector);const _=o.createEmbeddedViewImpl(u||{},f,null);return this.insertImpl(_,d,false),_}createComponent(o,u,l,d,f){const m=o&&!function Yo(s){return"function"==typeof s}(o);let _;if(m)_=u;else{const ge=u||{};_=ge.index,l=ge.injector,d=ge.projectableNodes,f=ge.environmentInjector||ge.ngModuleRef}const E=m?o:new Ic(st(o)),C=l||this.parentInjector;if(!f&&null==E.ngModule){const Ce=(m?C:this.parentInjector).get(Or,null);Ce&&(f=Ce)}st(E.componentType??{});const B=E.create(C,d,null,f);return this.insertImpl(B.hostView,_,false),B}insert(o,u){return this.insertImpl(o,u,!1)}insertImpl(o,u,l){const d=o._lView;if(function xl(s){return Kn(s[xt])}(d)){const E=this.indexOf(o);if(-1!==E)this.detach(E);else{const C=d[xt],R=new Hv(C,C[Rn],C[xt]);R.detach(R.indexOf(o))}}const m=this._adjustIndex(u),_=this._lContainer;return kv(_,d,m,!l),o.attachToViewContainerRef(),sw(Gv(_),m,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Bp(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),l=lf(this._lContainer,u);l&&(ef(Gv(this._lContainer),u),c_(l[Pe],l))}detach(o){const u=this._adjustIndex(o,-1),l=lf(this._lContainer,u);return l&&null!=ef(Gv(this._lContainer),u)?new Ec(l):null}_adjustIndex(o,u=0){return o??this.length+u}};function Bp(s){return s[8]}function Gv(s){return s[8]||(s[8]=[])}function jp(s,o){let u;const l=o[s.index];return Kn(l)?u=l:(u=JS(l,o,null,s),o[s.index]=u,_c(o,u)),zv(u,o,s,l),new Hv(u,s,o)}let zv=function MD(s,o,u,l){if(s[Er])return;let d;d=8&u.type?Yt(l):function kP(s,o){const u=s[et],l=u.createComment(""),d=hi(o,s);return za(u,df(u,d),l,function ZA(s,o){return s.nextSibling(o)}(u,d),!1),l}(o,u),s[Er]=d};class qv{constructor(o){this.queryList=o,this.matches=null}clone(){return new qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class $p{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const l=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<l;f++){const m=u.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new $p(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Zv(o,u).matches&&this.queries[u].setDirty()}}class xD{constructor(o,u,l=null){this.predicate=o,this.flags=u,this.read=l}}class $d{constructor(o=[]){this.queries=o}elementStart(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,f=this.getByIndex(l).embeddedTView(o,d);f&&(f.indexInDeclarationView=l,null!==u?u.push(f):u=[f])}return null!==u?new $d(u):null}template(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Wv{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Wv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(o,u,OD(u,f)),this.matchTNodeWithReadOption(o,u,qm(u,o,f,!1,!1))}else l===Mn?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,qm(u,o,l,!1,!1))}matchTNodeWithReadOption(o,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ud||d===Fc||d===Mn&&4&u.type)this.addMatch(u.index,-2);else{const f=qm(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,l)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function OD(s,o){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===o)return u[l+1];return null}function VP(s,o,u,l){return-1===u?function Kv(s,o){return 11&s.type?mn(s,o):4&s.type?Nc(s,o):null}(o,s):-2===u?function Yv(s,o,u){return u===ud?mn(o,s):u===Mn?Nc(o,s):u===Fc?jp(o,s):void 0}(s,o,l):ec(s,s[Pe],u,o)}function ND(s,o,u,l){const d=o[Mr].queries[l];if(null===d.matches){const f=s.data,m=u.matches,_=[];for(let E=0;E<m.length;E+=2){const C=m[E];_.push(C<0?null:VP(o,f[C],m[E+1],u.metadata.read))}d.matches=_}return d.matches}function Hd(s,o,u,l){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const m=ND(s,o,d,u);for(let _=0;_<f.length;_+=2){const E=f[_];if(E>0)l.push(m[_/2]);else{const C=f[_+1],R=o[-E];for(let O=gn;O<R.length;O++){const U=R[O];U[mo]===U[xt]&&Hd(U[Pe],U,C,l)}if(null!==R[$s]){const O=R[$s];for(let U=0;U<O.length;U++){const B=O[U];Hd(B[Pe],B,C,l)}}}}}return l}function Qv(s){const o=ce(),u=Rt(),l=UI();Mm(l+1);const d=Zv(u,l);if(s.dirty&&function q0(s){return 4==(4&s[Ze])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?Hd(u,o,l,[]):ND(u,o,d,l);s.reset(f,Wr),s.notifyOnChanges()}return!0}return!1}function Hp(s,o,u){const l=Rt();l.firstCreatePass&&(zp(l,new xD(s,o,u),-1),2==(2&o)&&(l.staticViewQueries=!0)),FD(l,ce(),o)}function kD(s,o,u,l){const d=Rt();if(d.firstCreatePass){const f=lr();zp(d,new xD(o,u,l),f.index),function LD(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}FD(d,ce(),u)}function Gp(){return function UP(s,o){return s[Mr].queries[o].queryList}(ce(),UI())}function FD(s,o,u){const l=new jd(4==(4&u));(function ST(s,o,u,l){const d=OT(o);d.push(u),s.firstCreatePass&&to(s).push(l,d.length-1)})(s,o,l,l.destroy),null===o[Mr]&&(o[Mr]=new $p),o[Mr].queries.push(new qv(l))}function zp(s,o,u){null===s.queries&&(s.queries=new $d),s.queries.track(new Wv(o,u))}function Zv(s,o){return s.queries.getByIndex(o)}function VD(s,o){return Nc(s,o)}function Xv(s){return!!vr(s)}const Wd=new Ot("Application Initializer");let Kd=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l}),this.appInits=Lt(Wd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const d of this.appInits){const f=d();if(Pd(f))u.push(f);else if(cp(f)){const m=new Promise((_,E)=>{f.subscribe({complete:_,error:E})});u.push(m)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{l()}).catch(d=>{this.reject(d)}),0===u.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||s)};static#t=this.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),ag=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}static#e=this.\u0275fac=function(l){return new(l||s)};static#t=this.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const Bc=new Ot("LocaleId",{providedIn:"root",factory:()=>Lt(Bc,at.Optional|at.SkipSelf)||function aE(){return typeof $localize<"u"&&$localize.locale||ma}()}),YD=new Ot("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let uE=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ie.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||s)};static#t=this.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class cE{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let ZD=(()=>{class s{compileModuleSync(u){return new wv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const l=this.compileModuleSync(u),f=as(vr(u).declarations).reduce((m,_)=>{const E=st(_);return E&&m.push(new Ic(E)),m},[]);return new cE(l,f)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}static#e=this.\u0275fac=function(l){return new(l||s)};static#t=this.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Jd=new Ot(""),tb=new Ot("");let pE,oM=(()=>{class s{constructor(u,l,d){this._ngZone=u,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,pE||(function aM(s){pE=s}(d),d.addToWindow(l)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,l,d){return[]}static#e=this.\u0275fac=function(l){return new(l||s)(Xt(jn),Xt(Eu),Xt(tb))};static#t=this.\u0275prov=mt({token:s,factory:s.\u0275fac})}return s})(),Eu=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return pE?.findTestabilityInTree(this,u,l)??null}static#e=this.\u0275fac=function(l){return new(l||s)};static#t=this.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),mi=null;const gE=new Ot("AllowMultipleToken"),$c=new Ot("PlatformDestroyListeners"),hg=new Ot("appBootstrapListener");class eh{constructor(o,u){this.name=o,this.token=u}}function mE(s,o,u=[]){const l=`Platform: ${o}`,d=new Ot(l);return(f=[])=>{let m=nh();if(!m||m.injector.get(gE,!1)){const _=[...u,...f,{provide:d,useValue:!0}];s?s(_):function fg(s){if(mi&&!mi.get(gE,!1))throw new H(400,!1);(function kr(){!function Cm(s){$h=s}(()=>{throw new H(600,!1)})})(),mi=s;const o=s.get(rh);(function pg(s){s.get(sT,null)?.forEach(u=>u())})(s)}(function gg(s=[],o){return Li.create({name:o,providers:[{provide:bo,useValue:"platform"},{provide:$c,useValue:new Set([()=>mi=null])},...s]})}(_,l))}return function th(s){const o=nh();if(!o)throw new H(401,!1);return o}()}}function nh(){return mi?.get(rh)??null}let rh=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const d=function sb(s="zone.js",o){return"noop"===s?new FS:"zone.js"===s?new jn(o):s}(l?.ngZone,function Hc(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return d.run(()=>{const f=function gD(s,o,u){return new Iv(s,o,u)}(u.moduleType,this.injector,function vE(s){return[{provide:jn,useFactory:s},{provide:Zl,multi:!0,useFactory:()=>{const o=Lt(lM,{optional:!0});return()=>o.initialize()}},{provide:yE,useFactory:ab},{provide:Nf,useFactory:wT}]}(()=>d)),m=f.injector.get(ra,null);return d.runOutsideAngular(()=>{const _=d.onError.subscribe({next:E=>{m.handleError(E)}});f.onDestroy(()=>{Gc(this._modules,f),_.unsubscribe()})}),function ob(s,o,u){try{const l=u();return Pd(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(m,d,()=>{const _=f.injector.get(Kd);return _.runInitializers(),_.donePromise.then(()=>(function BC(s){ze(s,"Expected localeId to be defined"),"string"==typeof s&&(Sp=s.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Bc,ma)||ma),this._moduleDoBootstrap(f),f))})})}bootstrapModule(u,l=[]){const d=mg({},l);return function Xd(s,o,u){const l=new wv(u);return Promise.resolve(l)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const l=u.injector.get(xo);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new H(-403,!1);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new H(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const u=this._injector.get($c,null);u&&(u.forEach(l=>l()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||s)(Xt(Li))};static#t=this.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function mg(s,o){return Array.isArray(o)?o.reduce(mg,s):{...s,...o}}let xo=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Lt(yE),this.zoneIsStable=Lt(Nf),this.componentTypes=[],this.components=[],this.isStable=Lt(uE).hasPendingTasks.pipe((0,Be.w)(u=>u?(0,Te.of)(!1):this.zoneIsStable),(0,xe.x)(),(0,Ee.B)()),this._injector=Lt(Or)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,l){const d=u instanceof lT;if(!this._injector.get(Kd).done)throw!d&&or(u),new H(405,!1);let m;m=d?u:this._injector.get(xf).resolveComponentFactory(u),this.componentTypes.push(m.componentType);const _=function nb(s){return s.isBoundToModule}(m)?void 0:this._injector.get(mu),C=m.create(Li.NULL,[],l||m.selector,_),R=C.location.nativeElement,O=C.injector.get(Jd,null);return O?.registerApplication(R),C.onDestroy(()=>{this.detachView(C.hostView),Gc(this.components,C),O?.unregisterApplication(R)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new H(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;Gc(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const l=this._injector.get(hg,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Gc(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new H(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||s)};static#t=this.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Gc(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}const yE=new Ot("",{providedIn:"root",factory:()=>Lt(ra).handleError.bind(void 0)});function ab(){const s=Lt(jn),o=Lt(ra);return u=>s.runOutsideAngular(()=>o.handleError(u))}let lM=(()=>{class s{constructor(){this.zone=Lt(jn),this.applicationRef=Lt(xo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||s)};static#t=this.\u0275prov=mt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function ih(){return!1}let lb=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=db}return s})();function db(s){return function dM(s,o,u){if(rs(s)&&!u){const l=xi(s.index,o);return new Ec(l,l)}return 47&s.type?new Ec(o[qt],o):null}(lr(),ce(),16==(16&s))}class pb{constructor(){}supports(o){return qf(o)}create(o){return new gb(o)}}const mM=(s,o)=>o;class gb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||mM}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,l=this._removalsHead,d=0,f=null;for(;u||l;){const m=!l||u&&u.currentIndex<vg(l,d,f)?u:l,_=vg(m,d,f),E=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(u=u._next,null==m.previousIndex)d++;else{f||(f=[]);const C=_-d,R=E-d;if(C!=R){for(let U=0;U<C;U++){const B=U<f.length?f[U]:f[U]=0,Q=B+U;R<=Q&&Q<C&&(f[U]=B+1)}f[m.previousIndex]=R-C}}_!==E&&o(m,_,E)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!qf(o))throw new H(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,m,u=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let _=0;_<this.length;_++)f=o[_],m=this._trackByFn(_,f),null!==u&&Object.is(u.trackById,m)?(l&&(u=this._verifyReinsertion(u,f,m,_)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,m,_),l=!0),u=u._next}else d=0,function lR(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let l;for(;!(l=u.next()).done;)o(l.value)}}(o,_=>{m=this._trackByFn(d,_),null!==u&&Object.is(u.trackById,m)?(l&&(u=this._verifyReinsertion(u,_,m,d)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,m,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,l,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new _M(u,l),f,d),o}_verifyReinsertion(o,u,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,l),this._addToMoves(o,l),o}_moveAfter(o,u,l){return this._unlink(o),this._insertAfter(o,u,l),this._addToMoves(o,l),o}_addAfter(o,u,l){return this._insertAfter(o,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,l){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new CE),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,l=o._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class _M{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const u=o._prevDup,l=o._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class CE{constructor(){this.map=new Map}put(o){const u=o.trackById;let l=this.map.get(u);l||(l=new mb,this.map.set(u,l)),l.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vg(s,o,u){const l=s.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+o+d}class Eg{constructor(){}supports(o){return o instanceof Map||Wf(o)}create(){return new _b}}class _b{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Wf(o)))throw new H(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const l=o._prev;return u._next=o,u._prev=l,o._prev=u,l&&(l._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const l=new yb(o);return this._records.set(o,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(l=>u(o[l],l))}}class yb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vb(){return new DE([new pb])}let DE=(()=>{class s{static#e=this.\u0275prov=mt({token:s,providedIn:"root",factory:vb});constructor(u){this.factories=u}static create(u,l){if(null!=l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||vb()),deps:[[s,new sc,new Jm]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(null!=l)return l;throw new H(901,!1)}}return s})();function Eb(){return new Wc([new Eg])}let Wc=(()=>{class s{static#e=this.\u0275prov=mt({token:s,providedIn:"root",factory:Eb});constructor(u){this.factories=u}static create(u,l){if(l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||Eb()),deps:[[s,new sc,new Jm]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(l)return l;throw new H(901,!1)}}return s})();const lh=mE(null,"core",[]);let dh=(()=>{class s{constructor(u){}static#e=this.\u0275fac=function(l){return new(l||s)(Xt(xo))};static#t=this.\u0275mod=Zi({type:s});static#n=this.\u0275inj=Dn({})}return s})();function Sb(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function xb(s){const o=st(s);if(!o)return null;const u=new Ic(o);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},95:(Ye,de,N)=>{N.d(de,{Fj:()=>H,u5:()=>bl,JU:()=>Ie,JJ:()=>Tt,On:()=>Ai,YN:()=>es,EJ:()=>Si,Kr:()=>$o});var h=N(5879),j=N(6814),he=N(7715),ae=N(5592),ie=N(7453),Te=N(4829),Ee=N(9940),Be=N(8251),xe=N(7400),K=N(2714),oe=N(7398);let Ge=(()=>{class b{constructor(w,M){this._renderer=w,this._elementRef=M,this.onChange=V=>{},this.onTouched=()=>{}}setProperty(w,M){this._renderer.setProperty(this._elementRef.nativeElement,w,M)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}static#e=this.\u0275fac=function(M){return new(M||b)(h.Y36(h.Qsj),h.Y36(h.SBq))};static#t=this.\u0275dir=h.lG2({type:b})}return b})(),me=(()=>{class b extends Ge{static#e=this.\u0275fac=function(){let w;return function(V){return(w||(w=h.n5z(b)))(V||b)}}();static#t=this.\u0275dir=h.lG2({type:b,features:[h.qOj]})}return b})();const Ie=new h.OlP("NgValueAccessor"),qe={provide:Ie,useExisting:(0,h.Gpc)(()=>H),multi:!0},bt=new h.OlP("CompositionEventMode");let H=(()=>{class b extends Ge{constructor(w,M,V){super(w,M),this._compositionMode=V,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function It(){const b=(0,j.q)()?(0,j.q)().getUserAgent():"";return/android (\d+)/.test(b.toLowerCase())}())}writeValue(w){this.setProperty("value",w??"")}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}static#e=this.\u0275fac=function(M){return new(M||b)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(bt,8))};static#t=this.\u0275dir=h.lG2({type:b,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,V){1&M&&h.NdJ("input",function(Je){return V._handleInput(Je.target.value)})("blur",function(){return V.onTouched()})("compositionstart",function(){return V._compositionStart()})("compositionend",function(Je){return V._compositionEnd(Je.target.value)})},features:[h._Bn([qe]),h.qOj]})}return b})();const we=new h.OlP("NgValidators"),De=new h.OlP("NgAsyncValidators");function W(b){return null!=b}function te(b){return(0,h.QGY)(b)?(0,he.D)(b):b}function ne(b){let S={};return b.forEach(w=>{S=null!=w?{...S,...w}:S}),0===Object.keys(S).length?null:S}function ye(b,S){return S.map(w=>w(b))}function ze(b){return b.map(S=>function ve(b){return!b.validate}(S)?S:w=>S.validate(w))}function nr(b){return null!=b?function Se(b){if(!b)return null;const S=b.filter(W);return 0==S.length?null:function(w){return ne(ye(w,S))}}(ze(b)):null}function Bt(b){return null!=b?function it(b){if(!b)return null;const S=b.filter(W);return 0==S.length?null:function(w){return function X(...b){const S=(0,Ee.jO)(b),{args:w,keys:M}=(0,ie.D)(b),V=new ae.y(Le=>{const{length:Je}=w;if(!Je)return void Le.complete();const Un=new Array(Je);let is=Je,Is=Je;for(let ci=0;ci<Je;ci++){let li=!1;(0,Te.Xf)(w[ci]).subscribe((0,Be.x)(Le,Hu=>{li||(li=!0,Is--),Un[ci]=Hu},()=>is--,void 0,()=>{(!is||!li)&&(Is||Le.next(M?(0,K.n)(M,Un):Un),Le.complete())}))}});return S?V.pipe((0,xe.Z)(S)):V}(ye(w,S).map(te)).pipe((0,oe.U)(ne))}}(ze(b)):null}function mt(b,S){return null===b?[S]:Array.isArray(b)?[...b,S]:[b,S]}function zn(b){return b?Array.isArray(b)?b:[b]:[]}function Ht(b,S){return Array.isArray(b)?b.includes(S):b===S}function Rr(b,S){const w=zn(S);return zn(b).forEach(V=>{Ht(w,V)||w.push(V)}),w}function zi(b,S){return zn(S).filter(w=>!Ht(b,w))}class No{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=nr(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=Bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S=void 0){this.control&&this.control.reset(S)}hasError(S,w){return!!this.control&&this.control.hasError(S,w)}getError(S,w){return this.control?this.control.getError(S,w):null}}class vn extends No{get formDirective(){return null}get path(){return null}}class Br extends No{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qi{constructor(S){this._cd=S}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tt=(()=>{class b extends qi{constructor(w){super(w)}static#e=this.\u0275fac=function(M){return new(M||b)(h.Y36(Br,2))};static#t=this.\u0275dir=h.lG2({type:b,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,V){2&M&&h.ekj("ng-untouched",V.isUntouched)("ng-touched",V.isTouched)("ng-pristine",V.isPristine)("ng-dirty",V.isDirty)("ng-valid",V.isValid)("ng-invalid",V.isInvalid)("ng-pending",V.isPending)},features:[h.qOj]})}return b})();const si="VALID",fo="INVALID",wi="PENDING",Fo="DISABLED";function hn(b){return null!=b&&!Array.isArray(b)&&"object"==typeof b}class Xt{constructor(S,w){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(S),this._assignAsyncValidators(w)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===si}get invalid(){return this.status===fo}get pending(){return this.status==wi}get disabled(){return this.status===Fo}get enabled(){return this.status!==Fo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._assignValidators(S)}setAsyncValidators(S){this._assignAsyncValidators(S)}addValidators(S){this.setValidators(Rr(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(Rr(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(zi(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(zi(S,this._rawAsyncValidators))}hasValidator(S){return Ht(this._rawValidators,S)}hasAsyncValidator(S){return Ht(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(w=>{w.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(w=>{w.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=wi,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const w=this._parentMarkedDirty(S.onlySelf);this.status=Fo,this.errors=null,this._forEachChild(M=>{M.disable({...S,onlySelf:!0})}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...S,skipPristineCheck:w}),this._onDisabledChange.forEach(M=>M(!0))}enable(S={}){const w=this._parentMarkedDirty(S.onlySelf);this.status=si,this._forEachChild(M=>{M.enable({...S,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors({...S,skipPristineCheck:w}),this._onDisabledChange.forEach(M=>M(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}getRawValue(){return this.value}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===si||this.status===wi)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fo:si}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=wi,this._hasOwnPendingAsyncValidator=!0;const w=te(this.asyncValidator(this));this._asyncValidationSubscription=w.subscribe(M=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(M,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,w={}){this.errors=S,this._updateControlsErrors(!1!==w.emitEvent)}get(S){let w=S;return null==w||(Array.isArray(w)||(w=w.split(".")),0===w.length)?null:w.reduce((M,V)=>M&&M._find(V),this)}getError(S,w){const M=w?this.get(w):this;return M&&M.errors?M.errors[S]:null}hasError(S,w){return!!this.getError(S,w)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Fo:this.errors?fo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wi)?wi:this._anyControlsHaveStatus(fo)?fo:si}_anyControlsHaveStatus(S){return this._anyControls(w=>w.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){hn(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(S){return null}_assignValidators(S){this._rawValidators=Array.isArray(S)?S.slice():S,this._composedValidatorFn=function Ti(b){return Array.isArray(b)?nr(b):b||null}(this._rawValidators)}_assignAsyncValidators(S){this._rawAsyncValidators=Array.isArray(S)?S.slice():S,this._composedAsyncValidatorFn=function gs(b){return Array.isArray(b)?Bt(b):b||null}(this._rawAsyncValidators)}}const Yi=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Vs}),Vs="always";function rr(b,S,w=Vs){(function Dt(b,S){const w=function Jt(b){return b._rawValidators}(b);null!==S.validator?b.setValidators(mt(w,S.validator)):"function"==typeof w&&b.setValidators([w]);const M=function Dn(b){return b._rawAsyncValidators}(b);null!==S.asyncValidator?b.setAsyncValidators(mt(M,S.asyncValidator)):"function"==typeof M&&b.setAsyncValidators([M]);const V=()=>b.updateValueAndValidity();qn(S._rawValidators,V),qn(S._rawAsyncValidators,V)})(b,S),S.valueAccessor.writeValue(b.value),(b.disabled||"always"===w)&&S.valueAccessor.setDisabledState?.(b.disabled),function Di(b,S){S.valueAccessor.registerOnChange(w=>{b._pendingValue=w,b._pendingChange=!0,b._pendingDirty=!0,"change"===b.updateOn&&Ra(b,S)})}(b,S),function mr(b,S){const w=(M,V)=>{S.valueAccessor.writeValue(M),V&&S.viewToModelUpdate(M)};b.registerOnChange(w),S._registerOnDestroy(()=>{b._unregisterOnChange(w)})}(b,S),function Qi(b,S){S.valueAccessor.registerOnTouched(()=>{b._pendingTouched=!0,"blur"===b.updateOn&&b._pendingChange&&Ra(b,S),"submit"!==b.updateOn&&b.markAsTouched()})}(b,S),function ir(b,S){if(S.valueAccessor.setDisabledState){const w=M=>{S.valueAccessor.setDisabledState(M)};b.registerOnDisabledChange(w),S._registerOnDestroy(()=>{b._unregisterOnDisabledChange(w)})}}(b,S)}function qn(b,S){b.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(S)})}function Ra(b,S){b._pendingDirty&&b.markAsDirty(),b.setValue(b._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(b._pendingValue),b._pendingChange=!1}function ys(b,S){const w=b.indexOf(S);w>-1&&b.splice(w,1)}function Sn(b){return"object"==typeof b&&null!==b&&2===Object.keys(b).length&&"value"in b&&"disabled"in b}const bi=class extends Xt{constructor(S=null,w,M){super(function Ou(b){return(hn(b)?b.validators:b)||null}(w),function oi(b,S){return(hn(S)?S.asyncValidators:b)||null}(M,w)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hn(w)&&(w.nonNullable||w.initialValueIsDefault)&&(this.defaultValue=Sn(S)?S.value:S)}setValue(S,w={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(M=>M(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(S,w={}){this.setValue(S,w)}reset(S=this.defaultValue,w={}){this._applyFormState(S),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){ys(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){ys(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){Sn(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}},Zi={provide:Br,useExisting:(0,h.Gpc)(()=>Ai)},Fu=(()=>Promise.resolve())();let Ai=(()=>{class b extends Br{constructor(w,M,V,Le,Je,Un){super(),this._changeDetectorRef=Je,this.callSetDisabledState=Un,this.control=new bi,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=w,this._setValidators(M),this._setAsyncValidators(V),this.valueAccessor=function pn(b,S){if(!S)return null;let w,M,V;return Array.isArray(S),S.forEach(Le=>{Le.constructor===H?w=Le:function An(b){return Object.getPrototypeOf(b.constructor)===me}(Le)?M=Le:V=Le}),V||M||w||null}(0,Le)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const M=w.name.previousValue;this.formDirective.removeControl({name:M,path:this._getPath(M)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),function fn(b,S){if(!b.hasOwnProperty("model"))return!1;const w=b.model;return!!w.isFirstChange()||!Object.is(S,w.currentValue)}(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){Fu.then(()=>{this.control.setValue(w,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(w){const M=w.isDisabled.currentValue,V=0!==M&&(0,h.VuI)(M);Fu.then(()=>{V&&!this.control.disabled?this.control.disable():!V&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(w){return this._parent?function Vo(b,S){return[...S.path,b]}(w,this._parent):[w]}static#e=this.\u0275fac=function(M){return new(M||b)(h.Y36(vn,9),h.Y36(we,10),h.Y36(De,10),h.Y36(Ie,10),h.Y36(h.sBO,8),h.Y36(Yi,8))};static#t=this.\u0275dir=h.lG2({type:b,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Zi]),h.qOj,h.TTD]})}return b})(),or=(()=>{class b{static#e=this.\u0275fac=function(M){return new(M||b)};static#t=this.\u0275mod=h.oAB({type:b});static#n=this.\u0275inj=h.cJS({})}return b})();const Ji={provide:Ie,useExisting:(0,h.Gpc)(()=>Si),multi:!0};function et(b,S){return null==b?`${S}`:(S&&"object"==typeof S&&(S="Object"),`${b}: ${S}`.slice(0,50))}let Si=(()=>{class b extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(w){this._compareWith=w}writeValue(w){this.value=w;const V=et(this._getOptionId(w),w);this.setProperty("value",V)}registerOnChange(w){this.onChange=M=>{this.value=this._getOptionValue(M),w(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(w){for(const M of this._optionMap.keys())if(this._compareWith(this._optionMap.get(M),w))return M;return null}_getOptionValue(w){const M=function Xi(b){return b.split(":")[0]}(w);return this._optionMap.has(M)?this._optionMap.get(M):w}static#e=this.\u0275fac=function(){let w;return function(V){return(w||(w=h.n5z(b)))(V||b)}}();static#t=this.\u0275dir=h.lG2({type:b,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,V){1&M&&h.NdJ("change",function(Je){return V.onChange(Je.target.value)})("blur",function(){return V.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([Ji]),h.qOj]})}return b})(),es=(()=>{class b{constructor(w,M,V){this._element=w,this._renderer=M,this._select=V,this._select&&(this.id=this._select._registerOption())}set ngValue(w){null!=this._select&&(this._select._optionMap.set(this.id,w),this._setElementValue(et(this.id,w)),this._select.writeValue(this._select.value))}set value(w){this._setElementValue(w),this._select&&this._select.writeValue(this._select.value)}_setElementValue(w){this._renderer.setProperty(this._element.nativeElement,"value",w)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(M){return new(M||b)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Si,9))};static#t=this.\u0275dir=h.lG2({type:b,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return b})();const qt={provide:Ie,useExisting:(0,h.Gpc)(()=>ts),multi:!0};function mo(b,S){return null==b?`${S}`:("string"==typeof S&&(S=`'${S}'`),S&&"object"==typeof S&&(S="Object"),`${b}: ${S}`.slice(0,50))}let ts=(()=>{class b extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(w){this._compareWith=w}writeValue(w){let M;if(this.value=w,Array.isArray(w)){const V=w.map(Le=>this._getOptionId(Le));M=(Le,Je)=>{Le._setSelected(V.indexOf(Je.toString())>-1)}}else M=(V,Le)=>{V._setSelected(!1)};this._optionMap.forEach(M)}registerOnChange(w){this.onChange=M=>{const V=[],Le=M.selectedOptions;if(void 0!==Le){const Je=Le;for(let Un=0;Un<Je.length;Un++){const Is=this._getOptionValue(Je[Un].value);V.push(Is)}}else{const Je=M.options;for(let Un=0;Un<Je.length;Un++){const is=Je[Un];if(is.selected){const Is=this._getOptionValue(is.value);V.push(Is)}}}this.value=V,w(V)}}_registerOption(w){const M=(this._idCounter++).toString();return this._optionMap.set(M,w),M}_getOptionId(w){for(const M of this._optionMap.keys())if(this._compareWith(this._optionMap.get(M)._value,w))return M;return null}_getOptionValue(w){const M=function vs(b){return b.split(":")[0]}(w);return this._optionMap.has(M)?this._optionMap.get(M)._value:w}static#e=this.\u0275fac=function(){let w;return function(V){return(w||(w=h.n5z(b)))(V||b)}}();static#t=this.\u0275dir=h.lG2({type:b,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,V){1&M&&h.NdJ("change",function(Je){return V.onChange(Je.target)})("blur",function(){return V.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([qt]),h.qOj]})}return b})(),$o=(()=>{class b{constructor(w,M,V){this._element=w,this._renderer=M,this._select=V,this._select&&(this.id=this._select._registerOption(this))}set ngValue(w){null!=this._select&&(this._value=w,this._setElementValue(mo(this.id,w)),this._select.writeValue(this._select.value))}set value(w){this._select?(this._value=w,this._setElementValue(mo(this.id,w)),this._select.writeValue(this._select.value)):this._setElementValue(w)}_setElementValue(w){this._renderer.setProperty(this._element.nativeElement,"value",w)}_setSelected(w){this._renderer.setProperty(this._element.nativeElement,"selected",w)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(M){return new(M||b)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(ts,9))};static#t=this.\u0275dir=h.lG2({type:b,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return b})(),Bu=(()=>{class b{static#e=this.\u0275fac=function(M){return new(M||b)};static#t=this.\u0275mod=h.oAB({type:b});static#n=this.\u0275inj=h.cJS({imports:[or]})}return b})(),bl=(()=>{class b{static withConfig(w){return{ngModule:b,providers:[{provide:Yi,useValue:w.callSetDisabledState??Vs}]}}static#e=this.\u0275fac=function(M){return new(M||b)};static#t=this.\u0275mod=h.oAB({type:b});static#n=this.\u0275inj=h.cJS({imports:[Bu]})}return b})()},2352:(Ye,de,N)=>{N.d(de,{PG:()=>X,nm:()=>Ge});var h=N(5879),j=N(95),he=N(2438),ae=N(6814);const ie=["editorContainer"],Ee=new h.OlP("NGX_MONACO_EDITOR_CONFIG");let xe,Be=!1,K=(()=>{class me{set insideNg(Y){this._insideNg=Y,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}constructor(Y){this.config=Y,this.onInit=new h.vpe,this._insideNg=!1}ngAfterViewInit(){Be?xe.then(()=>{this.initMonaco(this._options,this.insideNg)}):(Be=!0,xe=new Promise(Y=>{const Re=this.config.baseUrl||"./assets";if("object"==typeof window.monaco)return this.initMonaco(this._options,this.insideNg),void Y();const qe=H=>{let le=H||window.require,ue={paths:{vs:`${Re}/monaco/min/vs`}};Object.assign(ue,this.config.requireConfig||{}),le.config(ue),le(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),Y()})};if(this.config.monacoRequire)qe(this.config.monacoRequire);else if(window.require)if(window.require.config)qe();else{var It=`${Re}/monaco/min/vs/loader.js`,bt=new XMLHttpRequest;bt.addEventListener("load",()=>{let H=document.createElement("script");H.type="text/javascript",H.text=["var nodeRequire = require;",bt.responseText.replace('"use strict";',""),"var monacoAmdRequire = require;","require = nodeRequire;","require.nodeRequire = require;"].join("\n"),document.body.appendChild(H),qe(window.monacoAmdRequire)}),bt.open("GET",It),bt.send()}else{const H=document.createElement("script");H.type="text/javascript",H.src=`${Re}/monaco/min/vs/loader.js`,H.addEventListener("load",()=>{qe()}),document.body.appendChild(H)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}static#e=this.\u0275fac=function(Re){return new(Re||me)(h.Y36(Ee))};static#t=this.\u0275cmp=h.Xpm({type:me,selectors:[["ng-component"]],viewQuery:function(Re,qe){if(1&Re&&h.Gf(ie,7),2&Re){let It;h.iGM(It=h.CRH())&&(qe._editorContainer=It.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(Re,qe){},encapsulation:2})}return me})(),X=(()=>{class me extends K{set options(Y){this._options=Object.assign({},this.config.defaultOptions,Y),this._editor&&(this._editor.dispose(),this.initMonaco(Y,this.insideNg))}get options(){return this._options}set model(Y){this.options.model=Y,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}constructor(Y,Re){super(Re),this.zone=Y,this.editorConfig=Re,this._value="",this.propagateChange=qe=>{},this.onTouched=()=>{}}writeValue(Y){this._value=Y||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(Y){this.propagateChange=Y}registerOnTouched(Y){this.onTouched=Y}initMonaco(Y,Re){const qe=!!Y.model;if(qe){const It=monaco.editor.getModel(Y.model.uri||"");It?(Y.model=It,Y.model.setValue(this._value)):Y.model=monaco.editor.createModel(Y.model.value,Y.model.language,Y.model.uri)}Re?this._editor=monaco.editor.create(this._editorContainer.nativeElement,Y):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,Y)}),qe||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(It=>{const bt=this._editor.getValue();this.zone.run(()=>{this.propagateChange(bt),this._value=bt})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=(0,he.R)(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}static#e=this.\u0275fac=function(Re){return new(Re||me)(h.Y36(h.R0b),h.Y36(Ee))};static#t=this.\u0275cmp=h.Xpm({type:me,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[h._Bn([{provide:j.JU,useExisting:(0,h.Gpc)(()=>me),multi:!0}]),h.qOj],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(Re,qe){1&Re&&h._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"]})}return me})(),Ge=(()=>{class me{static forRoot(Y={}){return{ngModule:me,providers:[{provide:Ee,useValue:Y}]}}static#e=this.\u0275fac=function(Re){return new(Re||me)};static#t=this.\u0275mod=h.oAB({type:me});static#n=this.\u0275inj=h.cJS({imports:[ae.ez]})}return me})()},7582:(Ye,de,N)=>{function ae(q,W){var te={};for(var ne in q)Object.prototype.hasOwnProperty.call(q,ne)&&W.indexOf(ne)<0&&(te[ne]=q[ne]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var ye=0;for(ne=Object.getOwnPropertySymbols(q);ye<ne.length;ye++)W.indexOf(ne[ye])<0&&Object.prototype.propertyIsEnumerable.call(q,ne[ye])&&(te[ne[ye]]=q[ne[ye]])}return te}function oe(q,W,te,ne){return new(te||(te=Promise))(function(ve,ze){function Se(Bt){try{it(ne.next(Bt))}catch(mt){ze(mt)}}function nr(Bt){try{it(ne.throw(Bt))}catch(mt){ze(mt)}}function it(Bt){Bt.done?ve(Bt.value):function ye(ve){return ve instanceof te?ve:new te(function(ze){ze(ve)})}(Bt.value).then(Se,nr)}it((ne=ne.apply(q,W||[])).next())})}function H(q){return this instanceof H?(this.v=q,this):new H(q)}function le(q,W,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ne=te.apply(q,W||[]),ve=[];return ye={},ze("next"),ze("throw"),ze("return"),ye[Symbol.asyncIterator]=function(){return this},ye;function ze(Jt){ne[Jt]&&(ye[Jt]=function(Dn){return new Promise(function(zn,Ht){ve.push([Jt,Dn,zn,Ht])>1||Se(Jt,Dn)})})}function Se(Jt,Dn){try{!function nr(Jt){Jt.value instanceof H?Promise.resolve(Jt.value.v).then(it,Bt):mt(ve[0][2],Jt)}(ne[Jt](Dn))}catch(zn){mt(ve[0][3],zn)}}function it(Jt){Se("next",Jt)}function Bt(Jt){Se("throw",Jt)}function mt(Jt,Dn){Jt(Dn),ve.shift(),ve.length&&Se(ve[0][0],ve[0][1])}}function we(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,W=q[Symbol.asyncIterator];return W?W.call(q):(q=function Y(q){var W="function"==typeof Symbol&&Symbol.iterator,te=W&&q[W],ne=0;if(te)return te.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&ne>=q.length&&(q=void 0),{value:q&&q[ne++],done:!q}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),te={},ne("next"),ne("throw"),ne("return"),te[Symbol.asyncIterator]=function(){return this},te);function ne(ve){te[ve]=q[ve]&&function(ze){return new Promise(function(Se,nr){!function ye(ve,ze,Se,nr){Promise.resolve(nr).then(function(it){ve({value:it,done:Se})},ze)}(Se,nr,(ze=q[ve](ze)).done,ze.value)})}}}N.d(de,{FC:()=>le,KL:()=>we,_T:()=>ae,mG:()=>oe,qq:()=>H}),"function"==typeof SuppressedError&&SuppressedError}},Ye=>{Ye(Ye.s=577)}]);