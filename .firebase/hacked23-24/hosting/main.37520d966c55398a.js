"use strict";(self.webpackChunkHackEd=self.webpackChunkHackEd||[]).push([[179],{377:()=>{function he(t){return"function"==typeof t}function uc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const oh=uc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Zo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Mn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(he(r))try{r()}catch(s){e=s instanceof oh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{JS(s)}catch(o){e=e??[],o instanceof oh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new oh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)JS(e);else{if(e instanceof Mn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Zo(n,e)}remove(e){const{_finalizers:n}=this;n&&Zo(n,e),e instanceof Mn&&e._removeParent(this)}}Mn.EMPTY=(()=>{const t=new Mn;return t.closed=!0,t})();const YS=Mn.EMPTY;function XS(t){return t instanceof Mn||t&&"closed"in t&&he(t.remove)&&he(t.add)&&he(t.unsubscribe)}function JS(t){he(t)?t():t.unsubscribe()}const Ws={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ah={setTimeout(t,e,...n){const{delegate:r}=ah;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ah;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ZS(t){ah.setTimeout(()=>{const{onUnhandledError:e}=Ws;if(!e)throw t;e(t)})}function cc(){}const HG=Xm("C",void 0,void 0);function Xm(t,e,n){return{kind:t,value:e,error:n}}let Ks=null;function uh(t){if(Ws.useDeprecatedSynchronousErrorHandling){const e=!Ks;if(e&&(Ks={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ks;if(Ks=null,n)throw r}}else t()}class Jm extends Mn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,XS(e)&&e.add(this)):this.destination=YG}static create(e,n,r){return new ea(e,n,r)}next(e){this.isStopped?e_(function zG(t){return Xm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?e_(function GG(t){return Xm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?e_(HG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const WG=Function.prototype.bind;function Zm(t,e){return WG.call(t,e)}class KG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ch(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ch(r)}else ch(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ch(n)}}}class ea extends Jm{constructor(e,n,r){let i;if(super(),he(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ws.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zm(e.next,s),error:e.error&&Zm(e.error,s),complete:e.complete&&Zm(e.complete,s)}):i=e}this.destination=new KG(i)}}function ch(t){Ws.useDeprecatedSynchronousErrorHandling?function qG(t){Ws.useDeprecatedSynchronousErrorHandling&&Ks&&(Ks.errorThrown=!0,Ks.error=t)}(t):ZS(t)}function e_(t,e){const{onStoppedNotification:n}=Ws;n&&ah.setTimeout(()=>n(t,e))}const YG={closed:!0,next:cc,error:function QG(t){throw t},complete:cc},t_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qi(t){return t}function e0(t){return 0===t.length?Qi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let He=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function ZG(t){return t&&t instanceof Jm||function JG(t){return t&&he(t.next)&&he(t.error)&&he(t.complete)}(t)&&XS(t)}(n)?n:new ea(n,r,i);return uh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=t0(r))((i,s)=>{const o=new ea({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[t_](){return this}pipe(...n){return e0(n)(this)}toPromise(n){return new(n=t0(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function t0(t){var e;return null!==(e=t??Ws.Promise)&&void 0!==e?e:Promise}const e4=uc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let wt=(()=>{class t extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new n0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new e4}next(n){uh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){uh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){uh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?YS:(this.currentObservers=null,s.push(n),new Mn(()=>{this.currentObservers=null,Zo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new He;return n.source=this,n}}return t.create=(e,n)=>new n0(e,n),t})();class n0 extends wt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:YS}}function r0(t){return he(t?.lift)}function at(t){return e=>{if(r0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(t,e,n,r,i){return new t4(t,e,n,r,i)}class t4 extends Jm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ce(t,e){return at((n,r)=>{let i=0;n.subscribe(ut(r,s=>{r.next(t.call(e,s,i++))}))})}function lh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Yi(t){return this instanceof Yi?(this.v=t,this):new Yi(t)}function u0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function s_(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const o_=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function c0(t){return he(t?.then)}function l0(t){return he(t[t_])}function d0(t){return Symbol.asyncIterator&&he(t?.[Symbol.asyncIterator])}function h0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const f0=function w4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function p0(t){return he(t?.[f0])}function g0(t){return function a0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Yi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Yi(n.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{n.releaseLock()}})}function m0(t){return he(t?.getReader)}function Yt(t){if(t instanceof He)return t;if(null!=t){if(l0(t))return function T4(t){return new He(e=>{const n=t[t_]();if(he(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(o_(t))return function b4(t){return new He(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(c0(t))return function C4(t){return new He(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ZS)})}(t);if(d0(t))return _0(t);if(p0(t))return function D4(t){return new He(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(m0(t))return function A4(t){return _0(g0(t))}(t)}throw h0(t)}function _0(t){return new He(e=>{(function S4(t,e){var n,r,i,s;return function s0(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=u0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function li(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Tt(t,e,n=1/0){return he(e)?Tt((r,i)=>ce((s,o)=>e(r,s,i,o))(Yt(t(r,i))),n):("number"==typeof e&&(n=e),at((r,i)=>function R4(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let _=!1;Yt(n(g,l++)).subscribe(ut(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const v=u.shift();o?li(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ta(t=1/0){return Tt(Qi,t)}const kr=new He(t=>t.complete());function y0(t){return t&&he(t.schedule)}function a_(t){return t[t.length-1]}function v0(t){return he(a_(t))?t.pop():void 0}function lc(t){return y0(a_(t))?t.pop():void 0}function E0(t,e=0){return at((n,r)=>{n.subscribe(ut(r,i=>li(r,t,()=>r.next(i),e),()=>li(r,t,()=>r.complete(),e),i=>li(r,t,()=>r.error(i),e)))})}function I0(t,e=0){return at((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function w0(t,e){if(!t)throw new Error("Iterable cannot be null");return new He(n=>{li(n,e,()=>{const r=t[Symbol.asyncIterator]();li(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function bt(t,e){return e?function F4(t,e){if(null!=t){if(l0(t))return function M4(t,e){return Yt(t).pipe(I0(e),E0(e))}(t,e);if(o_(t))return function k4(t,e){return new He(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(c0(t))return function N4(t,e){return Yt(t).pipe(I0(e),E0(e))}(t,e);if(d0(t))return w0(t,e);if(p0(t))return function O4(t,e){return new He(n=>{let r;return li(n,e,()=>{r=t[f0](),li(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>he(r?.return)&&r.return()})}(t,e);if(m0(t))return function V4(t,e){return w0(g0(t),e)}(t,e)}throw h0(t)}(t,e):Yt(t)}function dh(...t){const e=lc(t),n=function P4(t,e){return"number"==typeof a_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Yt(r[0]):ta(n)(bt(r,e)):kr}class Hn extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function K(...t){return bt(t,lc(t))}function u_(t={}){const{connector:e=(()=>new wt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return at((g,_)=>{c++,!d&&!l&&h();const v=u=u??e();_.add(()=>{c--,0===c&&!d&&!l&&(a=c_(p,i))}),v.subscribe(_),!o&&c>0&&(o=new ea({next:y=>v.next(y),error:y=>{d=!0,h(),a=c_(f,n,y),v.error(y)},complete:()=>{l=!0,h(),a=c_(f,r),v.complete()}}),Yt(g).subscribe(o))})(s)}}function c_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ea({next:()=>{r.unsubscribe(),t()}});return Yt(e(...n)).subscribe(r)}function Xt(t,e){return at((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ut(r,u=>{i?.unsubscribe();let c=0;const l=s++;Yt(t(u,l)).subscribe(i=ut(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function T0(t,e=Qi){return t=t??L4,at((n,r)=>{let i,s=!0;n.subscribe(ut(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function L4(t,e){return t===e}function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function hh(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ct(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ct).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function l_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const U4=Se({__forward_ref__:Se});function Me(t){return t.__forward_ref__=Me,t.toString=function(){return Ct(this())},t}function ee(t){return d_(t)?t():t}function d_(t){return"function"==typeof t&&t.hasOwnProperty(U4)&&t.__forward_ref__===Me}function h_(t){return t&&!!t.\u0275providers}const b0="https://g.co/ng/security#xss";class D extends Error{constructor(e,n){super(function fh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function f_(t,e){throw new D(-201,!1)}function cr(t,e){null==t&&function X(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ph(t){return C0(t,mh)||C0(t,D0)}function C0(t,e){return t.hasOwnProperty(e)?t[e]:null}function gh(t){return t&&(t.hasOwnProperty(p_)||t.hasOwnProperty(W4))?t[p_]:null}const mh=Se({\u0275prov:Se}),p_=Se({\u0275inj:Se}),D0=Se({ngInjectableDef:Se}),W4=Se({ngInjectorDef:Se});var fe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fe||{});let g_;function Nn(t){const e=g_;return g_=t,e}function S0(t,e,n){const r=ph(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&fe.Optional?null:void 0!==e?e:void f_(Ct(t))}const Oe=globalThis,dc={},E_="__NG_DI_FLAG__",_h="ngTempTokenPath",Y4=/\n/gm,x0="__source";let na;function Xi(t){const e=na;return na=t,e}function Z4(t,e=fe.Default){if(void 0===na)throw new D(-203,!1);return null===na?S0(t,void 0,e):na.get(t,e&fe.Optional?null:void 0,e)}function U(t,e=fe.Default){return(function A0(){return g_}()||Z4)(ee(t),e)}function F(t,e=fe.Default){return U(t,yh(e))}function yh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function I_(t){const e=[];for(let n=0;n<t.length;n++){const r=ee(t[n]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,s=fe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=ez(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function hc(t,e){return t[E_]=e,t.prototype[E_]=e,t}function ez(t){return t[E_]}function di(t){return{toString:t}.toString()}var vh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vh||{}),vr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vr||{});const Or={},we=[],Eh=Se({\u0275cmp:Se}),w_=Se({\u0275dir:Se}),T_=Se({\u0275pipe:Se}),M0=Se({\u0275mod:Se}),hi=Se({\u0275fac:Se}),fc=Se({__NG_ELEMENT_ID__:Se}),N0=Se({__NG_ENV_ID__:Se});function k0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function b_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];V0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function O0(t){return 3===t||4===t||6===t}function V0(t){return 64===t.charCodeAt(0)}function pc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||F0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function F0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const L0="ng-template";function rz(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==k0(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function U0(t){return 4===t.type&&t.value!==L0}function iz(t,e,n){return e===(4!==t.type||n?t.value:L0)}function sz(t,e,n){let r=4;const i=t.attrs||[],s=function uz(t){for(let e=0;e<t.length;e++)if(O0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!iz(t,u,n)||""===u&&1===e.length){if(Er(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!rz(t.attrs,c,n)){if(Er(r))return!1;o=!0}continue}const d=oz(8&r?"class":u,i,U0(t),n);if(-1===d){if(Er(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==k0(f,c,0)||2&r&&c!==h){if(Er(r))return!1;o=!0}}}}else{if(!o&&!Er(r)&&!Er(u))return!1;if(o&&Er(u))continue;o=!1,r=u|1&r}}return Er(r)||o}function Er(t){return 0==(1&t)}function oz(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function cz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function B0(t,e,n=!1){for(let r=0;r<e.length;r++)if(sz(t,e[r],n))return!0;return!1}function lz(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function j0(t,e){return t?":not("+e.trim()+")":e}function dz(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Er(o)&&(e+=j0(s,i),i=""),r=o,s=s||!Er(r);n++}return""!==i&&(e+=j0(s,i)),e}function Dt(t){return di(()=>{const e=H0(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vr.Emulated,styles:t.styles||we,_:null,schemas:t.schemas||null,tView:null,id:""};G0(n);const r=t.dependencies;return n.directiveDefs=Ih(r,!1),n.pipeDefs=Ih(r,!0),n.id=function vz(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function gz(t){return ye(t)||Lt(t)}function mz(t){return null!==t}function fn(t){return di(()=>({type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $0(t,e){if(null==t)return Or;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function J(t){return di(()=>{const e=H0(t);return G0(e),e})}function Zt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ye(t){return t[Eh]||null}function Lt(t){return t[w_]||null}function pn(t){return t[T_]||null}function zn(t,e){const n=t[M0]||null;if(!n&&!0===e)throw new Error(`Type ${Ct(t)} does not have '\u0275mod' property.`);return n}function H0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Or,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$0(t.inputs,e),outputs:$0(t.outputs)}}function G0(t){t.features?.forEach(e=>e(t))}function Ih(t,e){if(!t)return null;const n=e?pn:gz;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(mz)}const tt=0,O=1,oe=2,qe=3,Ir=4,gc=5,en=6,ia=7,ct=8,Ji=9,sa=10,re=11,mc=12,z0=13,oa=14,lt=15,_c=16,aa=17,Vr=18,yc=19,q0=20,Zi=21,fi=22,vc=23,Ec=24,pe=25,C_=1,W0=2,Fr=7,ua=9,Ut=11;function kn(t){return Array.isArray(t)&&"object"==typeof t[C_]}function gn(t){return Array.isArray(t)&&!0===t[C_]}function D_(t){return 0!=(4&t.flags)}function Ys(t){return t.componentOffset>-1}function Th(t){return 1==(1&t.flags)}function wr(t){return!!t.template}function A_(t){return 0!=(512&t[oe])}function Xs(t,e){return t.hasOwnProperty(hi)?t[hi]:null}let Bt=null,bh=!1;function lr(t){const e=Bt;return Bt=t,e}const Y0={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function J0(t){if(!wc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!tR(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function eR(t){t.dirty=!0,function Z0(t){if(void 0===t.liveConsumerNode)return;const e=bh;bh=!0;try{for(const n of t.liveConsumerNode)n.dirty||eR(n)}finally{bh=e}}(t),t.consumerMarkedDirty?.(t)}function R_(t){return t&&(t.nextProducerIndex=0),lr(t)}function x_(t,e){if(lr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(wc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ch(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tR(t){ca(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(J0(n),r!==n.version))return!0}return!1}function nR(t){if(ca(t),wc(t))for(let e=0;e<t.producerNode.length;e++)Ch(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ch(t,e){if(function iR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ca(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Ch(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ca(i),i.producerIndexOfThis[r]=e}}function wc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ca(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let sR=null;function uR(t){const e=lr(null);try{return t()}finally{lr(e)}}const cR=()=>{},Mz=(()=>({...Y0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:cR}))();class Nz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function qn(){return lR}function lR(t){return t.type.prototype.ngOnChanges&&(t.setInput=Oz),kz}function kz(){const t=hR(this),e=t?.current;if(e){const n=t.previous;if(n===Or)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Oz(t,e,n,r){const i=this.declaredInputs[n],s=hR(t)||function Vz(t,e){return t[dR]=e}(t,{previous:Or,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Nz(u&&u.currentValue,e,a===Or),t[r]=e}qn.ngInherit=!0;const dR="__ngSimpleChanges__";function hR(t){return t[dR]||null}const Lr=function(t,e,n){};function Ve(t){for(;Array.isArray(t);)t=t[tt];return t}function Dh(t,e){return Ve(e[t])}function On(t,e){return Ve(e[t.index])}function gR(t,e){return t.data[e]}function Wn(t,e){const n=e[t];return kn(n)?n:n[tt]}function ts(t,e){return null==e?null:t[e]}function mR(t){t[aa]=0}function $z(t){1024&t[oe]||(t[oe]|=1024,yR(t,1))}function _R(t){1024&t[oe]&&(t[oe]&=-1025,yR(t,-1))}function yR(t,e){let n=t[qe];if(null===n)return;n[gc]+=e;let r=n;for(n=n[qe];null!==n&&(1===e&&1===r[gc]||-1===e&&0===r[gc]);)n[gc]+=e,r=n,n=n[qe]}const Z={lFrame:RR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function IR(){return Z.bindingsEnabled}function da(){return null!==Z.skipHydrationRootTNode}function b(){return Z.lFrame.lView}function ve(){return Z.lFrame.tView}function Ur(t){return Z.lFrame.contextLView=t,t[ct]}function Br(t){return Z.lFrame.contextLView=null,t}function jt(){let t=wR();for(;null!==t&&64===t.type;)t=t.parent;return t}function wR(){return Z.lFrame.currentTNode}function jr(t,e){const n=Z.lFrame;n.currentTNode=t,n.isParent=e}function O_(){return Z.lFrame.isParent}function V_(){Z.lFrame.isParent=!1}function mn(){const t=Z.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ha(){return Z.lFrame.bindingIndex++}function eq(t,e){const n=Z.lFrame;n.bindingIndex=n.bindingRootIndex=t,F_(e)}function F_(t){Z.lFrame.currentDirectiveIndex=t}function DR(){return Z.lFrame.currentQueryIndex}function U_(t){Z.lFrame.currentQueryIndex=t}function nq(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[en]:null}function AR(t,e,n){if(n&fe.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&fe.Host||(i=nq(s),null===i||(s=s[oa],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Z.lFrame=SR();return r.currentTNode=e,r.lView=t,!0}function B_(t){const e=SR(),n=t[O];Z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function SR(){const t=Z.lFrame,e=null===t?null:t.child;return null===e?RR(t):e}function RR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function xR(){const t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const PR=xR;function j_(){const t=xR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _n(){return Z.lFrame.selectedIndex}function Js(t){Z.lFrame.selectedIndex=t}let NR=!0;function Ah(){return NR}function ns(t){NR=t}function Sh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Rh(t,e,n){kR(t,e,3,n)}function xh(t,e,n,r){(3&t[oe])===n&&kR(t,e,n,r)}function $_(t,e){let n=t[oe];(3&n)===e&&(n&=8191,n+=1,t[oe]=n)}function kR(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[aa]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[aa]+=65536),(a<s||-1==s)&&(lq(t,n,e,u),t[aa]=(4294901760&t[aa])+u+2),u++}function OR(t,e){Lr(4,t,e);const n=lr(null);try{e.call(t)}finally{lr(n),Lr(5,t,e)}}function lq(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[oe]>>13<t[aa]>>16&&(3&t[oe])===e&&(t[oe]+=8192,OR(a,s)):OR(a,s)}const fa=-1;class bc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function G_(t){return t!==fa}function Cc(t){return 32767&t}function Dc(t,e){let n=function pq(t){return t>>16}(t),r=e;for(;n>0;)r=r[oa],n--;return r}let z_=!0;function Ph(t){const e=z_;return z_=t,e}const VR=255,FR=5;let gq=0;const $r={};function Mh(t,e){const n=LR(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,q_(r.data,t),q_(e,null),q_(r.blueprint,null));const i=Nh(t,e),s=t.injectorIndex;if(G_(i)){const o=Cc(i),a=Dc(i,e),u=a[O].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function q_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function LR(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Nh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=zR(i),null===r)return fa;if(n++,i=i[oa],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return fa}function W_(t,e,n){!function mq(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(fc)&&(r=n[fc]),null==r&&(r=n[fc]=gq++);const i=r&VR;e.data[t+(i>>FR)]|=1<<i}(t,e,n)}function UR(t,e,n){if(n&fe.Optional||void 0!==t)return t;f_()}function BR(t,e,n,r){if(n&fe.Optional&&void 0===r&&(r=null),!(n&(fe.Self|fe.Host))){const i=t[Ji],s=Nn(void 0);try{return i?i.get(e,r,n&fe.Optional):S0(e,r,n&fe.Optional)}finally{Nn(s)}}return UR(r,0,n)}function jR(t,e,n,r=fe.Default,i){if(null!==t){if(2048&e[oe]&&!(r&fe.Self)){const o=function wq(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[oe]&&!(512&o[oe]);){const a=$R(s,o,n,r|fe.Self,$r);if(a!==$r)return a;let u=s.parent;if(!u){const c=o[q0];if(c){const l=c.get(n,$r,r);if(l!==$r)return l}u=zR(o),o=o[oa]}s=u}return i}(t,e,n,r,$r);if(o!==$r)return o}const s=$R(t,e,n,r,$r);if(s!==$r)return s}return BR(e,n,r,i)}function $R(t,e,n,r,i){const s=function vq(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(fc)?t[fc]:void 0;return"number"==typeof e?e>=0?e&VR:Iq:e}(n);if("function"==typeof s){if(!AR(e,t,r))return r&fe.Host?UR(i,0,r):BR(e,n,r,i);try{let o;if(o=s(r),null!=o||r&fe.Optional)return o;f_()}finally{PR()}}else if("number"==typeof s){let o=null,a=LR(t,e),u=fa,c=r&fe.Host?e[lt][en]:null;for((-1===a||r&fe.SkipSelf)&&(u=-1===a?Nh(t,e):e[a+8],u!==fa&&GR(r,!1)?(o=e[O],a=Cc(u),e=Dc(u,e)):a=-1);-1!==a;){const l=e[O];if(HR(s,a,l.data)){const d=yq(a,e,n,o,r,c);if(d!==$r)return d}u=e[a+8],u!==fa&&GR(r,e[O].data[a+8]===c)&&HR(s,a,e)?(o=l,a=Cc(u),e=Dc(u,e)):a=-1}}return i}function yq(t,e,n,r,i,s){const o=e[O],a=o.data[t+8],l=kh(a,o,n,null==r?Ys(a)&&z_:r!=o&&0!=(3&a.type),i&fe.Host&&s===a);return null!==l?Zs(e,o,l,a):$r}function kh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&wr(f)&&f.type===n)return u}return null}function Zs(t,e,n,r){let i=t[n];const s=e.data;if(function dq(t){return t instanceof bc}(i)){const o=i;o.resolving&&function B4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new D(-200,`Circular dependency in DI detected for ${t}${n}`)}(function De(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}(s[n]));const a=Ph(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Nn(o.injectImpl):null;AR(t,r,fe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function cq(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=lR(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Nn(c),Ph(a),o.resolving=!1,PR()}}return i}function HR(t,e,n){return!!(n[e+(t>>FR)]&1<<t)}function GR(t,e){return!(t&fe.Self||t&fe.Host&&e)}class yn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jR(this._tNode,this._lView,e,yh(r),n)}}function Iq(){return new yn(jt(),b())}function $t(t){return di(()=>{const e=t.prototype.constructor,n=e[hi]||K_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[hi]||K_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function K_(t){return d_(t)?()=>{const e=K_(ee(t));return e&&e()}:Xs(t)}function zR(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[en]:null}const ga="__parameters__";function _a(t,e,n){return di(()=>{const r=function Q_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ga)?u[ga]:Object.defineProperty(u,ga,{value:[]})[ga];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function va(t,e){t.forEach(n=>Array.isArray(n)?va(n,e):e(n))}function WR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Rc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Kn(t,e,n){let r=Ea(t,e);return r>=0?t[1|r]=n:(r=~r,function Rq(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Y_(t,e){const n=Ea(t,e);if(n>=0)return t[1|n]}function Ea(t,e){return function KR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Lh=hc(_a("Optional"),8),Uh=hc(_a("SkipSelf"),4);function Gh(t){return 128==(128&t.flags)}var rs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rs||{});const ty=new Map;let Zq=0;const ry="__ngContext__";function tn(t,e){kn(e)?(t[ry]=e[yc],function t3(t){ty.set(t[yc],t)}(e)):t[ry]=e}let iy;function sy(t,e){return iy(t,e)}function Mc(t){const e=t[qe];return gn(e)?e[qe]:e}function px(t){return mx(t[mc])}function gx(t){return mx(t[Ir])}function mx(t){for(;null!==t&&!gn(t);)t=t[Ir];return t}function Ta(t,e,n,r,i){if(null!=r){let s,o=!1;gn(r)?s=r:kn(r)&&(o=!0,r=r[tt]);const a=Ve(r);0===t&&null!==n?null==i?Ex(e,n,a):eo(e,n,a,i||null,!0):1===t&&null!==n?eo(e,n,a,i||null,!0):2===t?function Xh(t,e,n){const r=Qh(t,e);r&&function E3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function T3(t,e,n,r,i){const s=n[Fr];s!==Ve(n)&&Ta(e,t,r,s,i);for(let a=Ut;a<n.length;a++){const u=n[a];kc(u[O],u,t,e,r,s)}}(e,t,s,n,i)}}function Wh(t,e,n){return t.createElement(e,n)}function yx(t,e){const n=t[ua],r=n.indexOf(e);_R(e),n.splice(r,1)}function Kh(t,e){if(t.length<=Ut)return;const n=Ut+e,r=t[n];if(r){const i=r[_c];null!==i&&i!==t&&yx(i,r),e>0&&(t[n-1][Ir]=r[Ir]);const s=Vh(t,Ut+e);!function h3(t,e){kc(t,e,e[re],2,null,null),e[tt]=null,e[en]=null}(r[O],r);const o=s[Vr];null!==o&&o.detachView(s[O]),r[qe]=null,r[Ir]=null,r[oe]&=-129}return r}function ay(t,e){if(!(256&e[oe])){const n=e[re];e[vc]&&nR(e[vc]),e[Ec]&&nR(e[Ec]),n.destroyNode&&kc(t,e,n,3,null,null),function g3(t){let e=t[mc];if(!e)return uy(t[O],t);for(;e;){let n=null;if(kn(e))n=e[mc];else{const r=e[Ut];r&&(n=r)}if(!n){for(;e&&!e[Ir]&&e!==t;)kn(e)&&uy(e[O],e),e=e[qe];null===e&&(e=t),kn(e)&&uy(e[O],e),n=e&&e[Ir]}e=n}}(e)}}function uy(t,e){if(!(256&e[oe])){e[oe]&=-129,e[oe]|=256,function v3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof bc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Lr(4,a,u);try{u.call(a)}finally{Lr(5,a,u)}}else{Lr(4,i,s);try{s.call(i)}finally{Lr(5,i,s)}}}}}(t,e),function y3(t,e){const n=t.cleanup,r=e[ia];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[ia]=null);const i=e[Zi];if(null!==i){e[Zi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[O].type&&e[re].destroy();const n=e[_c];if(null!==n&&gn(e[qe])){n!==e[qe]&&yx(n,e);const r=e[Vr];null!==r&&r.detachView(t)}!function n3(t){ty.delete(t[yc])}(e)}}function cy(t,e,n){return function vx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[tt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===vr.None||s===vr.Emulated)return null}return On(r,n)}}(t,e.parent,n)}function eo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ex(t,e,n){t.appendChild(e,n)}function Ix(t,e,n,r,i){null!==r?eo(t,e,n,r,i):Ex(t,e,n)}function Qh(t,e){return t.parentNode(e)}function wx(t,e,n){return bx(t,e,n)}let ly,Jh,py,bx=function Tx(t,e,n){return 40&t.type?On(t,n):null};function Yh(t,e,n,r){const i=cy(t,r,e),s=e[re],a=wx(r.parent||e[en],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ix(s,i,n[u],a,!1);else Ix(s,i,n,a,!1);void 0!==ly&&ly(s,r,e,n,i)}function Nc(t,e){if(null!==e){const n=e.type;if(3&n)return On(e,t);if(4&n)return dy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Nc(t,r);{const i=t[e.index];return gn(i)?dy(-1,i):Ve(i)}}if(32&n)return sy(e,t)()||Ve(t[e.index]);{const r=Dx(t,e);return null!==r?Array.isArray(r)?r[0]:Nc(Mc(t[lt]),r):Nc(t,e.next)}}return null}function Dx(t,e){return null!==e?t[lt][en].projection[e.projection]:null}function dy(t,e){const n=Ut+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return Nc(r,i)}return e[Fr]}function hy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&tn(Ve(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)hy(t,e,n.child,r,i,s,!1),Ta(e,t,i,a,s);else if(32&u){const c=sy(n,r);let l;for(;l=c();)Ta(e,t,i,l,s);Ta(e,t,i,a,s)}else 16&u?Sx(t,e,r,n,i,s):Ta(e,t,i,a,s);n=o?n.projectionNext:n.next}}function kc(t,e,n,r,i,s){hy(n,r,t.firstChild,e,i,s,!1)}function Sx(t,e,n,r,i,s){const o=n[lt],u=o[en].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ta(e,t,i,u[c],s);else{let c=u;const l=o[qe];Gh(r)&&(c.flags|=128),hy(t,e,c,l,i,s,!0)}}function Rx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function xx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&b_(t,e,r),null!==i&&Rx(t,e,i),null!==s&&function C3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function ba(t){return function fy(){if(void 0===Jh&&(Jh=null,Oe.trustedTypes))try{Jh=Oe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jh}()?.createHTML(t)||t}class to{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${b0})`}}class x3 extends to{getTypeName(){return"HTML"}}class P3 extends to{getTypeName(){return"Style"}}class M3 extends to{getTypeName(){return"Script"}}class N3 extends to{getTypeName(){return"URL"}}class k3 extends to{getTypeName(){return"ResourceURL"}}function Qn(t){return t instanceof to?t.changingThisBreaksApplicationSecurity:t}function Hr(t,e){const n=function O3(t){return t instanceof to&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${b0})`)}return n===e}class j3{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(ba(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class $3{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=ba(e),n}}const G3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ef(t){return(t=String(t)).match(G3)?t:"unsafe:"+t}function mi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Oc(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Ox=mi("area,br,col,hr,img,wbr"),Vx=mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fx=mi("rp,rt"),my=Oc(Ox,Oc(Vx,mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Oc(Fx,mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Oc(Fx,Vx)),_y=mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lx=Oc(_y,mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),z3=mi("script,style,template");class q3{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!my.hasOwnProperty(n))return this.sanitizedSomething=!0,!z3.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Lx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;_y[a]&&(u=ef(u)),this.buf.push(" ",o,'="',Ux(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();my.hasOwnProperty(n)&&!Ox.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Ux(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const W3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,K3=/([^\#-~ |!])/g;function Ux(t){return t.replace(/&/g,"&amp;").replace(W3,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(K3,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tf;function Bx(t,e){let n=null;try{tf=tf||function kx(t){const e=new $3(t);return function H3(){try{return!!(new window.DOMParser).parseFromString(ba(""),"text/html")}catch{return!1}}()?new j3(e):e}(t);let r=e?String(e):"";n=tf.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=tf.getInertBodyElement(r)}while(r!==s);return ba((new q3).sanitizeChildren(yy(n)||n))}finally{if(n){const r=yy(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function yy(t){return"content"in t&&function Q3(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Yn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yn||{});function vy(t){const e=function Vc(){const t=b();return t&&t[sa].sanitizer}();return e?e.sanitize(Yn.URL,t)||"":Hr(t,"URL")?Qn(t):ef(ne(t))}class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fc=new V("ENVIRONMENT_INITIALIZER"),Hx=new V("INJECTOR",-1),Gx=new V("INJECTOR_DEF_TYPES");class Ey{get(e,n=dc){if(n===dc){const r=new Error(`NullInjectorError: No provider for ${Ct(e)}!`);throw r.name="NullInjectorError",r}return n}}function nf(t){return{\u0275providers:t}}function n9(...t){return{\u0275providers:zx(0,t),\u0275fromNgModule:!0}}function zx(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return va(e,o=>{const a=o;rf(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&qx(i,s),n}function qx(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Iy(i,s=>{e(s,r)})}}function rf(t,e,n,r){if(!(t=ee(t)))return!1;let i=null,s=gh(t);const o=!s&&ye(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=gh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)rf(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{va(s.imports,l=>{rf(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&qx(c,e)}if(!a){const c=Xs(i)||(()=>new i);e({provide:i,useFactory:c,deps:we},i),e({provide:Gx,useValue:i,multi:!0},i),e({provide:Fc,useValue:()=>U(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Iy(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Iy(t,e){for(let n of t)h_(n)&&(n=n.\u0275providers),Array.isArray(n)?Iy(n,e):e(n)}const r9=Se({provide:String,useValue:Se});function wy(t){return null!==t&&"object"==typeof t&&r9 in t}function no(t){return"function"==typeof t}const Ty=new V("Set Injector scope."),sf={},s9={};let by;function af(){return void 0===by&&(by=new Ey),by}class Xn{}class uf extends Xn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dy(e,o=>this.processProvider(o)),this.records.set(Hx,Da(void 0,this)),i.has("environment")&&this.records.set(Xn,Da(void 0,this));const s=this.records.get(Ty);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Gx.multi,we,fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Xi(this),r=Nn(void 0);try{return e()}finally{Xi(n),Nn(r)}}get(e,n=dc,r=fe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(N0))return e[N0](this);r=yh(r);const s=Xi(this),o=Nn(void 0);try{if(!(r&fe.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function l9(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&ph(e);u=c&&this.injectableDefInScope(c)?Da(Cy(e),sf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&fe.Self?af():this.parent).get(e,n=r&fe.Optional&&n===dc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[_h]=a[_h]||[]).unshift(Ct(e)),s)throw a;return function tz(t,e,n,r){const i=t[_h];throw e[x0]&&i.unshift(e[x0]),t.message=function nz(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ct(e);if(Array.isArray(e))i=e.map(Ct).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ct(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Y4,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[_h]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Nn(o),Xi(s)}}resolveInjectorInitializers(){const e=Xi(this),n=Nn(void 0);try{const i=this.get(Fc.multi,we,fe.Self);for(const s of i)s()}finally{Xi(e),Nn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ct(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let n=no(e=ee(e))?e:ee(e&&e.provide);const r=function a9(t){return wy(t)?Da(void 0,t.useValue):Da(Qx(t),sf)}(e);if(no(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Da(void 0,sf,!0),i.factory=()=>I_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===sf&&(n.value=s9,n.value=n.factory()),"object"==typeof n.value&&n.value&&function c9(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ee(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Cy(t){const e=ph(t),n=null!==e?e.factory:Xs(t);if(null!==n)return n;if(t instanceof V)throw new D(204,!1);if(t instanceof Function)return function o9(t){const e=t.length;if(e>0)throw Rc(e,"?"),new D(204,!1);const n=function q4(t){return t&&(t[mh]||t[D0])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new D(204,!1)}function Qx(t,e,n){let r;if(no(t)){const i=ee(t);return Xs(i)||Cy(i)}if(wy(t))r=()=>ee(t.useValue);else if(function Kx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...I_(t.deps||[]));else if(function Wx(t){return!(!t||!t.useExisting)}(t))r=()=>U(ee(t.useExisting));else{const i=ee(t&&(t.useClass||t.provide));if(!function u9(t){return!!t.deps}(t))return Xs(i)||Cy(i);r=()=>new i(...I_(t.deps))}return r}function Da(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Dy(t,e){for(const n of t)Array.isArray(n)?Dy(n,e):n&&h_(n)?Dy(n.\u0275providers,e):e(n)}const cf=new V("AppId",{providedIn:"root",factory:()=>d9}),d9="ng",Yx=new V("Platform Initializer"),Tr=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xx=new V("CSP nonce",{providedIn:"root",factory:()=>function Ca(){if(void 0!==py)return py;if(typeof document<"u")return document;throw new D(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Jx=(t,e,n)=>null;function ky(t,e,n=!1){return Jx(t,e,n)}class I9{}class tP{}class T9{resolveComponentFactory(e){throw function w9(t){const e=Error(`No component factory found for ${Ct(t)}.`);return e.ngComponent=t,e}(e)}}let gf=(()=>{class t{static#e=this.NULL=new T9}return t})();function b9(){return Ra(jt(),b())}function Ra(t,e){return new nn(On(t,e))}let nn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=b9}return t})();function C9(t){return t instanceof nn?t.nativeElement:t}class rP{}let _i=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function D9(){const t=b(),n=Wn(jt().index,t);return(kn(n)?n:t)[re]}()}return t})(),A9=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();class Bc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const S9=new Bc("16.2.8"),Fy={};function aP(t,e=null,n=null,r){const i=uP(t,e,n,r);return i.resolveInjectorInitializers(),i}function uP(t,e=null,n=null,r,i=new Set){const s=[n||we,n9(t)];return r=r||("object"==typeof t?void 0:Ct(t)),new uf(s,e||af(),r||null,i)}let vn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=dc;static#t=this.NULL=new Ey;static create(n,r){if(Array.isArray(n))return aP({name:""},r,n,"");{const i=n.name??"";return aP({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=G({token:t,providedIn:"any",factory:()=>U(Hx)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Uy(t){return t.ngOriginalError}class yi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Uy(e);for(;n&&Uy(n);)n=Uy(n);return n||null}}function jy(t){return e=>{setTimeout(t,void 0,e)}}const R=class O9 extends wt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=jy(s),i&&(i=jy(i)),o&&(o=jy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Mn&&e.add(a),a}};function lP(...t){}class Ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new R(!1),this.onMicrotaskEmpty=new R(!1),this.onStable=new R(!1),this.onError=new R(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function V9(){const t="function"==typeof Oe.requestAnimationFrame;let e=Oe[t?"requestAnimationFrame":"setTimeout"],n=Oe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function U9(t){const e=()=>{!function L9(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Oe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hy(t),t.isCheckStableRunning=!0,$y(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function j9(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return dP(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),hP(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return dP(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),hP(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Hy(t),$y(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,F9,lP,lP);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const F9={};function $y(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hP(t){t._nesting--,$y(t)}class B9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new R,this.onMicrotaskEmpty=new R,this.onStable=new R,this.onError=new R}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const fP=new V("",{providedIn:"root",factory:pP});function pP(){const t=F(Ae);let e=!0;return dh(new He(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new He(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(u_()))}function vi(t){return t instanceof Function?t():t}let Gy=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function jc(t){for(;t;){t[oe]|=64;const e=Mc(t);if(A_(t)&&!e)return t;t=e}return null}const vP=new V("",{providedIn:"root",factory:()=>!1});let _f=null;function TP(t,e){return t[e]??DP()}function bP(t,e){const n=DP();n.producerNode?.length&&(t[e]=_f,n.lView=t,_f=CP())}const X9={...Y0,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{jc(t.lView)},lView:null};function CP(){return Object.create(X9)}function DP(){return _f??=CP(),_f}const se={};function le(t){AP(ve(),b(),_n()+t,!1)}function AP(t,e,n,r){if(!r)if(3==(3&e[oe])){const s=t.preOrderCheckHooks;null!==s&&Rh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&xh(e,s,0,n)}Js(n)}function T(t,e=fe.Default){const n=b();return null===n?U(t,e):jR(jt(),n,ee(t),e)}function yf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[tt]=i,d[oe]=140|r,(null!==c||t&&2048&t[oe])&&(d[oe]|=2048),mR(d),d[qe]=d[oa]=t,d[ct]=n,d[sa]=o||t&&t[sa],d[re]=a||t&&t[re],d[Ji]=u||t&&t[Ji]||null,d[en]=s,d[yc]=function e3(){return Zq++}(),d[fi]=l,d[q0]=c,d[lt]=2==e.type?t[lt]:d,d}function Ma(t,e,n,r,i){let s=t.data[e];if(null===s)s=function zy(t,e,n,r,i){const s=wR(),o=O_(),u=t.data[e]=function s6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return da()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Zz(){return Z.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Tc(){const t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return jr(s,!0),s}function $c(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function RP(t,e,n,r,i){const s=TP(e,vc),o=_n(),a=2&r;try{Js(-1),a&&e.length>pe&&AP(t,e,pe,!1),Lr(a?2:0,i);const c=a?s:null,l=R_(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{x_(c,l)}}finally{a&&null===e[vc]&&bP(e,vc),Js(o),Lr(a?3:1,i)}}function qy(t,e,n){if(D_(e)){const r=lr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{lr(r)}}}function Wy(t,e,n){IR()&&(function h6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ys(n)&&function v6(t,e,n){const r=On(e,t),i=xP(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=vf(t,yf(t,i,null,o,r,e,null,t[sa].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Mh(n,e),tn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Zs(e,t,a,n);tn(c,e),null!==o&&E6(0,a-i,c,u,0,o),wr(u)&&(Wn(n.index,e)[ct]=Zs(e,t,a,n))}}(t,e,n,On(n,e)),64==(64&n.flags)&&OP(t,e,n))}function Ky(t,e,n=On){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xP(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Qy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Qy(t,e,n,r,i,s,o,a,u,c,l){const d=pe+r,h=d+i,f=function Z9(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:se);return n}(d,h),p="function"==typeof c?c():c;return f[O]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let PP=t=>null;function MP(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?NP(n,e,i,s):r.hasOwnProperty(i)&&NP(n,e,r[i],s)}return n}function NP(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Yy(t,e,n,r){if(IR()){const i=null===r?null:{"":-1},s=function p6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(B0(e,o.selectors,!1))if(r||(r=[]),wr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Xy(t,e,a.length)}else r.unshift(o),Xy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&kP(t,e,n,o,i,a),i&&function g6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new D(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=pc(n.mergedAttrs,n.attrs)}function kP(t,e,n,r,i,s){for(let c=0;c<r.length;c++)W_(Mh(n,e),t,r[c].type);!function _6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=$c(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=pc(n.mergedAttrs,l.hostAttrs),y6(t,n,e,u,l),m6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function o6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=MP(d.inputs,l,u,h?h.inputs:null),c=MP(d.outputs,l,c,p);const g=null===u||null===o||U0(e)?null:I6(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function OP(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function tq(){return Z.lFrame.currentDirectiveIndex}();try{Js(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];F_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&f6(u,c)}}finally{Js(-1),F_(o)}}function f6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Xy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function m6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;wr(e)&&(n[""]=t)}}function y6(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Xs(i.type)),o=new bc(s,wr(i),T);t.blueprint[r]=o,n[r]=o,function l6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function d6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,$c(t,n,i.hostVars,se),i)}function E6(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)VP(r,n,o[a++],o[a++],o[a++])}function VP(t,e,n,r,i){const s=lr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{lr(s)}}function I6(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function FP(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function LP(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];U_(n[r]),o.contentQueries(2,e[s],s)}}}function vf(t,e){return t[mc]?t[z0][Ir]=e:t[mc]=e,t[z0]=e,e}function Zy(t,e,n){U_(0);const r=lr(null);try{e(t,n)}finally{lr(r)}}function UP(t){return t[ia]||(t[ia]=[])}function BP(t){return t.cleanup||(t.cleanup=[])}function $P(t,e){const n=t[Ji],r=n?n.get(yi,null):null;r&&r.handleError(e)}function ev(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];VP(t.data[o],e[o],r,a,i)}}function w6(t,e){const n=Wn(e,t),r=n[O];!function T6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[tt];null!==i&&null===n[fi]&&(n[fi]=ky(i,n[Ji])),tv(r,n,n[ct])}function tv(t,e,n){B_(e);try{const r=t.viewQuery;null!==r&&Zy(1,r,n);const i=t.template;null!==i&&RP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&LP(t,e),t.staticViewQueries&&Zy(2,t.viewQuery,n);const s=t.components;null!==s&&function b6(t,e){for(let n=0;n<e.length;n++)w6(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,j_()}}let HP=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function Pz(t,e,n){const r=Object.create(Mz);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>eR(r),run:()=>{if(r.dirty=!1,r.hasRun&&!tR(r))return;r.hasRun=!0;const o=R_(r);try{r.cleanupFn(),r.cleanupFn=cR,r.fn(i)}finally{x_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ef(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=l_(i,a):2==s&&(r=l_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Hc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Ve(s)),gn(s)&&GP(s,r);const o=n.type;if(8&o)Hc(t,e,n.child,r);else if(32&o){const a=sy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Dx(e,n);if(Array.isArray(a))r.push(...a);else{const u=Mc(e[lt]);Hc(u[O],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function GP(t,e){for(let n=Ut;n<t.length;n++){const r=t[n],i=r[O].firstChild;null!==i&&Hc(r[O],r,i,e)}t[Fr]!==t[tt]&&e.push(t[Fr])}function If(t,e,n,r=!0){const i=e[sa],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{zP(t,e,t.template,n)}catch(u){throw r&&$P(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function zP(t,e,n,r){const i=e[oe];if(256!=(256&i)){e[sa].effectManager?.flush(),B_(e);try{mR(e),function bR(t){return Z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&RP(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Rh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&xh(e,c,0,null),$_(e,0)}if(function A6(t){for(let e=px(t);null!==e;e=gx(e)){if(!e[W0])continue;const n=e[ua];for(let r=0;r<n.length;r++){$z(n[r])}}}(e),qP(e,2),null!==t.contentQueries&&LP(t,e),o){const c=t.contentCheckHooks;null!==c&&Rh(e,c)}else{const c=t.contentHooks;null!==c&&xh(e,c,1),$_(e,1)}!function J9(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=TP(e,Ec);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Js(~s);else{const o=s,a=n[++i],u=n[++i];eq(a,o),r.dirty=!1;const c=R_(r);try{u(2,e[o])}finally{x_(r,c)}}}}finally{null===e[Ec]&&bP(e,Ec),Js(-1)}}(t,e);const a=t.components;null!==a&&KP(e,a,0);const u=t.viewQuery;if(null!==u&&Zy(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Rh(e,c)}else{const c=t.viewHooks;null!==c&&xh(e,c,2),$_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[oe]&=-73,_R(e)}finally{j_()}}}function qP(t,e){for(let n=px(t);null!==n;n=gx(n))for(let r=Ut;r<n.length;r++)WP(n[r],e)}function S6(t,e,n){WP(Wn(e,t),n)}function WP(t,e){if(!function Bz(t){return 128==(128&t[oe])}(t))return;const n=t[O],r=t[oe];if(80&r&&0===e||1024&r||2===e)zP(n,t,n.template,t[ct]);else if(t[gc]>0){qP(t,1);const i=n.components;null!==i&&KP(t,i,1)}}function KP(t,e,n){for(let r=0;r<e.length;r++)S6(t,e[r],n)}class Gc{get rootNodes(){const e=this._lView,n=e[O];return Hc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ct]}set context(e){this._lView[ct]=e}get destroyed(){return 256==(256&this._lView[oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qe];if(gn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Kh(e,r),Vh(n,r))}this._attachedToViewContainer=!1}ay(this._lView[O],this._lView)}onDestroy(e){!function vR(t,e){if(256==(256&t[oe]))throw new D(911,!1);null===t[Zi]&&(t[Zi]=[]),t[Zi].push(e)}(this._lView,e)}markForCheck(){jc(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-129}reattach(){this._lView[oe]|=128}detectChanges(){If(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function p3(t,e){kc(t,e,e[re],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class R6 extends Gc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;If(e[O],e,e[ct],!1)}checkNoChanges(){}get context(){return null}}class QP extends gf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ye(e);return new zc(n,this.ngModule)}}function YP(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class P6{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yh(r);const i=this.injector.get(e,Fy,r);return i!==Fy||n===Fy?i:this.parentInjector.get(e,n,r)}}class zc extends tP{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=YP(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return YP(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function hz(t){return t.map(dz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Xn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new P6(e,s):e,a=o.get(rP,null);if(null===a)throw new D(407,!1);const d={rendererFactory:a,sanitizer:o.get(A9,null),effectManager:o.get(HP,null),afterRenderEventManager:o.get(Gy,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function e6(t,e,n,r){const s=r.get(vP,!1)||n===vr.ShadowDom,o=t.selectRootElement(e,s);return function t6(t){PP(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Wh(h,f,function x6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=ky(p,o,!0));const w=Qy(0,null,null,1,0,null,null,null,null,null,null),S=yf(null,w,null,v,null,null,d,h,o,null,y);let P,H;B_(S);try{const de=this.componentDef;let et,Ki=null;de.findHostDirectiveDefs?(et=[],Ki=new Map,de.findHostDirectiveDefs(de,et,Ki),et.push(de)):et=[de];const ac=function N6(t,e){const n=t[O],r=pe;return t[r]=e,Ma(n,r,2,"#host",null)}(S,p),$pe=function k6(t,e,n,r,i,s,o){const a=i[O];!function O6(t,e,n,r){for(const i of t)e.mergedAttrs=pc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ef(e,e.mergedAttrs,!0),null!==n&&xx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=ky(e,i[Ji]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=yf(i,xP(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Xy(a,t,r.length-1),vf(i,d),i[t.index]=d}(ac,p,de,et,S,d,h);H=gR(w,pe),p&&function F6(t,e,n,r){if(r)b_(t,n,["ng-version",S9.full]);else{const{attrs:i,classes:s}=function fz(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Er(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&b_(t,n,i),s&&s.length>0&&Rx(t,n,s.join(" "))}}(h,de,p,r),void 0!==n&&function L6(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(H,this.ngContentSelectors,n),P=function V6(t,e,n,r,i,s){const o=jt(),a=i[O],u=On(o,i);kP(a,i,o,n,null,r);for(let l=0;l<n.length;l++)tn(Zs(i,a,o.directiveStart+l,o),i);OP(a,i,o),u&&tn(u,i);const c=Zs(i,a,o.directiveStart+o.componentOffset,o);if(t[ct]=i[ct]=c,null!==s)for(const l of s)l(c,e);return qy(a,o,t),c}($pe,de,et,Ki,S,[U6]),tv(w,S,null)}finally{j_()}return new M6(this.componentType,P,Ra(H,S),S,H)}}class M6 extends I9{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new R6(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;ev(s[O],s,i,e,n),this.previousInputValues.set(e,n),jc(Wn(this._tNode.index,s))}}get injector(){return new yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function U6(){const t=jt();Sh(b()[O],t)}function Te(t){let e=function XP(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(wr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=wf(t.inputs),o.inputTransforms=wf(t.inputTransforms),o.declaredInputs=wf(t.declaredInputs),o.outputs=wf(t.outputs);const a=i.hostBindings;a&&H6(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&j6(t,u),c&&$6(t,c),hh(t.inputs,i.inputs),hh(t.declaredInputs,i.declaredInputs),hh(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),hh(o.inputTransforms,i.inputTransforms)),wr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Te&&(n=!1)}}e=Object.getPrototypeOf(e)}!function B6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=pc(i.hostAttrs,n=pc(n,i.hostAttrs))}}(r)}function wf(t){return t===Or?{}:t===we?[]:t}function j6(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function $6(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function H6(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Tf(t){return!!nv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function nv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function rn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function sn(t,e,n,r,i,s,o,a){const u=b(),c=ve(),l=t+pe,d=c.firstCreatePass?function p5(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ma(e,t,4,o||null,ts(c,a));Yy(e,n,l,ts(c,u)),Sh(e,l);const d=l.tView=Qy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];jr(d,!1);const h=pM(c,u,d,t);Ah()&&Yh(c,u,h,d),tn(h,u),vf(u,u[l]=FP(h,u,h,d)),Th(d)&&Wy(c,u,d),null!=o&&Ky(u,d,a)}let pM=function gM(t,e,n,r){return ns(!0),e[re].createComment("")};function We(t,e,n){const r=b();return rn(r,ha(),e)&&function Jn(t,e,n,r,i,s,o,a){const u=On(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(ev(t,n,l,r,i),Ys(e)&&function u6(t,e){const n=Wn(e,t);16&n[oe]||(n[oe]|=64)}(n,e.index)):3&e.type&&(r=function a6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ve(),function Xe(){const t=Z.lFrame;return gR(t.tView,t.selectedIndex)}(),r,t,e,r[re],n,!1),We}function uv(t,e,n,r,i){const o=i?"class":"style";ev(t,n,e.inputs[o],o,r)}function j(t,e,n,r){const i=b(),s=ve(),o=pe+t,a=i[re],u=s.firstCreatePass?function v5(t,e,n,r,i,s){const o=e.consts,u=Ma(e,t,2,r,ts(o,i));return Yy(e,n,u,ts(o,s)),null!==u.attrs&&Ef(u,u.attrs,!1),null!==u.mergedAttrs&&Ef(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=mM(s,i,u,a,e,t);i[o]=c;const l=Th(u);return jr(u,!0),xx(a,c,u),32!=(32&u.flags)&&Ah()&&Yh(s,i,c,u),0===function Gz(){return Z.lFrame.elementDepthCount}()&&tn(c,i),function zz(){Z.lFrame.elementDepthCount++}(),l&&(Wy(s,i,u),qy(s,u,i)),null!==r&&Ky(i,u),j}function L(){let t=jt();O_()?V_():(t=t.parent,jr(t,!1));const e=t;(function Wz(t){return Z.skipHydrationRootTNode===t})(e)&&function Xz(){Z.skipHydrationRootTNode=null}(),function qz(){Z.lFrame.elementDepthCount--}();const n=ve();return n.firstCreatePass&&(Sh(n,t),D_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function hq(t){return 0!=(8&t.flags)}(e)&&uv(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function fq(t){return 0!=(16&t.flags)}(e)&&uv(n,e,b(),e.stylesWithoutHost,!1),L}function dt(t,e,n,r){return j(t,e,n,r),L(),dt}let mM=(t,e,n,r,i,s)=>(ns(!0),Wh(r,i,function MR(){return Z.lFrame.currentNamespace}()));function is(){return b()}function Yc(t){return!!t&&"function"==typeof t.then}function vM(t){return!!t&&"function"==typeof t.subscribe}function Ke(t,e,n,r){const i=b(),s=ve(),o=jt();return function IM(t,e,n,r,i,s,o){const a=Th(r),c=t.firstCreatePass&&BP(t),l=e[ct],d=UP(e);let h=!0;if(3&r.type||o){const g=On(r,e),_=o?o(g):g,v=d.length,y=o?S=>o(Ve(S[r.index])):r.index;let w=null;if(!o&&a&&(w=function C5(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[ia],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,h=!1;else{s=TM(r,e,l,s,!1);const S=n.listen(_,i,s);d.push(s,S),c&&c.push(i,y,v,v+1)}}else s=TM(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const P=e[p[_]][p[_+1]].subscribe(s),H=d.length;d.push(s,P),c&&c.push(i,r.index,H,-(H+1))}}}(s,i,i[re],o,t,e,r),Ke}function wM(t,e,n,r){try{return Lr(6,e,n),!1!==n(r)}catch(i){return $P(t,i),!1}finally{Lr(7,e,n)}}function TM(t,e,n,r,i){return function s(o){if(o===Function)return r;jc(t.componentOffset>-1?Wn(t.index,e):e);let u=wM(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=wM(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function En(t=1){return function rq(t){return(Z.lFrame.contextLView=function iq(t,e){for(;t>0;)e=e[oa],t--;return e}(t,Z.lFrame.contextLView))[ct]}(t)}function D5(t,e){let n=null;const r=function az(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?B0(t,s,!0):lz(r,s))return i}else n=i}return n}function Sf(t,e){return t<<17|e<<2}function ss(t){return t>>17&32767}function hv(t){return 2|t}function io(t){return(131068&t)>>2}function fv(t,e){return-131069&t|e<<2}function pv(t){return 1|t}function OM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ss(s):io(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];M5(t[a],e)&&(u=!0,t[a+1]=r?pv(l):hv(l)),a=r?ss(l):io(l)}u&&(t[n+1]=r?hv(s):pv(s))}function M5(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ea(t,e)>=0}function os(t,e){return function br(t,e,n,r){const i=b(),s=ve(),o=function gi(t){const e=Z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function GM(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_n()],o=function HM(t,e){return e>=t.expandoStartIndex}(t,n);(function KM(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function j5(t,e,n,r){const i=function L_(t){const e=Z.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Xc(n=gv(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=gv(i,t,e,n,r),null===s){let u=function $5(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==io(r))return t[ss(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=gv(null,t,e,u[1],r),u=Xc(u,e.attrs,r),function H5(t,e,n,r){t[ss(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function G5(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Xc(r,t[s].hostAttrs,n);return Xc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function x5(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ss(o),u=io(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Ea(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ss(t[a+1]);t[r+1]=Sf(h,a),0!==h&&(t[h+1]=fv(t[h+1],r)),t[a+1]=function S5(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Sf(a,0),0!==a&&(t[a+1]=fv(t[a+1],r)),a=r;else t[r+1]=Sf(u,0),0===a?a=r:t[u+1]=fv(t[u+1],r),u=r;c&&(t[r+1]=hv(t[r+1])),OM(t,l,r,!0),OM(t,l,r,!1),function P5(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Ea(s,e)>=0&&(n[r+1]=pv(n[r+1]))}(e,l,t,r,s),o=Sf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==se&&rn(i,o,e)&&function qM(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function R5(t){return 1==(1&t)}(c)?WM(u,e,n,i,io(c),o):void 0;Rf(l)||(Rf(s)||function A5(t){return 2==(2&t)}(c)&&(s=WM(u,null,n,i,a,o)),function b3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:rs.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=rs.Important),t.setStyle(n,r,i,s))}}(r,o,Dh(_n(),n),i,s))}(s,s.data[_n()],i,i[re],t,i[o+1]=function K5(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ct(Qn(t)))),t}(e,n),r,o)}(t,e,null,!0),os}function gv(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Xc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Xc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Kn(t,o,!!n||e[++s]))}return void 0===t?null:t}function WM(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===se&&(h=d?we:void 0);let f=d?Y_(h,r):l===r?h:void 0;if(c&&!Rf(f)&&(f=Y_(u,r)),Rf(f)&&(a=f,o))return a;const p=t[i+1];i=o?ss(p):io(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Y_(u,r))}return a}function Rf(t){return void 0!==t}function W(t,e=""){const n=b(),r=ve(),i=t+pe,s=r.firstCreatePass?Ma(r,i,1,e,null):r.data[i],o=QM(r,n,s,e,t);n[i]=o,Ah()&&Yh(r,n,o,s),jr(s,!1)}let QM=(t,e,n,r,i)=>(ns(!0),function qh(t,e){return t.createText(e)}(e[re],r));function as(t){return Dr("",t,""),as}function Dr(t,e,n){const r=b(),i=function ka(t,e,n,r){return rn(t,ha(),n)?e+ne(n)+r:se}(r,t,e,n);return i!==se&&function Ei(t,e,n){const r=Dh(e,t);!function _x(t,e,n){t.setValue(e,n)}(t[re],r,n)}(r,_n(),i),Dr}const Ga="en-US";let _N=Ga;function yv(t,e,n,r,i){if(t=ee(t),Array.isArray(t))for(let s=0;s<t.length;s++)yv(t[s],e,n,r,i);else{const s=ve(),o=b(),a=jt();let u=no(t)?t:ee(t.provide);const c=Qx(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(no(t)||!t.multi){const f=new bc(c,i,T),p=Ev(u,e,i?l:l+h,d);-1===p?(W_(Mh(a,o),s,u),vv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Ev(u,e,l+h,d),p=Ev(u,e,l,l+h),_=p>=0&&n[p];if(i&&!_||!i&&!(f>=0&&n[f])){W_(Mh(a,o),s,u);const v=function g8(t,e,n,r,i){const s=new bc(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,$N(s,i,r&&!n),s}(i?p8:f8,n.length,i,r,c);!i&&_&&(n[p].providerFactory=v),vv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else vv(s,t,f>-1?f:p,$N(n[i?p:f],c,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function vv(t,e,n,r){const i=no(e),s=function i9(t){return!!t.useClass}(e);if(i||s){const u=(s?ee(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function $N(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ev(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function f8(t,e,n,r){return Iv(this.multi,[])}function p8(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Zs(n,n[O],this.providerFactory.index,r);s=a.slice(0,o),Iv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Iv(i,s);return s}function Iv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Le(t,e=[]){return n=>{n.providersResolver=(r,i)=>function h8(t,e,n){const r=ve();if(r.firstCreatePass){const i=wr(t);yv(n,r.data,r.blueprint,i,!0),yv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class oo{}class HN{}class wv extends oo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new QP(this);const i=zn(e);this._bootstrapComponents=vi(i.bootstrap),this._r3Injector=uP(e,n,[{provide:oo,useValue:this},{provide:gf,useValue:this.componentFactoryResolver},...r],Ct(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Tv extends HN{constructor(e){super(),this.moduleType=e}create(e){return new wv(this.moduleType,e,[])}}class GN extends oo{constructor(e){super(),this.componentFactoryResolver=new QP(this),this.instance=null;const n=new uf([...e.providers,{provide:oo,useValue:this},{provide:gf,useValue:this.componentFactoryResolver}],e.parent||af(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function bv(t,e,n=null){return new GN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let y8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=zx(0,n.type),i=r.length>0?bv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(U(Xn))})}return t})();function Cv(t){t.getStandaloneInjector=e=>e.get(y8).getOrCreateStandaloneInjector(t)}function JN(t,e,n,r,i,s){const o=e+n;return rn(t,o,i)?function zr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function rl(t,e){const n=t[e];return n===se?void 0:n}(t,o+1)}function Av(t,e){const n=ve();let r;const i=t+pe;n.firstCreatePass?(r=function V8(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Xs(r.type)),a=Nn(T);try{const u=Ph(!1),c=s();return Ph(u),function _5(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,b(),i,c),c}finally{Nn(a)}}function Sv(t,e,n){const r=t+pe,i=b(),s=function la(t,e){return t[e]}(i,r);return function il(t,e){return t[O].data[e].pure}(i,r)?JN(i,mn(),e,s.transform,n,s):s.transform(n)}function j8(){return this._results[Symbol.iterator]()}class Rv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new R)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Rv.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=j8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function dr(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Aq(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function H8(t,e,n,r=!0){const i=e[O];if(function m3(t,e,n,r){const i=Ut+r,s=n.length;r>0&&(n[i-1][Ir]=e),r<s-Ut?(e[Ir]=n[i],WR(n,Ut+r,e)):(n.push(e),e[Ir]=null),e[qe]=n;const o=e[_c];null!==o&&n!==o&&function _3(t,e){const n=t[ua];e[lt]!==e[qe][qe][lt]&&(t[W0]=!0),null===n?t[ua]=[e]:n.push(e)}(o,e);const a=e[Vr];null!==a&&a.insertView(t),e[oe]|=128}(i,e,t,n),r){const s=dy(n,t),o=e[re],a=Qh(o,t[Fr]);null!==a&&function f3(t,e,n,r,i,s){r[tt]=i,r[en]=e,kc(t,r,n,1,i,s)}(i,t[en],o,e,a,s)}}let Ii=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=q8}return t})();const G8=Ii,z8=class extends G8{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function $8(t,e,n,r){const i=e.tView,a=yf(t,i,n,4096&t[oe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[_c]=t[e.index];const c=t[Vr];return null!==c&&(a[Vr]=c.createEmbeddedView(i)),tv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Gc(i)}};function q8(){return kf(jt(),b())}function kf(t,e){return 4&t.type?new z8(e,t,Ra(t,e)):null}let Zn=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=J8}return t})();function J8(){return ck(jt(),b())}const Z8=Zn,ak=class extends Z8{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ra(this._hostTNode,this._hostLView)}get injector(){return new yn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Nh(this._hostTNode,this._hostLView);if(G_(e)){const n=Dc(e,this._hostLView),r=Cc(e);return new yn(n[O].data[r+8],n)}return new yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=uk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Sc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new zc(ye(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const _=(o?c:this.parentInjector).get(Xn,null);_&&(s=_)}ye(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function jz(t){return gn(t[qe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[qe],l=new ak(c,c[en],c[qe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return H8(a,i,o,!r),e.attachToViewContainerRef(),WR(xv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=uk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Kh(this._lContainer,n);r&&(Vh(xv(this._lContainer),n),ay(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=Kh(this._lContainer,n);return r&&null!=Vh(xv(this._lContainer),n)?new Gc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uk(t){return t[8]}function xv(t){return t[8]||(t[8]=[])}function ck(t,e){let n;const r=e[t.index];return gn(r)?n=r:(n=FP(r,e,null,t),e[t.index]=n,vf(e,n)),lk(n,e,t,r),new ak(n,t,e)}let lk=function dk(t,e,n,r){if(t[Fr])return;let i;i=8&n.type?Ve(r):function e7(t,e){const n=t[re],r=n.createComment(""),i=On(e,t);return eo(n,Qh(n,i),r,function I3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Fr]=i};class Pv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Pv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Mv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==yk(e,n).matches&&this.queries[n].setDirty()}}class hk{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Nv{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Nv(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class kv{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new kv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,r7(n,s)),this.matchTNodeWithReadOption(e,n,kh(n,e,s,!1,!1))}else r===Ii?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,kh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===nn||i===Zn||i===Ii&&4&n.type)this.addMatch(n.index,-2);else{const s=kh(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function r7(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function s7(t,e,n,r){return-1===n?function i7(t,e){return 11&t.type?Ra(t,e):4&t.type?kf(t,e):null}(e,t):-2===n?function o7(t,e,n){return n===nn?Ra(e,t):n===Ii?kf(e,t):n===Zn?ck(e,t):void 0}(t,e,r):Zs(t,t[O],n,e)}function fk(t,e,n,r){const i=e[Vr].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:s7(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function Ov(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=fk(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=Ut;d<l.length;d++){const h=l[d];h[_c]===h[qe]&&Ov(h[O],h,c,r)}if(null!==l[ua]){const d=l[ua];for(let h=0;h<d.length;h++){const f=d[h];Ov(f[O],f,c,r)}}}}}return r}function Vv(t){const e=b(),n=ve(),r=DR();U_(r+1);const i=yk(n,r);if(t.dirty&&function Uz(t){return 4==(4&t[oe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Ov(n,e,r,[]):fk(n,e,i,r);t.reset(s,C9),t.notifyOnChanges()}return!0}return!1}function pk(t,e,n){const r=ve();r.firstCreatePass&&(function _k(t,e,n){null===t.queries&&(t.queries=new Nv),t.queries.track(new kv(e,n))}(r,new hk(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function mk(t,e,n){const r=new Rv(4==(4&n));(function i6(t,e,n,r){const i=UP(e);i.push(n),t.firstCreatePass&&BP(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Vr]&&(e[Vr]=new Mv),e[Vr].queries.push(new Pv(r))}(r,b(),e)}function yk(t,e){return t.queries.getByIndex(e)}const Ff=new V("Application Initializer");let Hv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=F(Ff,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Yc(s))n.push(s);else if(vM(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ok=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const wi=new V("LocaleId",{providedIn:"root",factory:()=>F(wi,fe.Optional|fe.SkipSelf)||function x7(){return typeof $localize<"u"&&$localize.locale||Ga}()});let Lf=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Hn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class N7{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Vk=(()=>{class t{compileModuleSync(n){return new Tv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=vi(zn(n).declarations).reduce((o,a)=>{const u=ye(a);return u&&o.push(new zc(u)),o},[]);return new N7(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Bk=new V(""),Bf=new V("");let Kv,qv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kv||(function Z7(t){Kv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(U(Ae),U(Wv),U(Bf))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Wv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Kv?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),us=null;const jk=new V("AllowMultipleToken"),Qv=new V("PlatformDestroyListeners"),Yv=new V("appBootstrapListener");class Hk{constructor(e,n){this.name=e,this.token=n}}function zk(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=Xv();if(!o||o.injector.get(jk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function nK(t){if(us&&!us.get(jk,!1))throw new D(400,!1);(function $k(){!function Dz(t){sR=t}(()=>{throw new D(600,!1)})})(),us=t;const e=t.get(Wk);(function Gk(t){t.get(Yx,null)?.forEach(n=>n())})(t)}(function qk(t=[],e){return vn.create({name:e,providers:[{provide:Ty,useValue:"platform"},{provide:Qv,useValue:new Set([()=>us=null])},...t]})}(a,r))}return function iK(t){const e=Xv();if(!e)throw new D(401,!1);return e}()}}function Xv(){return us?.get(Wk)??null}let Wk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function sK(t="zone.js",e){return"noop"===t?new B9:"zone.js"===t?new Ae(e):t}(r?.ngZone,function Kk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function _8(t,e,n){return new wv(t,e,n)}(n.moduleType,this.injector,function Zk(t){return[{provide:Ae,useFactory:t},{provide:Fc,multi:!0,useFactory:()=>{const e=F(aK,{optional:!0});return()=>e.initialize()}},{provide:Jk,useFactory:oK},{provide:fP,useFactory:pP}]}(()=>i)),o=s.injector.get(yi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{jf(this._modules,s),a.unsubscribe()})}),function Qk(t,e,n){try{const r=n();return Yc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Hv);return a.runInitializers(),a.donePromise.then(()=>(function yN(t){cr(t,"Expected localeId to be defined"),"string"==typeof t&&(_N=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(wi,Ga)||Ga),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=Yk({},r);return function eK(t,e,n){const r=new Tv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ao);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new D(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Qv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(U(vn))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Yk(t,e){return Array.isArray(e)?e.reduce(Yk,t):{...t,...e}}let ao=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(Jk),this.zoneIsStable=F(fP),this.componentTypes=[],this.components=[],this.isStable=F(Lf).hasPendingTasks.pipe(Xt(n=>n?K(!1):this.zoneIsStable),T0(),u_()),this._injector=F(Xn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof tP;if(!this._injector.get(Hv).done)throw!i&&function ra(t){const e=ye(t)||Lt(t)||pn(t);return null!==e&&e.standalone}(n),new D(405,!1);let o;o=i?n:this._injector.get(gf).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function tK(t){return t.isBoundToModule}(o)?void 0:this._injector.get(oo),c=o.create(vn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Bk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),jf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;jf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Yv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>jf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Jk=new V("",{providedIn:"root",factory:()=>F(yi).handleError.bind(void 0)});function oK(){const t=F(Ae),e=F(yi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let aK=(()=>{class t{constructor(){this.zone=F(Ae),this.applicationRef=F(ao)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let $f=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lK}return t})();function lK(t){return function dK(t,e,n){if(Ys(t)&&!n){const r=Wn(t.index,e);return new Gc(r,r)}return 47&t.type?new Gc(e[lt],e):null}(jt(),b(),16==(16&t))}class rO{constructor(){}supports(e){return Tf(e)}create(e){return new _K(e)}}const mK=(t,e)=>e;class _K{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mK}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<sO(r,i,s)?n:r,a=sO(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Tf(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Y6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new yK(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new iO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yK{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class iO{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new vK,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sO(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class oO{constructor(){}supports(e){return e instanceof Map||nv(e)}create(){return new EK}}class EK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||nv(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new IK(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class IK{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aO(){return new zf([new rO])}let zf=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:aO});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||aO()),deps:[[t,new Uh,new Lh]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new D(901,!1)}}return t})();function uO(){return new al([new oO])}let al=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:uO});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||uO()),deps:[[t,new Uh,new Lh]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new D(901,!1)}}return t})();const bK=zk(null,"core",[]);let CK=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(U(ao))};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({})}return t})();let rE=null;function cs(){return rE}class UK{}const Tn=new V("DocumentToken");let iE=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return F(jK)},providedIn:"platform"})}return t})();const BK=new V("Location Initialized");let jK=(()=>{class t extends iE{constructor(){super(),this._doc=F(Tn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cs().getBaseHref(this._doc)}onPopState(n){const r=cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=cs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function sE(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function _O(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ti(t){return t&&"?"!==t[0]?"?"+t:t}let co=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return F(vO)},providedIn:"root"})}return t})();const yO=new V("appBaseHref");let vO=(()=>{class t extends co{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Tn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return sE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ti(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ti(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(iE),U(yO,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$K=(()=>{class t extends co{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=sE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ti(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ti(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(iE),U(yO,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),oE=(()=>{class t{constructor(n){this._subject=new R,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function zK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(_O(EO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ti(r))}normalize(n){return t.stripTrailingSlash(function GK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,EO(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ti(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ti(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ti;static#t=this.joinWithSlash=sE;static#n=this.stripTrailingSlash=_O;static#r=this.\u0275fac=function(r){return new(r||t)(U(co))};static#i=this.\u0275prov=G({token:t,factory:function(){return function HK(){return new oE(U(co))}()},providedIn:"root"})}return t})();function EO(t){return t.replace(/\/index.html$/,"")}function RO(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const mE=/\s+/,xO=[];let PO=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=xO,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(mE):xO}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(mE):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(mE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(T(zf),T(al),T(nn),T(_i))};static#t=this.\u0275dir=J({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class xQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rp=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new xQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),NO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{NO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(T(Zn),T(Ii),T(zf))};static#t=this.\u0275dir=J({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function NO(t,e){t.context.$implicit=e.item}let ip=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new PQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){kO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){kO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(T(Zn),T(Ii))};static#t=this.\u0275dir=J({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class PQ{constructor(){this.$implicit=null,this.ngIf=null}}function kO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ct(e)}'.`)}class kQ{createSubscription(e,n){return uR(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){uR(()=>e.unsubscribe())}}class OQ{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const VQ=new OQ,FQ=new kQ;let VO=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Yc(n))return VQ;if(vM(n))return FQ;throw function Sr(t,e){return new D(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(T($f,16))};static#t=this.\u0275pipe=Zt({name:"async",type:t,pure:!1,standalone:!0})}return t})(),sp=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({})}return t})();const LO="browser";function Di(t){return t===LO}function UO(t){return"server"===t}let iY=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new sY(U(Tn),window)})}return t})();class sY{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function oY(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class BO{}class RY extends UK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class TE extends RY{static makeCurrent(){!function LK(t){rE||(rE=t)}(new TE)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function xY(){return dl=dl||document.querySelector("base"),dl?dl.getAttribute("href"):null}();return null==n?null:function PY(t){up=up||document.createElement("a"),up.setAttribute("href",t);const e=up.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){dl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return RO(document.cookie,e)}}let up,dl=null,NY=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const bE=new V("EventManagerPlugins");let zO=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(U(bE),U(Ae))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class qO{constructor(e){this._doc=e}}const CE="ng-app-id";let WO=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=UO(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${CE}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(CE),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(CE,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Tn),U(cf),U(Xx,8),U(Tr))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const DE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},AE=/%COMP%/g,FY=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function QO(t,e){return e.map(n=>n.replace(AE,t))}let YO=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=UO(a),this.defaultRenderer=new SE(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vr.ShadowDom&&(r={...r,encapsulation:vr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof JO?i.applyToHost(n):i instanceof RE&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case vr.Emulated:s=new JO(u,c,r,this.appId,l,o,a,d);break;case vr.ShadowDom:return new jY(u,c,n,r,o,a,this.nonce,d);default:s=new RE(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(U(zO),U(WO),U(cf),U(FY),U(Tn),U(Tr),U(Ae),U(Xx))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class SE{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(DE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(XO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(XO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=DE[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=DE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(rs.DashCase|rs.Important)?e.style.setProperty(n,r,i&rs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&rs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=cs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function XO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class jY extends SE{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=QO(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class RE extends SE{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?QO(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class JO extends RE{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function LY(t){return"_ngcontent-%COMP%".replace(AE,t)}(c),this.hostAttr=function UY(t){return"_nghost-%COMP%".replace(AE,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let $Y=(()=>{class t extends qO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Tn))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const ZO=["alt","control","meta","shift"],HY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let zY=(()=>{class t extends qO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),ZO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=HY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ZO.forEach(o=>{o!==i&&(0,GY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(U(Tn))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const t1=[{provide:Tr,useValue:LO},{provide:Yx,useValue:function qY(){TE.makeCurrent()},multi:!0},{provide:Tn,useFactory:function KY(){return function R3(t){py=t}(document),document},deps:[]}],QY=zk(bK,"browser",t1),YY=new V(""),n1=[{provide:Bf,useClass:class MY{addToWindow(e){Oe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new D(5103,!1);return s},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(r=>{const i=Oe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?cs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Bk,useClass:qv,deps:[Ae,Wv,Bf]},{provide:qv,useClass:qv,deps:[Ae,Wv,Bf]}],r1=[{provide:Ty,useValue:"root"},{provide:yi,useFactory:function WY(){return new yi},deps:[]},{provide:bE,useClass:$Y,multi:!0,deps:[Tn,Ae,Tr]},{provide:bE,useClass:zY,multi:!0,deps:[Tn]},YO,WO,zO,{provide:rP,useExisting:YO},{provide:BO,useClass:NY,deps:[]},[]];let XY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:cf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(U(YY,12))};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({providers:[...r1,...n1],imports:[sp,CK]})}return t})(),i1=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(U(Tn))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function ZY(){return new i1(U(Tn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let PE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new(r||t):U(a1),i},providedIn:"root"})}return t})(),a1=(()=>{class t extends PE{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Yn.NONE:return r;case Yn.HTML:return Hr(r,"HTML")?Qn(r):Bx(this._doc,String(r)).toString();case Yn.STYLE:return Hr(r,"Style")?Qn(r):r;case Yn.SCRIPT:if(Hr(r,"Script"))return Qn(r);throw new D(5200,!1);case Yn.URL:return Hr(r,"URL")?Qn(r):ef(String(r));case Yn.RESOURCE_URL:if(Hr(r,"ResourceURL"))return Qn(r);throw new D(5201,!1);default:throw new D(5202,!1)}}bypassSecurityTrustHtml(n){return function V3(t){return new x3(t)}(n)}bypassSecurityTrustStyle(n){return function F3(t){return new P3(t)}(n)}bypassSecurityTrustScript(n){return function L3(t){return new M3(t)}(n)}bypassSecurityTrustUrl(n){return function U3(t){return new N3(t)}(n)}bypassSecurityTrustResourceUrl(n){return function B3(t){return new k3(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Tn))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function rX(t){return new a1(t.get(Tn))}(U(vn)),i},providedIn:"root"})}return t})();const{isArray:sX}=Array,{getPrototypeOf:oX,prototype:aX,keys:uX}=Object;function c1(t){if(1===t.length){const e=t[0];if(sX(e))return{args:e,keys:null};if(function cX(t){return t&&"object"==typeof t&&oX(t)===aX}(e)){const n=uX(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:lX}=Array;function ME(t){return ce(e=>function dX(t,e){return lX(e)?t(...e):t(e)}(t,e))}function l1(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function NE(...t){const e=lc(t),n=v0(t),{args:r,keys:i}=c1(t);if(0===r.length)return bt([],e);const s=new He(function hX(t,e,n=Qi){return r=>{d1(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)d1(e,()=>{const c=bt(t[u],e);let l=!1;c.subscribe(ut(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>l1(i,o):Qi));return n?s.pipe(ME(n)):s}function d1(t,e,n){t?li(n,t,e):e()}const hl=uc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fl(...t){return function fX(){return ta(1)}()(bt(t,lc(t)))}function pl(t){return new He(e=>{Yt(t()).subscribe(e)})}function Qa(t,e){const n=he(t)?t:()=>t,r=i=>i.error(n());return new He(e?i=>e.schedule(r,0,i):r)}function kE(){return at((t,e)=>{let n=null;t._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class OE extends He{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,r0(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mn;const n=this.getSubject();e.add(this.source.subscribe(ut(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mn.EMPTY)}return e}refCount(){return kE()(this)}}function Cn(t){return t<=0?()=>kr:at((e,n)=>{let r=0;e.subscribe(ut(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function h1(...t){const e=lc(t);return at((n,r)=>{(e?fl(t,n,e):fl(t,n)).subscribe(r)})}function Dn(t,e){return at((n,r)=>{let i=0;n.subscribe(ut(r,s=>t.call(e,s,i++)&&r.next(s)))})}function cp(t){return at((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function f1(t=pX){return at((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function pX(){return new hl}function ds(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dn((i,s)=>t(i,s,r)):Qi,Cn(1),n?cp(e):f1(()=>new hl))}function Ya(t,e){return he(e)?Tt(t,e,1):Tt(t,1)}function Ht(t,e,n){const r=he(t)||e||n?{next:t,error:e,complete:n}:t;return r?at((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ut(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Qi}function lo(t){return at((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ut(n,void 0,void 0,o=>{s=Yt(t(o,lo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function VE(t){return t<=0?()=>kr:at((e,n)=>{let r=[];e.subscribe(ut(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lp(t){return ce(()=>t)}function gl(t){return at((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function dp(t){return at((e,n)=>{Yt(t).subscribe(ut(n,()=>n.complete(),cc)),!n.closed&&e.subscribe(n)})}const ae="primary",ml=Symbol("RouteTitle");class yX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Xa(t){return new yX(t)}function vX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Qr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!p1(t[i],e[i]))return!1;return!0}function p1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function g1(t){return t.length>0?t[t.length-1]:null}function hs(t){return function iX(t){return!!t&&(t instanceof He||he(t.lift)&&he(t.subscribe))}(t)?t:Yc(t)?bt(Promise.resolve(t)):K(t)}const IX={exact:function y1(t,e,n){if(!ho(t.segments,e.segments)||!hp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!y1(t.children[r],e.children[r],n))return!1;return!0},subset:v1},m1={exact:function wX(t,e){return Qr(t,e)},subset:function TX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>p1(t[n],e[n]))},ignored:()=>!0};function _1(t,e,n){return IX[n.paths](t.root,e.root,n.matrixParams)&&m1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function v1(t,e,n){return E1(t,e,e.segments,n)}function E1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ho(i,n)||e.hasChildren()||!hp(i,n,r))}if(t.segments.length===n.length){if(!ho(t.segments,n)||!hp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!v1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ho(t.segments,i)&&hp(t.segments,i,r)&&t.children[ae])&&E1(t.children[ae],e,s,r)}}function hp(t,e,n){return e.every((r,i)=>m1[n](t[i].parameters,r.parameters))}class Ja{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xa(this.queryParams)),this._queryParamMap}toString(){return DX.serialize(this)}}class Re{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fp(this)}}class _l{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Xa(this.parameters)),this._parameterMap}toString(){return T1(this)}}function ho(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let yl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new FE},providedIn:"root"})}return t})();class FE{parse(e){const n=new FX(e);return new Ja(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${vl(e.root,!0)}`,r=function RX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${pp(n)}=${pp(i)}`).join("&"):`${pp(n)}=${pp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function AX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const DX=new FE;function fp(t){return t.segments.map(e=>T1(e)).join("/")}function vl(t,e){if(!t.hasChildren())return fp(t);if(e){const n=t.children[ae]?vl(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ae&&r.push(`${i}:${vl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function CX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ae?[vl(t.children[ae],!1)]:[`${i}:${vl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ae]?`${fp(t)}/${n[0]}`:`${fp(t)}/(${n.join("//")})`}}function I1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pp(t){return I1(t).replace(/%3B/gi,";")}function LE(t){return I1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gp(t){return decodeURIComponent(t)}function w1(t){return gp(t.replace(/\+/g,"%20"))}function T1(t){return`${LE(t.path)}${function SX(t){return Object.keys(t).map(e=>`;${LE(e)}=${LE(t[e])}`).join("")}(t.parameters)}`}const xX=/^[^\/()?;#]+/;function UE(t){const e=t.match(xX);return e?e[0]:""}const PX=/^[^\/()?;=#]+/,NX=/^[^=?&#]+/,OX=/^[^&#]+/;class FX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new Re(e,n)),r}parseSegment(){const e=UE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new _l(gp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function MX(t){const e=t.match(PX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=UE(this.remaining);i&&(r=i,this.capture(r))}e[gp(n)]=gp(r)}parseQueryParam(e){const n=function kX(t){const e=t.match(NX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function VX(t){const e=t.match(OX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=w1(n),s=w1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=UE(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ae]:new Re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function b1(t){return t.segments.length>0?new Re([],{[ae]:t}):t}function C1(t){const e={};for(const r of Object.keys(t.children)){const s=C1(t.children[r]);if(r===ae&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function LX(t){if(1===t.numberOfChildren&&t.children[ae]){const e=t.children[ae];return new Re(t.segments.concat(e.segments),e.children)}return t}(new Re(t.segments,e))}function fo(t){return t instanceof Ja}function D1(t){let e;const i=b1(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Re(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function A1(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return BE(i,i,i,n,r);const s=function BX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new R1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new R1(n,e,r)}(e);if(s.toRoot())return BE(i,i,new Re([],{}),n,r);const o=function jX(t,e,n){if(t.isAbsolute)return new _p(e,!0,0);if(!n)return new _p(e,!1,NaN);if(null===n.parent)return new _p(n,!0,0);const r=mp(t.commands[0])?0:1;return function $X(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new _p(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Il(o.segmentGroup,o.index,s.commands):x1(o.segmentGroup,o.index,s.commands);return BE(i,o.segmentGroup,a,n,r)}function mp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function El(t){return"object"==typeof t&&null!=t&&t.outlets}function BE(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:S1(t,e,n);const a=b1(C1(o));return new Ja(a,s,i)}function S1(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:S1(s,e,n)}),new Re(t.segments,r)}class R1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&mp(r[0]))throw new D(4003,!1);const i=r.find(El);if(i&&i!==g1(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _p{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function x1(t,e,n){if(t||(t=new Re([],{})),0===t.segments.length&&t.hasChildren())return Il(t,e,n);const r=function GX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(El(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!M1(u,c,o))return s;r+=2}else{if(!M1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Re(t.segments.slice(0,r.pathIndex),{});return s.children[ae]=new Re(t.segments.slice(r.pathIndex),t.children),Il(s,0,i)}return r.match&&0===i.length?new Re(t.segments,{}):r.match&&!t.hasChildren()?jE(t,e,n):r.match?Il(t,0,i):jE(t,e,n)}function Il(t,e,n){if(0===n.length)return new Re(t.segments,{});{const r=function HX(t){return El(t[0])?t[0].outlets:{[ae]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ae)&&t.children[ae]&&1===t.numberOfChildren&&0===t.children[ae].segments.length){const s=Il(t.children[ae],e,n);return new Re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=x1(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Re(t.segments,i)}}function jE(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(El(s)){const u=zX(s.outlets);return new Re(r,u)}if(0===i&&mp(n[0])){r.push(new _l(t.segments[e].path,P1(n[0]))),i++;continue}const o=El(s)?s.outlets[ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&mp(a)?(r.push(new _l(o,P1(a))),i+=2):(r.push(new _l(o,{})),i++)}return new Re(r,{})}function zX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=jE(new Re([],{}),0,r))}),e}function P1(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function M1(t,e,n){return t==n.path&&Qr(e,n.parameters)}const wl="imperative";class Yr{constructor(e,n){this.id=e,this.url=n}}class yp extends Yr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fs extends Yr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tl extends Yr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Za extends Yr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class vp extends Yr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class N1 extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qX extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WX extends Yr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KX extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QX extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k1{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $E{}class HE{constructor(e){this.url=e}}class nJ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bl,this.attachRef=null}}let bl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nJ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class O1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=GE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=GE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=zE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zE(e,this._root).map(n=>n.value)}}function GE(t,e){if(t===e.value)return e;for(const n of e.children){const r=GE(t,n);if(r)return r}return null}function zE(t,e){if(t===e.value)return[e];for(const n of e.children){const r=zE(t,n);if(r.length)return r.unshift(e),r}return[]}class Ai{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function eu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class V1 extends O1{constructor(e,n){super(e),this.snapshot=n,qE(this,e)}toString(){return this.snapshot.toString()}}function F1(t,e){const n=function rJ(t,e){const o=new Ep([],{},{},"",{},ae,e,null,{});return new U1("",new Ai(o,[]))}(0,e),r=new Hn([new _l("",{})]),i=new Hn({}),s=new Hn({}),o=new Hn({}),a=new Hn(""),u=new tu(r,i,o,a,s,ae,e,n.root);return u.snapshot=n.root,new V1(new Ai(u,[]),n)}class tu{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(c=>c[ml]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ce(e=>Xa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ce(e=>Xa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function L1(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function iJ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ep{get title(){return this.data?.[ml]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class U1 extends O1{constructor(e,n){super(n),this.url=e,qE(this,n)}toString(){return B1(this._root)}}function qE(t,e){e.value._routerState=t,e.children.forEach(n=>qE(t,n))}function B1(t){const e=t.children.length>0?` { ${t.children.map(B1).join(", ")} } `:"";return`${t.value}${e}`}function WE(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Qr(e.params,n.params)||t.paramsSubject.next(n.params),function EX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Qr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function KE(t,e){const n=Qr(t.params,e.params)&&function bX(t,e){return ho(t,e)&&t.every((n,r)=>Qr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||KE(t.parent,e.parent))}let QE=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new R,this.deactivateEvents=new R,this.attachEvents=new R,this.detachEvents=new R,this.parentContexts=F(bl),this.location=F(Zn),this.changeDetector=F($f),this.environmentInjector=F(Xn),this.inputBinder=F(Ip,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new sJ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=J({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qn]})}return t})();class sJ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===tu?this.route:e===bl?this.childContexts:this.parent.get(e,n)}}const Ip=new V("");let j1=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=NE([r.queryParams,r.params,r.data]).pipe(Xt(([s,o,a],u)=>(a={...s,...o,...a},0===u?K(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function FK(t){const e=ye(t);if(!e)return null;const n=new zc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Cl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function aJ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Cl(t,r,i);return Cl(t,r)})}(t,e,n);return new Ai(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Cl(t,a)),o}}const r=function uJ(t){return new tu(new Hn(t.url),new Hn(t.params),new Hn(t.queryParams),new Hn(t.fragment),new Hn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Cl(t,s));return new Ai(r,i)}}const YE="ngNavigationCancelingError";function $1(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=H1(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function H1(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[YE]=!0,r.cancellationCode=e,n&&(r.url=n),r}function G1(t){return t&&t[YE]}let z1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Dt({type:t,selectors:[["ng-component"]],standalone:!0,features:[Cv],decls:1,vars:0,template:function(r,i){1&r&&dt(0,"router-outlet")},dependencies:[QE],encapsulation:2})}return t})();function XE(t){const e=t.children&&t.children.map(XE),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=z1),n}function Rr(t){return t.outlet||ae}function Dl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class mJ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),WE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=eu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=eu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=eu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=eu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new tJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ZX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(WE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),WE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Dl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class q1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wp{constructor(e,n){this.component=e,this.route=n}}function _J(t,e,n){const r=t._root;return Al(r,e?e._root:null,n,[r.value])}function nu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function z4(t){return null!==ph(t)}(t)?e.get(t):t:r}function Al(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=eu(e);return t.children.forEach(o=>{(function vJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function EJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ho(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ho(t.url,e.url)||!Qr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!KE(t,e)||!Qr(t.queryParams,e.queryParams);default:return!KE(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new q1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Al(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wp(a.outlet.component,o))}else o&&Sl(e,a,i),i.canActivateChecks.push(new q1(r)),Al(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Sl(a,n.getContext(o),i)),i}function Sl(t,e,n){const r=eu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Sl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new wp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Rl(t){return"function"==typeof t}function W1(t){return t instanceof hl||"EmptyError"===t?.name}const Tp=Symbol("INITIAL_VALUE");function ru(){return Xt(t=>NE(t.map(e=>e.pipe(Cn(1),h1(Tp)))).pipe(ce(e=>{for(const n of e)if(!0!==n){if(n===Tp)return Tp;if(!1===n||n instanceof Ja)return n}return!0}),Dn(e=>e!==Tp),Cn(1)))}function K1(t){return function XG(...t){return e0(t)}(Ht(e=>{if(fo(e))throw $1(0,e)}),ce(e=>!0===e))}class bp{constructor(e){this.segmentGroup=e||null}}class Q1{constructor(e){this.urlTree=e}}function iu(t){return Qa(new bp(t))}function Y1(t){return Qa(new Q1(t))}class BJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new D(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[ae])return Qa(new D(4e3,!1));i=i.children[ae]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ja(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const JE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jJ(t,e,n,r,i){const s=ZE(t,e,n);return s.matched?(r=function lJ(t,e){return t.providers&&!t._injector&&(t._injector=bv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function FJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?K(i.map(o=>{const a=nu(o,t);return hs(function DJ(t){return t&&Rl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ru(),K1()):K(!0)}(r,e,n).pipe(ce(o=>!0===o?s:{...JE}))):K(s)}function ZE(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...JE}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||vX)(n,t,e);if(!i)return{...JE};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function X1(t,e,n,r){return n.length>0&&function GJ(t,e,n){return n.some(r=>Cp(t,e,r)&&Rr(r)!==ae)}(t,n,r)?{segmentGroup:new Re(e,HJ(r,new Re(n,t.children))),slicedSegments:[]}:0===n.length&&function zJ(t,e,n){return n.some(r=>Cp(t,e,r))}(t,n,r)?{segmentGroup:new Re(t.segments,$J(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function $J(t,e,n,r,i){const s={};for(const o of r)if(Cp(t,n,o)&&!i[Rr(o)]){const a=new Re([],{});s[Rr(o)]=a}return{...i,...s}}function HJ(t,e){const n={};n[ae]=e;for(const r of t)if(""===r.path&&Rr(r)!==ae){const i=new Re([],{});n[Rr(r)]=i}return n}function Cp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class QJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new BJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,!1)}recognize(){const e=X1(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(lo(n=>{if(n instanceof Q1)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof bp?this.noMatchError(n):n}),ce(n=>{const r=new Ep([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,{}),i=new Ai(r,n),s=new U1("",i),o=function UX(t,e,n=null,r=null){return A1(D1(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ae).pipe(lo(r=>{throw r instanceof bp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=L1(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return bt(i).pipe(Ya(s=>{const o=r.children[s],a=function pJ(t,e){const n=t.filter(r=>Rr(r)===e);return n.push(...t.filter(r=>Rr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function mX(t,e){return at(function gX(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ut(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),cp(null),function _X(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dn((i,s)=>t(i,s,r)):Qi,VE(1),n?cp(e):f1(()=>new hl))}(),Tt(s=>{if(null===s)return iu(r);const o=J1(s);return function YJ(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}(o),K(o)}))}processSegment(e,n,r,i,s,o){return bt(n).pipe(Ya(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(lo(u=>{if(u instanceof bp)return K(null);throw u}))),ds(a=>!!a),lo(a=>{if(W1(a))return function WJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?K([]):iu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function qJ(t,e,n,r){return!!(Rr(t)===r||r!==ae&&Cp(e,n,t))&&("**"===t.path||ZE(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):iu(i):iu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Y1(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Tt(o=>{const a=new Re(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=ZE(n,i,s);if(!a)return iu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?Y1(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Tt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?g1(i).parameters:{};a=K({snapshot:new Ep(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z1(r),Rr(r),r.component??r._loadedComponent??null,r,eV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=jJ(n,r,i,e).pipe(ce(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Ep(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z1(r),Rr(r),r.component??r._loadedComponent??null,r,eV(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Xt(u=>null===u?iu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Xt(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=X1(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(ce(v=>null===v?null:[new Ai(d,v)]));if(0===c.length&&0===g.length)return K([new Ai(d,[])]);const _=Rr(r)===s;return this.processSegment(l,c,p,g,_?ae:s,!0).pipe(ce(v=>[new Ai(d,v)]))}))))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?K({routes:n._loadedRoutes,injector:n._loadedInjector}):function VJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?K(!0):K(i.map(o=>{const a=nu(o,t);return hs(function wJ(t){return t&&Rl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ru(),K1())}(e,n,r).pipe(Tt(i=>i?this.configLoader.loadChildren(e,n).pipe(Ht(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function UJ(t){return Qa(H1(!1,3))}())):K({routes:[],injector:e})}}function XJ(t){const e=t.value.routeConfig;return e&&""===e.path}function J1(t){const e=[],n=new Set;for(const r of t){if(!XJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=J1(r.children);e.push(new Ai(r.value,i))}return e.filter(r=>!n.has(r))}function Z1(t){return t.data||{}}function eV(t){return t.resolve||{}}function tV(t){return"string"==typeof t.title||null===t.title}function eI(t){return Xt(e=>{const n=t(e);return n?bt(n).pipe(ce(()=>e)):K(e)})}const su=new V("ROUTES");let tI=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(Vk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=hs(n.loadComponent()).pipe(ce(nV),Ht(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),gl(()=>{this.componentLoaders.delete(n)})),i=new OE(r,()=>new wt).pipe(kE());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function iZ(t,e,n,r){return hs(t.loadChildren()).pipe(ce(nV),Tt(i=>i instanceof HN||Array.isArray(i)?K(i):bt(e.compileModuleAsync(i))),ce(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(su,[],{optional:!0,self:!0}).flat()),{routes:o.map(XE),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(gl(()=>{this.childrenLoaders.delete(r)})),o=new OE(s,()=>new wt).pipe(kE());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nV(t){return function sZ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Dp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.transitionAbortSubject=new wt,this.configLoader=F(tI),this.environmentInjector=F(Xn),this.urlSerializer=F(yl),this.rootContexts=F(bl),this.inputBindingEnabled=null!==F(Ip,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new XX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new YX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Hn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dn(s=>0!==s.id),ce(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Xt(s=>{this.currentTransition=s;let o=!1,a=!1;return K(s).pipe(Ht(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xt(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Za(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),kr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return K(u).pipe(Xt(h=>{const f=this.transitions?.getValue();return this.events.next(new yp(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?kr:Promise.resolve(h)}),function JJ(t,e,n,r,i,s){return Tt(o=>function KJ(t,e,n,r,i,s,o="emptyOnly"){return new QJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(ce(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ht(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new N1(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=u,v=new yp(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const y=F1(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:y,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},K(s)}{const h="";return this.events.next(new Za(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),kr}}),Ht(u=>{const c=new qX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),ce(u=>(this.currentTransition=s={...u,guards:_J(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function SJ(t,e){return Tt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?K({...n,guardsResult:!0}):function RJ(t,e,n,r){return bt(t).pipe(Tt(i=>function OJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?K(s.map(a=>{const u=Dl(e)??i,c=nu(a,u);return hs(function CJ(t){return t&&Rl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ds())})).pipe(ru()):K(!0)}(i.component,i.route,n,e,r)),ds(i=>!0!==i,!0))}(o,r,i,t).pipe(Tt(a=>a&&function IJ(t){return"boolean"==typeof t}(a)?function xJ(t,e,n,r){return bt(e).pipe(Ya(i=>fl(function MJ(t,e){return null!==t&&e&&e(new JX(t)),K(!0)}(i.route.parent,r),function PJ(t,e){return null!==t&&e&&e(new eJ(t)),K(!0)}(i.route,r),function kJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function yJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>pl(()=>K(o.guards.map(u=>{const c=Dl(o.node)??n,l=nu(u,c);return hs(function bJ(t){return t&&Rl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ds())})).pipe(ru())));return K(s).pipe(ru())}(t,i.path,n),function NJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(s=>pl(()=>{const o=Dl(e)??n,a=nu(s,o);return hs(function TJ(t){return t&&Rl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ds())}));return K(i).pipe(ru())}(t,i.route,n))),ds(i=>!0!==i,!0))}(r,s,t,e):K(a)),ce(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Ht(u=>{if(s.guardsResult=u.guardsResult,fo(u.guardsResult))throw $1(0,u.guardsResult);const c=new WX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Dn(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),eI(u=>{if(u.guards.canActivateChecks.length)return K(u).pipe(Ht(c=>{const l=new KX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Xt(c=>{let l=!1;return K(c).pipe(function ZJ(t,e){return Tt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=0;return bt(i).pipe(Ya(o=>function eZ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!tV(i)&&(s[ml]=i.title),function tZ(t,e,n,r){const i=function nZ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return K({});const s={};return bt(i).pipe(Tt(o=>function rZ(t,e,n,r){const i=Dl(e)??r,s=nu(t,i);return hs(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ds(),Ht(a=>{s[o]=a}))),VE(1),lp(s),lo(o=>W1(o)?kr:Qa(o)))}(s,t,e,r).pipe(ce(o=>(t._resolvedData=o,t.data=L1(t,n).resolve,i&&tV(i)&&(t.data[ml]=i.title),null)))}(o.route,r,t,e)),Ht(()=>s++),VE(1),Tt(o=>s===i.length?K(n):kr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Ht(c=>{const l=new QX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),eI(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ht(h=>{l.component=h}),ce(()=>{})));for(const h of l.children)d.push(...c(h));return d};return NE(c(u.targetSnapshot.root)).pipe(cp(),Cn(1))}),eI(()=>this.afterPreactivation()),ce(u=>{const c=function oJ(t,e,n){const r=Cl(t,e._root,n?n._root:void 0);return new V1(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),Ht(()=>{this.events.next(new $E)}),((t,e,n,r)=>ce(i=>(new mJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Cn(1),Ht({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),dp(this.transitionAbortSubject.pipe(Ht(u=>{throw u}))),gl(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),lo(u=>{if(a=!0,G1(u))this.events.next(new Tl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function cJ(t){return G1(t)&&fo(t.url)}(u)?this.events.next(new HE(u.url)):s.resolve(!1);else{this.events.next(new vp(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return kr}))}))}cancelNavigationTransition(n,r,i){const s=new Tl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rV(t){return t!==wl}let iV=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[ml]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return F(oZ)},providedIn:"root"})}return t})(),oZ=(()=>{class t extends iV{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(U(i1))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return F(cZ)},providedIn:"root"})}return t})();class uZ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let cZ=(()=>{class t extends uZ{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=$t(t)))(i||t)}}();static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ap=new V("",{providedIn:"root",factory:()=>({})});let lZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return F(dZ)},providedIn:"root"})}return t})(),dZ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(xl||{});function sV(t,e){t.events.pipe(Dn(n=>n instanceof fs||n instanceof Tl||n instanceof vp||n instanceof Za),ce(n=>n instanceof fs||n instanceof Za?xl.COMPLETE:n instanceof Tl&&(0===n.code||1===n.code)?xl.REDIRECTING:xl.FAILED),Dn(n=>n!==xl.REDIRECTING),Cn(1)).subscribe(()=>{e()})}function hZ(t){throw t}function fZ(t,e,n){return e.parse("/")}const pZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let An=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=F(Ok),this.isNgZoneEnabled=!1,this._events=new wt,this.options=F(Ap,{optional:!0})||{},this.pendingTasks=F(Lf),this.errorHandler=this.options.errorHandler||hZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||fZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=F(lZ),this.routeReuseStrategy=F(aZ),this.titleStrategy=F(iV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F(su,{optional:!0})?.flat()??[],this.navigationTransitions=F(Dp),this.urlSerializer=F(yl),this.location=F(oE),this.componentInputBindingEnabled=!!F(Ip,{optional:!0}),this.eventsSubscription=new Mn,this.isNgZoneEnabled=F(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ja,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=F1(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(oV(r)&&this._events.next(r));if(r instanceof yp)rV(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Za)this.rawUrlTree=i.rawUrl;else if(r instanceof N1){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof $E)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Tl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof HE){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rV(i.source)};this.scheduleNavigation(s,wl,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof vp&&this.restoreHistory(i,!0),r instanceof fs&&(this.navigated=!0),oV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(XE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=D1(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return A1(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=fo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,wl,null,r)}navigate(n,r={skipLocationChange:!1}){return function mZ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new D(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...pZ}:!1===r?{...gZ}:r,fo(n))return _1(this.currentUrlTree,n,i);const s=this.parseUrl(n);return _1(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return sV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oV(t){return!(t instanceof $E||t instanceof HE)}class aV{}let vZ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(n=>n instanceof fs),Ya(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=bv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return bt(i).pipe(ta())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):K(null);const s=i.pipe(Tt(o=>null===o?K(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?bt([s,this.loader.loadComponent(r)]).pipe(ta()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(U(An),U(Vk),U(Xn),U(aV),U(tI))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const rI=new V("");let uV=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof yp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof fs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Za&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof k1&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new k1(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function SP(){throw new Error("invalid")}()};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Si(t,e){return{\u0275kind:t,\u0275providers:e}}function lV(){const t=F(vn);return e=>{const n=t.get(ao);if(e!==n.components[0])return;const r=t.get(An),i=t.get(dV);1===t.get(iI)&&r.initialNavigation(),t.get(hV,null,fe.Optional)?.setUpPreloading(),t.get(rI,null,fe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const dV=new V("",{factory:()=>new wt}),iI=new V("",{providedIn:"root",factory:()=>1}),hV=new V("");function TZ(t){return Si(0,[{provide:hV,useExisting:vZ},{provide:aV,useExisting:t}])}const fV=new V("ROUTER_FORROOT_GUARD"),CZ=[oE,{provide:yl,useClass:FE},An,bl,{provide:tu,useFactory:function cV(t){return t.routerState.root},deps:[An]},tI,[]];function DZ(){return new Hk("Router",An)}let pV=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[CZ,[],{provide:su,multi:!0,useValue:n},{provide:fV,useFactory:xZ,deps:[[An,new Lh,new Uh]]},{provide:Ap,useValue:r||{}},r?.useHash?{provide:co,useClass:$K}:{provide:co,useClass:vO},{provide:rI,useFactory:()=>{const t=F(iY),e=F(Ae),n=F(Ap),r=F(Dp),i=F(yl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new uV(i,r,t,e,n)}},r?.preloadingStrategy?TZ(r.preloadingStrategy).\u0275providers:[],{provide:Hk,multi:!0,useFactory:DZ},r?.initialNavigation?PZ(r):[],r?.bindToComponentInputs?Si(8,[j1,{provide:Ip,useExisting:j1}]).\u0275providers:[],[{provide:gV,useFactory:lV},{provide:Yv,multi:!0,useExisting:gV}]]}}static forChild(n){return{ngModule:t,providers:[{provide:su,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(U(fV,8))};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({})}return t})();function xZ(t){return"guarded"}function PZ(t){return["disabled"===t.initialNavigation?Si(3,[{provide:Ff,multi:!0,useFactory:()=>{const e=F(An);return()=>{e.setUpLocationChangeListener()}}},{provide:iI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Si(2,[{provide:iI,useValue:0},{provide:Ff,multi:!0,deps:[vn],useFactory:e=>{const n=e.get(BK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(An),s=e.get(dV);sV(i,()=>{r(!0)}),e.get(Dp).afterPreactivation=()=>(r(!0),s.closed?K(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const gV=new V("");function mV(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){mV(s,r,i,o,a,"next",u)}function a(u){mV(s,r,i,o,a,"throw",u)}o(void 0)})}}const _V=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},yV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_V(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new VZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sp=function(t){return function(t){const e=_V(t);return yV.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Rp=function(t){try{return yV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},xp=()=>{try{return function UZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},EV=t=>{var e,n;return null===(n=null===(e=xp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},IV=()=>{var t;return null===(t=xp())||void 0===t?void 0:t.config},wV=t=>{var e;return null===(e=xp())||void 0===e?void 0:e[`_${t}`]};class TV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bV(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function oI(){try{return"object"==typeof indexedDB}catch{return!1}}function aI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function CV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps.prototype.create)}}class ps{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function YZ(t,e){return t.replace(XZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new xr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const XZ=/\{\$([^}]+)}/g;function Pl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(AV(s)&&AV(o)){if(!Pl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function AV(t){return null!==t&&"object"==typeof t}function Ml(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class eee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function tee(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=uI),void 0===i.error&&(i.error=uI),void 0===i.complete&&(i.complete=uI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uI(){}const nee=1e3,ree=2,iee=144e5,see=.5;function SV(t,e=nee,n=ree){const r=e*Math.pow(n,t),i=Math.round(see*r*(Math.random()-.5)*2);return Math.min(iee,r+i)}function rt(t){return t&&t._delegate?t._delegate:t}class tr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const po="[DEFAULT]";class aee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function cee(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===po?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const lI=[];var _e=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(_e||{});const RV={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},dee=_e.INFO,hee={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},fee=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=hee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Mp{constructor(e){this.name=e,this._logLevel=dee,this._logHandler=fee,this._userLogHandler=null,lI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?RV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const pee=(t,e)=>e.some(n=>t instanceof n);let xV,PV;const MV=new WeakMap,dI=new WeakMap,NV=new WeakMap,hI=new WeakMap,fI=new WeakMap;let pI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||NV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Iee(t){return"function"==typeof t?function Eee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mee(){return PV||(PV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(gI(this),e),gs(MV.get(this))}:function(...e){return gs(t.apply(gI(this),e))}:function(e,...n){const r=t.call(gI(this),e,...n);return NV.set(r,e.sort?e.sort():[e]),gs(r)}}(t):(t instanceof IDBTransaction&&function yee(t){if(dI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dI.set(t,e)}(t),pee(t,function gee(){return xV||(xV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,pI):t)}function gs(t){if(t instanceof IDBRequest)return function _ee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MV.set(n,t)}).catch(()=>{}),fI.set(e,t),e}(t);if(hI.has(t))return hI.get(t);const e=Iee(t);return e!==t&&(hI.set(t,e),fI.set(e,t)),e}const gI=t=>fI.get(t),Tee=["get","getKey","getAll","getAllKeys","count"],bee=["put","add","delete","clear"],mI=new Map;function kV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(mI.get(e))return mI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tee.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return mI.set(e,s),s}!function vee(t){pI=t(pI)}(t=>({...t,get:(e,n,r)=>kV(e,n)||t.get(e,n,r),has:(e,n)=>!!kV(e,n)||t.has(e,n)}));class Cee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Dee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const _I="@firebase/app",go=new Mp("@firebase/app"),Np="[DEFAULT]",Jee={[_I]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mo=new Map,kp=new Map;function Zee(t,e){try{t.container.addComponent(e)}catch(n){go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gr(t){const e=t.name;if(kp.has(e))return go.debug(`There were multiple attempts to register component ${e}.`),!1;kp.set(e,t);for(const n of mo.values())Zee(n,t);return!0}function Ri(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const xi=new ps("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tte{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}const ou="10.4.0";function VV(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Np,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw xi.create("bad-app-name",{appName:String(i)});if(n||(n=IV()),!n)throw xi.create("no-options");const s=mo.get(i);if(s){if(Pl(n,s.options)&&Pl(r,s.config))return s;throw xi.create("duplicate-app",{appName:i})}const o=new lee(i);for(const u of kp.values())o.addComponent(u);const a=new tte(n,r,o);return mo.set(i,a),a}function Op(t=Np){const e=mo.get(t);if(!e&&t===Np&&IV())return VV();if(!e)throw xi.create("no-app",{appName:t});return e}function Un(t,e,n){var r;let i=null!==(r=Jee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void go.warn(a.join(" "))}gr(new tr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const nte="firebase-heartbeat-database",rte=1,Nl="firebase-heartbeat-store";let vI=null;function FV(){return vI||(vI=function wee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=gs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(gs(o.result),u.oldVersion,u.newVersion,gs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(nte,rte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Nl)}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),vI}function EI(){return(EI=m(function*(t){try{return yield(yield FV()).transaction(Nl).objectStore(Nl).get(UV(t))}catch(e){if(e instanceof xr)go.warn(e.message);else{const n=xi.create("idb-get",{originalErrorMessage:e?.message});go.warn(n.message)}}})).apply(this,arguments)}function LV(t,e){return II.apply(this,arguments)}function II(){return(II=m(function*(t,e){try{const r=(yield FV()).transaction(Nl,"readwrite");yield r.objectStore(Nl).put(e,UV(t)),yield r.done}catch(n){if(n instanceof xr)go.warn(n.message);else{const r=xi.create("idb-set",{originalErrorMessage:n?.message});go.warn(r.message)}}})).apply(this,arguments)}function UV(t){return`${t.name}!${t.options.appId}`}class ate{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=BV();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=BV(),{heartbeatsToSend:r,unsentEntries:i}=function ute(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jV(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Sp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function BV(){return(new Date).toISOString().substring(0,10)}class cte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!oI()&&aI().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ite(t){return EI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return LV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return LV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function jV(t){return Sp(JSON.stringify({version:2,heartbeats:t})).length}!function lte(t){gr(new tr("platform-logger",e=>new Cee(e),"PRIVATE")),gr(new tr("heartbeat",e=>new ate(e),"PRIVATE")),Un(_I,"0.9.19",t),Un(_I,"0.9.19","esm2017"),Un("fire-js","")}(""),Un("firebase","10.4.0","app");const fte=(t,e)=>e.some(n=>t instanceof n);let $V,HV;const GV=new WeakMap,wI=new WeakMap,zV=new WeakMap,TI=new WeakMap,bI=new WeakMap;let CI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return wI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||zV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ete(t){return"function"==typeof t?function vte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gte(){return HV||(HV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(DI(this),e),ms(GV.get(this))}:function(...e){return ms(t.apply(DI(this),e))}:function(e,...n){const r=t.call(DI(this),e,...n);return zV.set(r,e.sort?e.sort():[e]),ms(r)}}(t):(t instanceof IDBTransaction&&function _te(t){if(wI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wI.set(t,e)}(t),fte(t,function pte(){return $V||($V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,CI):t)}function ms(t){if(t instanceof IDBRequest)return function mte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ms(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GV.set(n,t)}).catch(()=>{}),bI.set(e,t),e}(t);if(TI.has(t))return TI.get(t);const e=Ete(t);return e!==t&&(TI.set(t,e),bI.set(e,t)),e}const DI=t=>bI.get(t),wte=["get","getKey","getAll","getAllKeys","count"],Tte=["put","add","delete","clear"],AI=new Map;function qV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(AI.get(e))return AI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wte.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return AI.set(e,s),s}!function yte(t){CI=t(CI)}(t=>({...t,get:(e,n,r)=>qV(e,n)||t.get(e,n,r),has:(e,n)=>!!qV(e,n)||t.has(e,n)}));const WV="@firebase/installations",SI="0.6.4",KV=1e4,QV=`w:${SI}`,YV="FIS_v2",bte="https://firebaseinstallations.googleapis.com/v1",Cte=36e5,Pi=new ps("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function XV(t){return t instanceof xr&&t.code.includes("request-failed")}function RI({projectId:t}){return`${bte}/projects/${t}/installations`}function JV(t){return{token:t.token,requestStatus:2,expiresIn:Rte(t.expiresIn),creationTime:Date.now()}}function xI(t,e){return PI.apply(this,arguments)}function PI(){return(PI=m(function*(t,e){const r=(yield e.json()).error;return Pi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function ZV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MI(t){return NI.apply(this,arguments)}function NI(){return(NI=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Rte(t){return Number(t.replace("s","000"))}function kI(){return(kI=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=RI(t),i=ZV(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:YV,appId:t.appId,sdkVersion:QV})},u=yield MI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:JV(c.authToken)}}throw yield xI("Create Installation",u)})).apply(this,arguments)}function tF(t){return new Promise(e=>{setTimeout(e,t)})}const Nte=/^[cdef][\w-]{21}$/,OI="";function kte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Ote(t){return function Mte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Nte.test(n)?n:OI}catch{return OI}}function au(t){return`${t.appName}!${t.appId}`}const uu=new Map;function nF(t,e){const n=au(t);rF(n,e),function Lte(t,e){const n=function iF(){return!_o&&"BroadcastChannel"in self&&(_o=new BroadcastChannel("[Firebase] FID Change"),_o.onmessage=t=>{rF(t.data.key,t.data.fid)}),_o}();n&&n.postMessage({key:t,fid:e}),function sF(){0===uu.size&&_o&&(_o.close(),_o=null)}()}(n,e)}function rF(t,e){const n=uu.get(t);if(n)for(const r of n)r(e)}let _o=null;const Ute="firebase-installations-database",Bte=1,yo="firebase-installations-store";let VI=null;function FI(){return VI||(VI=function Ite(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ms(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ms(o.result),u.oldVersion,u.newVersion,ms(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ute,Bte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(yo)}})),VI}function Vp(t,e){return LI.apply(this,arguments)}function LI(){return(LI=m(function*(t,e){const n=au(t),i=(yield FI()).transaction(yo,"readwrite"),s=i.objectStore(yo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&nF(t,e.fid),e})).apply(this,arguments)}function UI(t){return BI.apply(this,arguments)}function BI(){return(BI=m(function*(t){const e=au(t),r=(yield FI()).transaction(yo,"readwrite");yield r.objectStore(yo).delete(e),yield r.done})).apply(this,arguments)}function kl(t,e){return jI.apply(this,arguments)}function jI(){return(jI=m(function*(t,e){const n=au(t),i=(yield FI()).transaction(yo,"readwrite"),s=i.objectStore(yo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&nF(t,a.fid),a})).apply(this,arguments)}function $I(t){return HI.apply(this,arguments)}function HI(){return HI=m(function*(t){let e;const n=yield kl(t.appConfig,r=>{const i=function jte(t){return aF(t||{fid:kte(),registrationStatus:0})}(r),s=function $te(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Pi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Hte(t,e){return GI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Gte(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===OI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),HI.apply(this,arguments)}function GI(){return GI=m(function*(t,e){try{const n=yield function Pte(t,e){return kI.apply(this,arguments)}(t,e);return Vp(t.appConfig,n)}catch(n){throw XV(n)&&409===n.customData.serverCode?yield UI(t.appConfig):yield Vp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),GI.apply(this,arguments)}function Gte(t){return zI.apply(this,arguments)}function zI(){return(zI=m(function*(t){let e=yield oF(t.appConfig);for(;1===e.registrationStatus;)yield tF(100),e=yield oF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield $I(t);return r||n}return e})).apply(this,arguments)}function oF(t){return kl(t,e=>{if(!e)throw Pi.create("installation-not-found");return aF(e)})}function aF(t){return function zte(t){return 1===t.registrationStatus&&t.registrationTime+KV<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function qI(){return(qI=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Wte(t,{fid:e}){return`${RI(t)}/${e}/authTokens:generate`}(t,n),i=function eF(t,{refreshToken:e}){const n=ZV(t);return n.append("Authorization",function xte(t){return`${YV} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:QV,appId:t.appId}})},u=yield MI(()=>fetch(r,a));if(u.ok)return JV(yield u.json());throw yield xI("Generate Auth Token",u)})).apply(this,arguments)}function WI(t){return KI.apply(this,arguments)}function KI(){return KI=m(function*(t,e=!1){let n;const r=yield kl(t.appConfig,s=>{if(!cF(s))throw Pi.create("not-registered");const o=s.authToken;if(!e&&function Yte(t){return 2===t.requestStatus&&!function Xte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Cte}(t)}(o))return s;if(1===o.requestStatus)return n=function Kte(t,e){return QI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Pi.create("app-offline");const a=function Jte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Qte(t,e){return YI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),KI.apply(this,arguments)}function QI(){return(QI=m(function*(t,e){let n=yield uF(t.appConfig);for(;1===n.authToken.requestStatus;)yield tF(100),n=yield uF(t.appConfig);const r=n.authToken;return 0===r.requestStatus?WI(t,e):r})).apply(this,arguments)}function uF(t){return kl(t,e=>{if(!cF(e))throw Pi.create("not-registered");return function Zte(t){return 1===t.requestStatus&&t.requestTime+KV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function YI(){return YI=m(function*(t,e){try{const n=yield function qte(t,e){return qI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Vp(t.appConfig,r),n}catch(n){if(!XV(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Vp(t.appConfig,r)}else yield UI(t.appConfig);throw n}}),YI.apply(this,arguments)}function cF(t){return void 0!==t&&2===t.registrationStatus}function XI(){return(XI=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield $I(e);return r?r.catch(console.error):WI(e).catch(console.error),n.fid})).apply(this,arguments)}function JI(){return JI=m(function*(t,e=!1){const n=t;return yield function nne(t){return ZI.apply(this,arguments)}(n),(yield WI(n,e)).token}),JI.apply(this,arguments)}function ZI(){return(ZI=m(function*(t){const{registrationPromise:e}=yield $I(t);e&&(yield e)})).apply(this,arguments)}function nw(t){return Pi.create("missing-app-config-values",{valueName:t})}const lF="installations",ane=t=>{const e=t.getProvider("app").getImmediate(),n=function sne(t){if(!t||!t.options)throw nw("App Configuration");if(!t.name)throw nw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ri(e,"heartbeat"),_delete:()=>Promise.resolve()}},une=t=>{const n=Ri(t.getProvider("app").getImmediate(),lF).getImmediate();return{getId:()=>function ene(t){return XI.apply(this,arguments)}(n),getToken:i=>function tne(t){return JI.apply(this,arguments)}(n,i)}};(function cne(){gr(new tr(lF,ane,"PUBLIC")),gr(new tr("installations-internal",une,"PRIVATE"))})(),Un(WV,SI),Un(WV,SI,"esm2017");const Fp="analytics",lne="firebase_id",dne="origin",hne=6e4,fne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rw="https://www.googletagmanager.com/gtag/js",Mt=new Mp("@firebase/analytics"),Sn=new ps("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function gne(t){if(!t.startsWith(rw)){const e=Sn.create("invalid-gtag-resource",{gtagURL:t});return Mt.warn(e.message),""}return t}function dF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function iw(){return(iw=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield dF(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Mt.error(a)}t("config",i,s)})).apply(this,arguments)}function sw(){return(sw=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield dF(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Mt.error(s)}})).apply(this,arguments)}const bne=30,hF=new class Dne{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ane(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function ow(){return(ow=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Ane(r)},s=fne.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function aw(){return(aw=m(function*(t,e=hF,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Sn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Sn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Mne;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:hne),fF({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function fF(t,e,n){return uw.apply(this,arguments)}function uw(){return uw=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=hF){var s;const{appId:o,measurementId:a}=t;try{yield function xne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Sne(t){return ow.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Pne(t){if(!(t instanceof xr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?SV(n,i.intervalMillis,bne):SV(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Mt.debug(`Calling attemptFetch again in ${l} millis`),fF(t,d,r,i)}}),uw.apply(this,arguments)}class Mne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let cw,mw;function lw(){return(lw=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function _w(){return(_w=m(function*(){if(!oI())return Mt.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield aI()}catch(t){return Mt.warn(Sn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function yw(){return yw=m(function*(t,e,n,r,i,s,o){var a;const u=function Rne(t){return aw.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Mt.error(f)),e.push(u);const c=function Une(){return _w.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Tne(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rw)&&n.src.includes(t))return n;return null})(s)||function _ne(t,e){const n=function mne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:gne}),r=document.createElement("script"),i=`${rw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),mw&&(i("consent","default",mw),function pF(t){mw=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[dne]="firebase",h.update=!0,null!=d&&(h[lne]=d),i("config",l.measurementId,h),cw&&(i("set",cw),function gF(t){cw=t}(void 0)),l.measurementId}),yw.apply(this,arguments)}class jne{constructor(e){this.app=e}_delete(){return delete Xr[this.app.options.appId],Promise.resolve()}}let Xr={},mF=[];const _F={};let vF,Jr,Lp="dataLayer",vw=!1;function Hne(t,e,n){!function $ne(){const t=[];if(bV()&&t.push("This is a browser extension environment."),CV()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:e});Mt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Sn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Sn.create("no-api-key");Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xr[r])throw Sn.create("already-exists",{id:r});if(!vw){!function yne(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Lp);const{wrappedGtag:s,gtagCore:o}=function wne(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Ine(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Ene(t,e,n,r,i){return sw.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function vne(t,e,n,r,i,s){return iw.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Mt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Xr,mF,_F,Lp,"gtag");Jr=s,vF=o,vw=!0}return Xr[r]=function Bne(t,e,n,r,i,s,o){return yw.apply(this,arguments)}(t,mF,_F,e,vF,Lp,n),new jne(t)}const EF="@firebase/analytics";!function Wne(){gr(new tr(Fp,(e,{options:n})=>Hne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),gr(new tr("analytics-internal",function t(e){try{const n=e.getProvider(Fp).getImmediate();return{logEvent:(r,i,s)=>function qne(t,e,n,r){t=rt(t),function Nne(t,e,n,r,i){return lw.apply(this,arguments)}(Jr,Xr[t.app.options.appId],e,n,r).catch(i=>Mt.error(i))}(n,r,i,s)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Un(EF,"0.10.0"),Un(EF,"0.10.0","esm2017")}();const Kne=function CF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},DF=new ps("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Up=new Mp("@firebase/auth");function Bp(t,...e){Up.logLevel<=_e.ERROR&&Up.error(`Auth (${ou}): ${t}`,...e)}function Bn(t,...e){throw ww(t,...e)}function nr(t,...e){return ww(t,...e)}function AF(t,e,n){const r=Object.assign(Object.assign({},Kne()),{[e]:n});return new ps("auth","Firebase",r).create(e,{appName:t.name})}function ww(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DF.create(t,...e)}function x(t,e,...n){if(!t)throw ww(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bp(e),new Error(e)}function Mi(t,e){t||Zr(e)}function Ol(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function SF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Vl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=function zZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}()||function WZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Yne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Tw(){return"http:"===SF()||"https:"===SF()}()||bV()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bw(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class RF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zne=new Vl(3e4,6e4);function Qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Je(t,e,n,r){return Cw.apply(this,arguments)}function Cw(){return(Cw=m(function*(t,e,n,r,i={}){return xF(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ml(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),RF.fetch()(PF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function xF(t,e,n){return Dw.apply(this,arguments)}function Dw(){return(Dw=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jne),e);try{const i=new ere(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Fl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Fl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Fl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Fl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AF(t,l,c);Bn(t,l)}}catch(i){if(i instanceof xr)throw i;Bn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Aw(){return(Aw=m(function*(t,e,n,r,i={}){const s=yield Je(t,e,n,r,i);return"mfaPendingCredential"in s&&Bn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function PF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bw(t.config,i):`${t.config.apiScheme}://${i}`}class ere{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),Zne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nr(t,e,r);return i.customData._tokenResponse=n,i}function xw(){return(xw=m(function*(t,e){return Je(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Mw(){return(Mw=m(function*(t,e){return Je(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ll(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Nw(){return(Nw=m(function*(t,e=!1){const n=rt(t),r=yield n.getIdToken(e),i=jp(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ll(kw(i.auth_time)),issuedAtTime:Ll(kw(i.iat)),expirationTime:Ll(kw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function kw(t){return 1e3*Number(t)}function jp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Bp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rp(n);return i?JSON.parse(i):(Bp("Failed to decode base64 JWT payload"),null)}catch(i){return Bp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ki(t,e){return Ow.apply(this,arguments)}function Ow(){return(Ow=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof xr&&function are({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class ure{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class NF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ul(t){return Vw.apply(this,arguments)}function Vw(){return Vw=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ki(t,function ire(t,e){return Mw.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function dre(t){return t.map(e=>{var{providerId:n}=e,r=lh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function lre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new NF(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Vw.apply(this,arguments)}function Fw(){return(Fw=m(function*(t){const e=rt(t);yield Ul(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Lw(){return(Lw=m(function*(t,e){const n=yield xF(t,{},m(function*(){const r=Ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PF(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ore(t){const e=jp(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function hre(t,e){return Lw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bl;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return Zr("not implemented")}}function _s(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class vo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ure(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new NF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield ki(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function sre(t){return Nw.apply(this,arguments)}(this,e)}reload(){return function cre(t){return Fw.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ul(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield ki(e,function nre(t,e){return xw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:S,isAnonymous:P,providerData:H,stsTokenManager:de}=n;x(w&&de,e,"internal-error");const et=Bl.fromJSON(this.name,de);x("string"==typeof w,e,"internal-error"),_s(d,e.name),_s(h,e.name),x("boolean"==typeof S,e,"internal-error"),x("boolean"==typeof P,e,"internal-error"),_s(f,e.name),_s(p,e.name),_s(g,e.name),_s(_,e.name),_s(v,e.name),_s(y,e.name);const Ki=new vo({uid:w,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:P,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:et,createdAt:v,lastLoginAt:y});return H&&Array.isArray(H)&&(Ki.providerData=H.map(ac=>Object.assign({},ac))),_&&(Ki._redirectEventId=_),Ki}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Bl;i.updateFromServerResponse(n);const s=new vo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ul(s),s})()}}const kF=new Map;function Oi(t){Mi(t instanceof Function,"Expected a class definition");let e=kF.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kF.set(t,e),e)}const OF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function $p(t,e,n){return`firebase:${t}:${e}:${n}`}class lu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$p(this.userKey,i.apiKey,s),this.fullPersistenceKey=$p("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?vo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new lu(Oi(OF),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Oi(OF);const o=$p(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=vo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new lu(s,e,r)):new lu(s,e,r)})()}}function VF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jF(e))return"Blackberry";if($F(e))return"Webos";if(Uw(e))return"Safari";if((e.includes("chrome/")||LF(e))&&!e.includes("edge/"))return"Chrome";if(BF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function FF(t=Pt()){return/firefox\//i.test(t)}function Uw(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LF(t=Pt()){return/crios\//i.test(t)}function UF(t=Pt()){return/iemobile/i.test(t)}function BF(t=Pt()){return/android/i.test(t)}function jF(t=Pt()){return/blackberry/i.test(t)}function $F(t=Pt()){return/webos/i.test(t)}function Hp(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HF(t=Pt()){return Hp(t)||BF(t)||$F(t)||jF(t)||/windows phone/i.test(t)||UF(t)}function GF(t,e=[]){let n;switch(t){case"Browser":n=VF(Pt());break;case"Worker":n=`${VF(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ou}/${r}`}class mre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function Bw(){return(Bw=m(function*(t,e={}){return Je(t,"GET","/v2/passwordPolicy",Qe(t,e))})).apply(this,arguments)}class vre{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(s=u.containsUppercaseLetter)||void 0===s||s),u.isValid&&(u.isValid=null===(o=u.containsNumericCharacter)||void 0===o||o),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Ere{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zF(this),this.idTokenSubscription=new zF(this),this.beforeStateQueue=new mre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield lu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Ul(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Xne(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?rt(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Oi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return m(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return m(function*(){const n=yield function _re(t){return Bw.apply(this,arguments)}(e),r=new vre(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ps("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Oi(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield lu.create(n,[Oi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}{const u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Qne(t,...e){Up.logLevel<=_e.WARN&&Up.warn(`Auth (${ou}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function yt(t){return rt(t)}class zF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function ZZ(t,e){const n=new eee(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qF(t){return`__${t}${Math.floor(1e6*Math.random())}`}function KF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class YF{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}function Vi(t,e){return sT.apply(this,arguments)}function sT(){return(sT=m(function*(t,e){return function Ni(t,e,n,r){return Aw.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Qe(t,e))})).apply(this,arguments)}class du extends YF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new du(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lh(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new du(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Vi(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vi(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ml(n)}return e}}class vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eL extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Gre=(()=>{class t extends eL{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return du._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield vo._fromIdTokenResponse(e,r,i),o=tL(r);return new mr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=tL(r);return new mr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function tL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Kp extends xr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kp(e,n,r,i)}}function nL(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Kp._fromErrorAndOperation(t,s,e,r):s})}function gT(){return(gT=m(function*(t,e,n=!1){const r=yield ki(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return mr._forOperation(t,"link",r)})).apply(this,arguments)}function _T(){return(_T=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ki(t,nL(r,i,e,t),n);x(s.idToken,r,"internal-error");const o=jp(s.idToken);x(o,r,"internal-error");const{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),mr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Bn(r,"user-mismatch"),s}})).apply(this,arguments)}function yT(){return(yT=m(function*(t,e,n=!1){const r="signIn",i=yield nL(t,r,e),s=yield mr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Yp="__sak";class aL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gie=(()=>{class t extends aL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hie(){const t=Pt();return Uw(t)||Hp(t)}()&&function gre(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=HF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function pre(){return function KZ(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),uL=(()=>{class t extends aL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let _ie=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function mie(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Xp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class yie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Xp("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function vt(){return window}function XT(){return typeof vt().WorkerGlobalScope<"u"&&"function"==typeof vt().importScripts}function JT(){return(JT=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cL="firebaseLocalStorageDb",Jp="firebaseLocalStorage",lL="fbase_key";class Hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zp(t,e){return t.transaction([Jp],e?"readwrite":"readonly").objectStore(Jp)}function ZT(){const t=indexedDB.open(cL,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jp,{keyPath:lL})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(Jp)?e(r):(r.close(),yield function bie(){const t=indexedDB.deleteDatabase(cL);return new Hl(t).toPromise()}(),e(yield ZT()))}))})}function dL(t,e,n){return eb.apply(this,arguments)}function eb(){return(eb=m(function*(t,e,n){const r=Zp(t,!0).put({[lL]:e,value:n});return new Hl(r).toPromise()})).apply(this,arguments)}function tb(){return(tb=m(function*(t,e){const n=Zp(t,!1).get(e),r=yield new Hl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function hL(t,e){const n=Zp(t,!0).delete(e);return new Hl(n).toPromise()}const Sie=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield ZT()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return XT()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=_ie._getInstance(function wie(){return XT()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function Eie(){return JT.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new yie(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function Iie(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield ZT();return yield dL(n,Yp,"1"),yield hL(n,Yp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>dL(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function Cie(t,e){return tb.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>hL(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=Zp(o,!1).getAll();return new Hl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Io(t,e){return e?Oi(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}qF("rcb"),new Vl(3e4,6e4);class lb extends YF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Gie(t){return function sL(t,e){return yT.apply(this,arguments)}(t.auth,new lb(t),t.bypassAuthState)}function zie(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function iL(t,e){return _T.apply(this,arguments)}(n,new lb(t),t.bypassAuthState)}function qie(t){return db.apply(this,arguments)}function db(){return(db=m(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function pT(t,e){return gT.apply(this,arguments)}(n,new lb(t),t.bypassAuthState)})).apply(this,arguments)}class pL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gie;case"linkViaPopup":case"linkViaRedirect":return qie;case"reauthViaPopup":case"reauthViaRedirect":return zie;default:Bn(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wie=new Vl(2e3,1e4);function hb(){return(hb=m(function*(t,e,n){const r=yt(t);!function cu(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Bn(t,"argument-error"),AF(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,vs);const i=Io(r,n);return new gb(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let gb=(()=>{class t extends pL{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return x(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){Mi(1===n.filter.length,"Popup operations only handle one event");const r=Xp();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(nr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Wie.get())};n()}}return t.currentPopupAction=null,t})();const Qie="pendingRedirect",Gl=new Map;class Yie extends pL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Gl.get(n.auth._key());if(!r){try{const s=(yield function Xie(t,e){return mb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Gl.set(n.auth._key(),r)}return n.bypassAuthState||Gl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function mb(){return(mb=m(function*(t,e){const n=function mL(t){return $p(Qie,t.config.apiKey,t.name)}(e),r=function gL(t){return Oi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Jie(t,e){Gl.set(t._key(),e)}function _L(t,e){return Tb.apply(this,arguments)}function Tb(){return(Tb=m(function*(t,e,n=!1){const r=yt(t),i=Io(r,e),o=yield new Yie(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class rse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ise(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EL(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vL(e))}saveEventToCache(e){this.cachedEventUids.add(vL(e)),this.lastProcessedEventTime=Date.now()}}function vL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EL({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Cb(){return(Cb=m(function*(t,e={}){return Je(t,"GET","/v1/projects",e)})).apply(this,arguments)}const ose=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ase=/^https?/;function Db(){return Db=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function sse(t){return Cb.apply(this,arguments)}(t);for(const n of e)try{if(cse(n))return}catch{}Bn(t,"unauthorized-domain")}),Db.apply(this,arguments)}function cse(t){const e=Ol(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!ase.test(n))return!1;if(ose.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const lse=new Vl(3e4,6e4);function IL(){const t=vt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let tg=null;function hse(t){return tg=tg||function dse(t){return new Promise((e,n)=>{var r,i,s;function o(){IL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IL(),n(nr(t,"network-request-failed"))},timeout:lse.get()})}if(null!==(i=null===(r=vt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=vt().gapi)||void 0===s||!s.load){const a=qF("iframefcb");return vt()[a]=()=>{gapi.load?o():n(nr(t,"network-request-failed"))},function jw(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=nr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Ire(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw tg=null,e})}(t),tg}const fse=new Vl(5e3,15e3),pse="__/auth/iframe",gse="emulator/auth/iframe",mse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_se=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yse(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bw(e,gse):`https://${t.config.authDomain}/${pse}`,r={apiKey:e.apiKey,appName:t.name,v:ou},i=_se.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ml(r).slice(1)}`}function Ab(){return Ab=m(function*(t){const e=yield hse(t),n=vt().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:yse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mse,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=nr(t,"network-request-failed"),u=vt().setTimeout(()=>{o(a)},fse.get());function c(){vt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Ab.apply(this,arguments)}const Ese={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ase="__/auth/handler",Sse="emulator/auth/handler",Rse=encodeURIComponent("fac");function TL(t,e,n,r,i,s){return Sb.apply(this,arguments)}function Sb(){return(Sb=m(function*(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ou,eventId:i};if(e instanceof vs){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function JZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof eL){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Rse}=${encodeURIComponent(u)}`:"";return`${function xse({config:t}){return t.emulator?bw(t,Sse):`https://${t.authDomain}/${Ase}`}(t)}?${Ml(a).slice(1)}${c}`})).apply(this,arguments)}const Rb="webStorageSupport",Mse=class Pse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uL,this._completeRedirectFn=_L,this._overrideRedirectResult=Jie}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;Mi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield TL(e,n,r,Ol(),i);return function Cse(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Ese),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pt().toLowerCase();n&&(a=LF(c)?"_blank":n),FF(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function fre(t=Pt()){var e;return Hp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Dse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new wL(null);const d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new wL(d)}(e,a,Xp())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function vie(t){vt().location.href=t}(yield TL(e,n,r,Ol(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Mi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function vse(t){return Ab.apply(this,arguments)}(e),i=new rse(e);return r.register("authEvent",s=>(x(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rb,{type:Rb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Rb];void 0!==o&&n(!!o),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function use(t){return Db.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HF()||Uw()||Hp()}};var DL="@firebase/auth";class Nse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fse=wV("authIdTokenMaxAge")||300;let SL=null;const Lse=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Fse)return;const s=r?.token;SL!==s&&(SL=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();!function Ose(t){gr(new tr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GF(t)},c=new Ere(r,i,s,u);return function Are(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Oi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gr(new tr("auth-internal",e=>{const n=yt(e.getProvider("auth").getImmediate());return new Nse(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(DL,"1.3.0",function kse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Un(DL,"1.3.0","esm2017")}("Browser");const Bse=(t,e)=>e.some(n=>t instanceof n);let RL,xL;const PL=new WeakMap,Pb=new WeakMap,ML=new WeakMap,Mb=new WeakMap,Nb=new WeakMap;let kb={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Pb.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ML.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Wse(t){return"function"==typeof t?function qse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $se(){return xL||(xL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ob(this),e),Fi(PL.get(this))}:function(...e){return Fi(t.apply(Ob(this),e))}:function(e,...n){const r=t.call(Ob(this),e,...n);return ML.set(r,e.sort?e.sort():[e]),Fi(r)}}(t):(t instanceof IDBTransaction&&function Gse(t){if(Pb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pb.set(t,e)}(t),Bse(t,function jse(){return RL||(RL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,kb):t)}function Fi(t){if(t instanceof IDBRequest)return function Hse(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PL.set(n,t)}).catch(()=>{}),Nb.set(e,t),e}(t);if(Mb.has(t))return Mb.get(t);const e=Wse(t);return e!==t&&(Mb.set(t,e),Nb.set(e,t)),e}const Ob=t=>Nb.get(t);function NL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Fi(o.result),u.oldVersion,u.newVersion,Fi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Vb(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Fi(n).then(()=>{})}const Kse=["get","getKey","getAll","getAllKeys","count"],Qse=["put","add","delete","clear"],Fb=new Map;function kL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Fb.get(e))return Fb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Qse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Kse.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Fb.set(e,s),s}!function zse(t){kb=t(kb)}(t=>({...t,get:(e,n,r)=>kL(e,n)||t.get(e,n,r),has:(e,n)=>!!kL(e,n)||t.has(e,n)}));const Yse="/firebase-messaging-sw.js",Xse="/firebase-cloud-messaging-push-scope",OL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jse="https://fcmregistrations.googleapis.com/v1",VL="google.c.a.c_id",Zse="google.c.a.c_l",eoe="google.c.a.ts";var rg=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(rg||{});function Li(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function roe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Lb="fcm_token_details_db",ioe=5,FL="fcm_token_object_Store";function Ub(){return Ub=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Lb))return null;let e=null;return(yield NL(Lb,ioe,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(FL))return;const c=a.objectStore(FL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Li(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Li(d.auth),p256dh:Li(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Li(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Li(d.auth),p256dh:Li(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Li(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Vb(Lb),yield Vb("fcm_vapid_details_db"),yield Vb("undefined"),function ooe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Ub.apply(this,arguments)}const aoe="firebase-messaging-database",uoe=1,wo="firebase-messaging-store";let Bb=null;function jb(){return Bb||(Bb=NL(aoe,uoe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(wo)}})),Bb}function LL(t){return $b.apply(this,arguments)}function $b(){return $b=m(function*(t){const e=qb(t),r=yield(yield jb()).transaction(wo).objectStore(wo).get(e);if(r)return r;{const i=yield function soe(t){return Ub.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield Hb(t,i),i}}),$b.apply(this,arguments)}function Hb(t,e){return Gb.apply(this,arguments)}function Gb(){return(Gb=m(function*(t,e){const n=qb(t),i=(yield jb()).transaction(wo,"readwrite");return yield i.objectStore(wo).put(e,n),yield i.done,e})).apply(this,arguments)}function zb(){return(zb=m(function*(t){const e=qb(t),r=(yield jb()).transaction(wo,"readwrite");yield r.objectStore(wo).delete(e),yield r.done})).apply(this,arguments)}function qb({appConfig:t}){return t.appId}const Gt=new ps("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function doe(t,e){return Wb.apply(this,arguments)}function Wb(){return(Wb=m(function*(t,e){const n=yield Xb(t),r=BL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Yb(t.appConfig),i)).json()}catch(o){throw Gt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Gt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Gt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Kb(){return(Kb=m(function*(t,e){const n=yield Xb(t),r=BL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Yb(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Gt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Gt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Gt.create("token-update-no-token");return s.token})).apply(this,arguments)}function UL(t,e){return Qb.apply(this,arguments)}function Qb(){return(Qb=m(function*(t,e){const r={method:"DELETE",headers:yield Xb(t)};try{const s=yield(yield fetch(`${Yb(t.appConfig)}/${e}`,r)).json();if(s.error)throw Gt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Gt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Yb({projectId:t}){return`${Jse}/projects/${t}/registrations`}function Xb(t){return Jb.apply(this,arguments)}function Jb(){return(Jb=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function BL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==OL&&(i.web.applicationPubKey=r),i}const foe=6048e5;function Zb(){return Zb=m(function*(t){const e=yield function moe(t,e){return rC.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Li(e.getKey("auth")),p256dh:Li(e.getKey("p256dh"))},r=yield LL(t.firebaseDependencies);if(r){if(function _oe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+foe?function goe(t,e){return tC.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield UL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return $L(t.firebaseDependencies,n)}return $L(t.firebaseDependencies,n)}),Zb.apply(this,arguments)}function eC(){return eC=m(function*(t){const e=yield LL(t.firebaseDependencies);e&&(yield UL(t.firebaseDependencies,e.token),yield function coe(t){return zb.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),eC.apply(this,arguments)}function tC(){return tC=m(function*(t,e){try{const n=yield function hoe(t,e){return Kb.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Hb(t.firebaseDependencies,r),n}catch(n){throw yield function jL(t){return eC.apply(this,arguments)}(t),n}}),tC.apply(this,arguments)}function $L(t,e){return nC.apply(this,arguments)}function nC(){return(nC=m(function*(t,e){const r={token:yield doe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Hb(t,r),r.token})).apply(this,arguments)}function rC(){return(rC=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:roe(e)})})).apply(this,arguments)}function HL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function yoe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function voe(t,e){e.data&&(t.data=e.data)}(e,t),function Eoe(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function GL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function iC(t){return Gt.create("missing-app-config-values",{valueName:t})}GL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),GL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Toe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function woe(t){if(!t||!t.options)throw iC("App Configuration Object");if(!t.name)throw iC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw iC(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function sC(){return(sC=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Yse,{scope:Xse}),t.swRegistration.update().catch(()=>{})}catch(e){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function oC(){return(oC=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function zL(t){return sC.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function aC(){return(aC=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=OL)})).apply(this,arguments)}function qL(t,e){return uC.apply(this,arguments)}function uC(){return uC=m(function*(t,e){if(!navigator)throw Gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gt.create("permission-blocked");return yield function Coe(t,e){return aC.apply(this,arguments)}(t,e?.vapidKey),yield function boe(t,e){return oC.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function poe(t){return Zb.apply(this,arguments)}(t)}),uC.apply(this,arguments)}function cC(){return(cC=m(function*(t,e,n){const r=function Aoe(t){switch(t){case rg.NOTIFICATION_CLICKED:return"notification_open";case rg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[VL],message_name:n[Zse],message_time:n[eoe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function lC(){return lC=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===rg.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(HL(n)):t.onMessageHandler.next(HL(n)));const r=n.data;(function Ioe(t){return"object"==typeof t&&!!t&&VL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Doe(t,e,n){return cC.apply(this,arguments)}(t,n.messageType,r))}),lC.apply(this,arguments)}const WL="@firebase/messaging",Roe=t=>{const e=new Toe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Soe(t,e){return lC.apply(this,arguments)}(e,n)),e},xoe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>qL(e,r)}};function dC(){return(dC=m(function*(){try{yield aI()}catch{return!1}return typeof window<"u"&&oI()&&CV()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function fC(){return(fC=m(function*(t,e){return qL(t=rt(t),e)})).apply(this,arguments)}!function Poe(){gr(new tr("messaging",Roe,"PUBLIC")),gr(new tr("messaging-internal",xoe,"PRIVATE")),Un(WL,"0.12.4"),Un(WL,"0.12.4","esm2017")}();var k,Loe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pr={},pC=pC||{},ie=Loe||self;function ig(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function zl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var gC="closure_uid_"+(1e9*Math.random()>>>0),Boe=0;function joe(t,e,n){return t.call.apply(t.bind,arguments)}function $oe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function on(t,e,n){return(on=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?joe:$oe).apply(null,arguments)}function sg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Es(){this.s=this.s,this.o=this.o}Es.prototype.s=!1,Es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Uoe(t){Object.prototype.hasOwnProperty.call(t,gC)&&t[gC]||(t[gC]=++Boe)}(this)},Es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function mC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function YL(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ig(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function an(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}an.prototype.h=function(){this.defaultPrevented=!0};var Goe=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return t}();function ql(t){return/^[\s\xa0]*$/.test(t)}function og(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function ei(t){return-1!=og().indexOf(t)}function _C(t){return _C[" "](t),t}_C[" "]=function(){};var vC,t,qoe=ei("Opera"),fu=ei("Trident")||ei("MSIE"),XL=ei("Edge"),yC=XL||fu,JL=ei("Gecko")&&!(-1!=og().toLowerCase().indexOf("webkit")&&!ei("Edge"))&&!(ei("Trident")||ei("MSIE"))&&!ei("Edge"),Woe=-1!=og().toLowerCase().indexOf("webkit")&&!ei("Edge");function ZL(){var t=ie.document;return t?t.documentMode:void 0}e:{var EC="",IC=(t=og(),JL?/rv:([^\);]+)(\)|;)/.exec(t):XL?/Edge\/([\d\.]+)/.exec(t):fu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Woe?/WebKit\/(\S+)/.exec(t):qoe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(IC&&(EC=IC?IC[1]:""),fu){var wC=ZL();if(null!=wC&&wC>parseFloat(EC)){vC=String(wC);break e}}vC=EC}var Koe=ie.document&&fu&&(ZL()||parseInt(vC,10))||void 0;function Wl(t,e){if(an.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(JL){e:{try{_C(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qoe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wl.$.h.call(this)}}Nt(Wl,an);var Qoe={2:"touch",3:"pen",4:"mouse"};Wl.prototype.h=function(){Wl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kl="closure_listenable_"+(1e6*Math.random()|0),Yoe=0;function Xoe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Yoe,this.fa=this.ia=!1}function ag(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function bC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function t2(t){const e={};for(const n in t)e[n]=t[n];return e}const n2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function r2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<n2.length;s++)n=n2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ug(t){this.src=t,this.g={},this.h=0}function CC(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=QL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ag(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function DC(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}ug.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=DC(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Xoe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var AC="closure_lm_"+(1e6*Math.random()|0),SC={};function i2(t,e,n,r,i){if(r&&r.once)return o2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)i2(t,e[s],n,r,i);return null}return n=MC(n),t&&t[Kl]?t.O(e,n,zl(r)?!!r.capture:!!r,i):s2(t,e,n,!1,r,i)}function s2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=zl(i)?!!i.capture:!!i,a=xC(t);if(a||(t[AC]=a=new ug(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Zoe(){const e=eae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Goe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(u2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function o2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)o2(t,e[s],n,r,i);return null}return n=MC(n),t&&t[Kl]?t.P(e,n,zl(r)?!!r.capture:!!r,i):s2(t,e,n,!0,r,i)}function a2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)a2(t,e[s],n,r,i);else r=zl(r)?!!r.capture:!!r,n=MC(n),t&&t[Kl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=DC(s=t.g[e],n,r,i))&&(ag(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=xC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=DC(e,n,r,i)),(n=-1<t?e[t]:null)&&RC(n))}function RC(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Kl])CC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(u2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xC(e))?(CC(n,t),0==n.h&&(n.src=null,e[AC]=null)):ag(t)}}}function u2(t){return t in SC?SC[t]:SC[t]="on"+t}function eae(t,e){if(t.fa)t=!0;else{e=new Wl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&RC(t),t=n.call(r,e)}return t}function xC(t){return(t=t[AC])instanceof ug?t:null}var PC="__closure_events_fn_"+(1e9*Math.random()>>>0);function MC(t){return"function"==typeof t?t:(t[PC]||(t[PC]=function(e){return t.handleEvent(e)}),t[PC])}function kt(){Es.call(this),this.i=new ug(this),this.S=this,this.J=null}function zt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new an(e,t);else if(e instanceof an)e.target=e.target||t;else{var i=e;r2(e=new an(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=cg(o,r,!0,e)&&i}if(i=cg(o=e.g=t,r,!0,e)&&i,i=cg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=cg(o=e.g=n[s],r,!1,e)&&i}function cg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&CC(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Nt(kt,Es),kt.prototype[Kl]=!0,kt.prototype.removeEventListener=function(t,e,n,r){a2(this,t,e,n,r)},kt.prototype.N=function(){if(kt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ag(n[r]);delete t.g[e],t.h--}}this.J=null},kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var NC=ie.JSON.stringify;function nae(){var t=kC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var c2=new class tae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new iae,t=>t.reset());class iae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function oae(t){ie.setTimeout(()=>{throw t},0)}let Ql,Yl=!1,kC=new class rae{constructor(){this.h=this.g=null}add(e,n){const r=c2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},l2=()=>{const t=ie.Promise.resolve(void 0);Ql=()=>{t.then(aae)}};var aae=()=>{for(var t;t=nae();){try{t.h.call(t.g)}catch(n){oae(n)}var e=c2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yl=!1};function lg(t,e){kt.call(this),this.h=t||1,this.g=e||ie,this.j=on(this.qb,this),this.l=Date.now()}function OC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function VC(t,e,n){if("function"==typeof t)n&&(t=on(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=on(t.handleEvent,t)}return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function d2(t){t.g=VC(()=>{t.g=null,t.i&&(t.i=!1,d2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Nt(lg,kt),(k=lg.prototype).ga=!1,k.T=null,k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zt(this,"tick"),this.ga&&(OC(this),this.start()))}},k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.N=function(){lg.$.N.call(this),OC(this),delete this.g};class uae extends Es{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:d2(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xl(t){Es.call(this),this.h=t,this.g={}}Nt(Xl,Es);var h2=[];function f2(t,e,n,r){Array.isArray(n)||(n&&(h2[0]=n.toString()),n=h2);for(var i=0;i<n.length;i++){var s=i2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function p2(t){bC(t.g,function(e,n){this.g.hasOwnProperty(n)&&RC(e)},t),t.g={}}function dg(){this.g=!0}function pu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return NC(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Xl.prototype.N=function(){Xl.$.N.call(this),p2(this)},Xl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dg.prototype.Ea=function(){this.g=!1},dg.prototype.info=function(){};var To={},g2=null;function hg(){return g2=g2||new kt}function m2(t){an.call(this,To.Ta,t)}function Jl(t){const e=hg();zt(e,new m2(e))}function _2(t,e){an.call(this,To.STAT_EVENT,t),this.stat=e}function Rn(t){const e=hg();zt(e,new _2(e,t))}function y2(t,e){an.call(this,To.Ua,t),this.size=e}function Zl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}To.Ta="serverreachability",Nt(m2,an),To.STAT_EVENT="statevent",Nt(_2,an),To.Ua="timingevent",Nt(y2,an);var fg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},v2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function FC(){}function I2(){}FC.prototype.h=null;var BC,ed={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function LC(){an.call(this,"d")}function UC(){an.call(this,"c")}function pg(){}function td(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xl(this),this.P=fae,this.V=new lg(t=yC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new w2}function w2(){this.i=null,this.g="",this.h=!1}Nt(LC,an),Nt(UC,an),Nt(pg,FC),pg.prototype.g=function(){return new XMLHttpRequest},pg.prototype.i=function(){return{}},BC=new pg;var fae=45e3,jC={},gg={};function $C(t,e,n){t.L=1,t.v=vg(Ui(e)),t.s=n,t.S=!0,T2(t,null)}function T2(t,e){t.G=Date.now(),nd(t),t.A=Ui(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),N2(n.i,"t",r),t.C=0,n=t.l.J,t.h=new w2,t.g=rU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new uae(on(t.Pa,t,t.g),t.O)),f2(t.U,t.g,"readystatechange",t.nb),e=t.I?t2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Jl(),function cae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function b2(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function C2(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=pae(t,n),i==gg){4==e&&(t.o=4,Rn(14),r=!1),pu(t.j,t.m,null,"[Incomplete Response]");break}if(i==jC){t.o=4,Rn(15),pu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}pu(t.j,t.m,i,null),HC(t,i)}b2(t)&&i!=gg&&i!=jC&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),YC(e),e.M=!0,Rn(11))):(pu(t.j,t.m,n,"[Invalid Chunked Response]"),bo(t),rd(t))}function pae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?gg:(n=Number(e.substring(n,r)),isNaN(n)?jC:(r+=1)+n>e.length?gg:(e=e.slice(r,r+n),t.C=r+n,e))}function nd(t){t.Y=Date.now()+t.P,D2(t,t.P)}function D2(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Zl(on(t.lb,t),e)}function mg(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}function rd(t){0==t.l.H||t.J||Z2(t.l,t)}function bo(t){mg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,OC(t.V),p2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function HC(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||GC(n.i,t)))if(!t.K&&GC(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Cg(n),Tg(n)}QC(n),Rn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Zl(on(n.ib,n),6e3));if(1>=V2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Do(n,11)}else if((t.K||n.g==t)&&Cg(n),!ql(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(zC(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ge(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=nU(r,r.J?r.pa:null,r.Y),o.K){F2(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(mg(a),nd(a)),r.g=o}else X2(r);0<n.j.length&&bg(n)}else"stop"!=c[0]&&"close"!=c[0]||Do(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Do(n,7):KC(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Jl()}catch{}}function A2(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ig(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function mae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ig(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function gae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ig(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(k=td.prototype).setTimeout=function(t){this.P=t},k.nb=function(t){t=t.target;const e=this.M;e&&3==ti(t)?e.l():this.Pa(t)},k.Pa=function(t){try{if(t==this.g)e:{const l=ti(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||yC||this.g&&(this.h.h||this.g.ja()||z2(this.g)))){this.J||4!=l||7==e||Jl(),mg(this);var n=this.g.da();this.ca=n;t:if(b2(this)){var r=z2(this.g);t="";var i=r.length,s=4==ti(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bo(this),rd(this);var o="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function lae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ql(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Rn(12),bo(this),rd(this);break e}pu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,HC(this,n)}this.S?(C2(this,l,o),yC&&this.i&&3==l&&(f2(this.U,this.V,"tick",this.mb),this.V.start())):(pu(this.j,this.m,o,null),HC(this,o)),4==l&&bo(this),this.i&&!this.J&&(4==l?Z2(this.l,this):(this.i=!1,nd(this)))}else(function kae(t){const e={};t=(t.g&&2<=ti(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(ql(t[r]))continue;var n=sae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Joe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Rn(12)):(this.o=0,Rn(13)),bo(this),rd(this)}}}catch{}},k.mb=function(){if(this.g){var t=ti(this.g),e=this.g.ja();this.C<e.length&&(mg(this),C2(this,t,e),this.i&&4!=t&&nd(this))}},k.cancel=function(){this.J=!0,bo(this)},k.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function dae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Jl(),Rn(17)),bo(this),this.o=2,rd(this)):D2(this,this.Y-t)};var S2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Co(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Co){this.h=t.h,_g(this,t.j),this.s=t.s,this.g=t.g,yg(this,t.m),this.l=t.l;var e=t.i,n=new od;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),R2(this,n),this.o=t.o}else t&&(e=String(t).match(S2))?(this.h=!1,_g(this,e[1]||"",!0),this.s=id(e[2]||""),this.g=id(e[3]||"",!0),yg(this,e[4]),this.l=id(e[5]||"",!0),R2(this,e[6]||"",!0),this.o=id(e[7]||"")):(this.h=!1,this.i=new od(null,this.h))}function Ui(t){return new Co(t)}function _g(t,e,n){t.j=n?id(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function R2(t,e,n){e instanceof od?(t.i=e,function Tae(t,e){e&&!t.j&&(Is(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(P2(this,r),N2(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=sd(e,Iae)),t.i=new od(e,t.h))}function Ge(t,e,n){t.i.set(e,n)}function vg(t){return Ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function id(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Co.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sd(e,x2,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(sd(e,x2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(sd(n,"/"==n.charAt(0)?Eae:vae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sd(n,wae)),t.join("")};var x2=/[#\/\?@]/g,vae=/[#\?:]/g,Eae=/[#\?]/g,Iae=/[#\?@]/g,wae=/#/g;function od(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Is(t){t.g||(t.g=new Map,t.h=0,t.i&&function _ae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function P2(t,e){Is(t),e=gu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function M2(t,e){return Is(t),e=gu(t,e),t.g.has(e)}function N2(t,e,n){P2(t,e),0<n.length&&(t.i=null,t.g.set(gu(t,e),mC(n)),t.h+=n.length)}function gu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function k2(t){this.l=t||Cae,t=ie.PerformanceNavigationTiming?0<(t=ie.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=od.prototype).add=function(t,e){Is(this),this.i=null,t=gu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){Is(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},k.ta=function(){Is(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},k.Z=function(t){Is(this);let e=[];if("string"==typeof t)M2(this,t)&&(e=e.concat(this.g.get(gu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},k.set=function(t,e){return Is(this),this.i=null,M2(this,t=gu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Cae=10;function O2(t){return!!t.h||!!t.g&&t.g.size>=t.j}function V2(t){return t.h?1:t.g?t.g.size:0}function GC(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function zC(t,e){t.g?t.g.add(e):t.h=e}function F2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function L2(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return mC(t.i)}k2.prototype.cancel=function(){if(this.i=L2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Dae=class{stringify(t){return ie.JSON.stringify(t,void 0)}parse(t){return ie.JSON.parse(t,void 0)}};function Aae(){this.g=new Dae}function Sae(t,e,n){const r=n||"";try{A2(t,function(i,s){let o=i;zl(i)&&(o=NC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Eg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ad(t){this.l=t.ec||null,this.j=t.ob||!1}function Ig(t,e){kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nt(ad,FC),ad.prototype.g=function(){return new Ig(this.l,this.j)},ad.prototype.i=function(t){return function(){return t}}({}),Nt(Ig,kt);var qC=0;function U2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ud(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cd(t)}function cd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=Ig.prototype).open=function(t,e){if(this.readyState!=qC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cd(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ud(this)),this.readyState=qC},k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cd(this)),this.g&&(this.readyState=3,cd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;U2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ud(this):cd(this),3==this.readyState&&U2(this)}},k.Za=function(t){this.g&&(this.response=this.responseText=t,ud(this))},k.Ya=function(t){this.g&&(this.response=t,ud(this))},k.ka=function(){this.g&&ud(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ig.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var xae=ie.JSON.parse;function it(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=B2,this.L=this.M=!1}Nt(it,kt);var B2="",Pae=/^https?$/i,Mae=["POST","PUT"];function j2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$2(t),wg(t)}function $2(t){t.F||(t.F=!0,zt(t,"complete"),zt(t,"error"))}function H2(t){if(t.h&&typeof pC<"u"&&(!t.C[1]||4!=ti(t)||2!=t.da()))if(t.v&&4==ti(t))VC(t.La,0,t);else if(zt(t,"readystatechange"),4==ti(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(S2)[1]||null;!i&&ie.self&&ie.self.location&&(i=ie.self.location.protocol.slice(0,-1)),r=!Pae.test(i?i.toLowerCase():"")}n=r}if(n)zt(t,"complete"),zt(t,"success");else{t.m=6;try{var s=2<ti(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",$2(t)}}finally{wg(t)}}}function wg(t,e){if(t.g){G2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function G2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}function ti(t){return t.g?t.g.readyState:0}function z2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case B2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function q2(t){let e="";return bC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function WC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=q2(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ge(t,e,n))}function ld(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function W2(t){this.Ga=0,this.j=[],this.l=new dg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ld("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ld("baseRetryDelayMs",5e3,t),this.hb=ld("retryDelaySeedMs",1e4,t),this.eb=ld("forwardChannelMaxRetries",2,t),this.xa=ld("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new k2(t&&t.concurrentRequestLimit),this.Ja=new Aae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function KC(t){if(K2(t),3==t.H){var e=t.W++,n=Ui(t.I);if(Ge(n,"SID",t.K),Ge(n,"RID",e),Ge(n,"TYPE","terminate"),dd(t,n),(e=new td(t,t.l,e)).L=2,e.v=vg(Ui(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon)try{n=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ie.Image&&((new Image).src=e.v,n=!0),n||(e.g=rU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),nd(e)}tU(t)}function Tg(t){t.g&&(YC(t),t.g.cancel(),t.g=null)}function K2(t){Tg(t),t.u&&(ie.clearTimeout(t.u),t.u=null),Cg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ie.clearTimeout(t.m),t.m=null)}function bg(t){if(!O2(t.i)&&!t.m){t.m=!0;var e=t.Na;Ql||l2(),Yl||(Ql(),Yl=!0),kC.add(e,t),t.C=0}}function Q2(t,e){var n;n=e?e.m:t.W++;const r=Ui(t.I);Ge(r,"SID",t.K),Ge(r,"RID",n),Ge(r,"AID",t.V),dd(t,r),t.o&&t.s&&WC(r,t.o,t.s),n=new td(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Y2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zC(t.i,n),$C(n,r,e)}function dd(t,e){t.na&&bC(t.na,function(n,r){Ge(e,r,n)}),t.h&&A2({},function(n,r){Ge(e,r,n)})}function Y2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?on(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Sae(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function X2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ql||l2(),Yl||(Ql(),Yl=!0),kC.add(e,t),t.A=0}}function QC(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Zl(on(t.Ma,t),eU(t,t.A)),t.A++,0))}function YC(t){null!=t.B&&(ie.clearTimeout(t.B),t.B=null)}function J2(t){t.g=new td(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ui(t.wa);Ge(e,"RID","rpc"),Ge(e,"SID",t.K),Ge(e,"AID",t.V),Ge(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ge(e,"TO",t.qa),Ge(e,"TYPE","xmlhttp"),dd(t,e),t.o&&t.s&&WC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=vg(Ui(e)),n.s=null,n.S=!0,T2(n,t)}function Cg(t){null!=t.v&&(ie.clearTimeout(t.v),t.v=null)}function Z2(t,e){var n=null;if(t.g==e){Cg(t),YC(t),t.g=null;var r=2}else{if(!GC(t.i,e))return;n=e.F,F2(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;zt(r=hg(),new y2(r,n)),bg(t)}else X2(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Oae(t,e){return!(V2(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Zl(on(t.Na,t,e),eU(t,t.C)),t.C++,0)))}(t,e)||2==r&&QC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Do(t,5);break;case 4:Do(t,10);break;case 3:Do(t,6);break;default:Do(t,2)}}function eU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Do(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=on(t.pb,t);n||(n=new Co("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||_g(n,"https"),vg(n)),function Rae(t,e){const n=new dg;if(ie.Image){const r=new Image;r.onload=sg(Eg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sg(Eg,n,r,"TestLoadImage: error",!1,e),r.onabort=sg(Eg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sg(Eg,n,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Rn(2);t.H=0,t.h&&t.h.za(e),tU(t),K2(t)}function tU(t){if(t.H=0,t.ma=[],t.h){const e=L2(t.i);(0!=e.length||0!=t.j.length)&&(YL(t.ma,e),YL(t.ma,t.j),t.i.i.length=0,mC(t.j),t.j.length=0),t.h.ya()}}function nU(t,e,n){var r=n instanceof Co?Ui(n):new Co(n);if(""!=r.g)e&&(r.g=e+"."+r.g),yg(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Co(null);r&&_g(s,r),e&&(s.g=e),i&&yg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ge(r,n,e),Ge(r,"VER",t.ra),dd(t,r),r}function rU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new it(n&&t.Ha&&!t.va?new ad({ob:!0}):t.va)).Oa(t.J),e}function iU(){}function Dg(){if(fu&&!(10<=Number(Koe)))throw Error("Environmental error: no available transport.")}function rr(t,e){kt.call(this),this.g=new W2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ql(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ql(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new mu(this)}function sU(t){LC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function oU(){UC.call(this),this.status=1}function mu(t){this.g=t}function Mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function XC(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(k=it.prototype).Oa=function(t){this.M=t},k.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():BC.g(),this.C=function E2(t){return t.h||(t.h=t.i())}(this.u?this.u:BC),this.g.onreadystatechange=on(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void j2(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ie.FormData&&t instanceof ie.FormData,!(0<=QL(Mae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{G2(this),0<this.B&&((this.L=function Nae(t){return fu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.ua,this)):this.A=VC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){j2(this,s)}},k.ua=function(){typeof pC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zt(this,"complete"),zt(this,"abort"),wg(this))},k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wg(this,!0)),it.$.N.call(this)},k.La=function(){this.s||(this.G||this.v||this.l?H2(this):this.kb())},k.kb=function(){H2(this)},k.isActive=function(){return!!this.g},k.da=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xae(e)}},k.Ia=function(){return this.m},k.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=W2.prototype).ra=8,k.H=1,k.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new td(this,this.l,t);let s=this.s;if(this.U&&(s?(s=t2(s),r2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Y2(this,i,e),Ge(n=Ui(this.I),"RID",t),Ge(n,"CVER",22),this.F&&Ge(n,"X-HTTP-Session-Id",this.F),dd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(q2(s)))+"&"+e:this.o&&WC(n,this.o,s)),zC(this.i,i),this.bb&&Ge(n,"TYPE","init"),this.P?(Ge(n,"$req",e),Ge(n,"SID","null"),i.aa=!0,$C(i,n,null)):$C(i,n,e),this.H=2}}else 3==this.H&&(t?Q2(this,t):0==this.j.length||O2(this.i)||Q2(this))},k.Ma=function(){if(this.u=null,J2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Zl(on(this.jb,this),t)}},k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rn(10),Tg(this),J2(this))},k.ib=function(){null!=this.v&&(this.v=null,Tg(this),QC(this),Rn(19))},k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Rn(2)):(this.l.info("Failed to ping google.com"),Rn(1))},k.isActive=function(){return!!this.h&&this.h.isActive(this)},(k=iU.prototype).Ba=function(){},k.Aa=function(){},k.za=function(){},k.ya=function(){},k.isActive=function(){return!0},k.Va=function(){},Dg.prototype.g=function(t,e){return new rr(t,e)},Nt(rr,kt),rr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nU(t,null,t.Y),bg(t)},rr.prototype.close=function(){KC(this.g)},rr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=NC(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&bg(e)},rr.prototype.N=function(){this.g.h=null,delete this.j,KC(this.g),delete this.g,rr.$.N.call(this)},Nt(sU,LC),Nt(oU,UC),Nt(mu,iU),mu.prototype.Ba=function(){zt(this.g,"a")},mu.prototype.Aa=function(t){zt(this.g,new sU(t))},mu.prototype.za=function(t){zt(this.g,new oU)},mu.prototype.ya=function(){zt(this.g,"b")},Nt(Mr,function Vae(){this.blockSize=-1}),Mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Mr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)XC(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){XC(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){XC(this,r),i=0;break}}this.h=i,this.i+=e},Mr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Fae={};function JC(t){return-128<=t&&128>t?function zoe(t,e){var n=Fae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new xe([0|e],0>e?-1:0)}):new xe([0|t],0>t?-1:0)}function ni(t){if(isNaN(t)||!isFinite(t))return _u;if(0>t)return qt(ni(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ZC;return new xe(e,0)}var ZC=4294967296,_u=JC(0),eD=JC(1),uU=JC(16777216);function Bi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function _r(t){return-1==t.h}function qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(eD)}function Ag(t,e){return t.add(qt(e))}function Sg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function hd(t,e){this.g=t,this.h=e}function Rg(t,e){if(Bi(e))throw Error("division by zero");if(Bi(t))return new hd(_u,_u);if(_r(t))return e=Rg(qt(t),e),new hd(qt(e.g),qt(e.h));if(_r(e))return e=Rg(t,qt(e)),new hd(qt(e.g),e.h);if(30<t.g.length){if(_r(t)||_r(e))throw Error("slowDivide_ only works with positive integers.");for(var n=eD,r=e;0>=r.X(t);)n=cU(n),r=cU(r);var i=yu(n,1),s=yu(r,1);for(r=yu(r,2),n=yu(n,2);!Bi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=yu(r,1),n=yu(n,1)}return e=Ag(t,i.R(e)),new hd(i,e)}for(i=_u;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ni(n)).R(e);_r(o)||0<o.X(t);)o=(s=ni(n-=r)).R(e);Bi(s)&&(s=eD),i=i.add(s),t=Ag(t,o)}return new hd(i,t)}function cU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function yu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new xe(i,t.h)}(k=xe.prototype).ea=function(){if(_r(this))return-qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ZC+r)*e,e*=ZC}return t},k.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Bi(this))return"0";if(_r(this))return"-"+qt(this).toString(t);for(var e=ni(Math.pow(t,6)),n=this,r="";;){var i=Rg(n,e).g,s=((0<(n=Ag(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Bi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},k.X=function(t){return _r(t=Ag(this,t))?-1:Bi(t)?0:1},k.abs=function(){return _r(this)?qt(this):this},k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new xe(n,-2147483648&n[n.length-1]?-1:0)},k.R=function(t){if(Bi(this)||Bi(t))return _u;if(_r(this))return _r(t)?qt(this).R(qt(t)):qt(qt(this).R(t));if(_r(t))return qt(this.R(qt(t)));if(0>this.X(uU)&&0>t.X(uU))return ni(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Sg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Sg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Sg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Sg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)},k.gb=function(t){return Rg(this,t).h},k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)},k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)},k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)},Dg.prototype.createWebChannel=Dg.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,fg.NO_ERROR=0,fg.TIMEOUT=8,fg.HTTP_ERROR=6,v2.COMPLETE="complete",I2.EventType=ed,ed.OPEN="a",ed.CLOSE="b",ed.ERROR="c",ed.MESSAGE="d",kt.prototype.listen=kt.prototype.O,it.prototype.listenOnce=it.prototype.P,it.prototype.getLastError=it.prototype.Sa,it.prototype.getLastErrorCode=it.prototype.Ia,it.prototype.getStatus=it.prototype.da,it.prototype.getResponseJson=it.prototype.Wa,it.prototype.getResponseText=it.prototype.ja,it.prototype.send=it.prototype.ha,it.prototype.setWithCredentials=it.prototype.Oa,Mr.prototype.digest=Mr.prototype.l,Mr.prototype.reset=Mr.prototype.reset,Mr.prototype.update=Mr.prototype.j,xe.prototype.add=xe.prototype.add,xe.prototype.multiply=xe.prototype.R,xe.prototype.modulo=xe.prototype.gb,xe.prototype.compare=xe.prototype.X,xe.prototype.toNumber=xe.prototype.ea,xe.prototype.toString=xe.prototype.toString,xe.prototype.getBits=xe.prototype.D,xe.fromNumber=ni,xe.fromString=function aU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return qt(aU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ni(Math.pow(e,8)),r=_u,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ni(Math.pow(e,s)),r=r.R(s).add(ni(o))):r=(r=r.R(n)).add(ni(o))}return r};var Lae=Pr.createWebChannelTransport=function(){return new Dg},Uae=Pr.getStatEventTarget=function(){return hg()},tD=Pr.ErrorCode=fg,Bae=Pr.EventType=v2,jae=Pr.Event=To,lU=Pr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xg=(Pr.FetchXmlHttpFactory=ad,Pr.WebChannel=I2),$ae=Pr.XhrIo=it,Hae=Pr.Md5=Mr,vu=Pr.Integer=xe;const dU="@firebase/firestore";class Ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");let Eu="10.4.0";const ws=new Mp("@firebase/firestore");function Iu(){return ws.logLevel}function A(t,...e){if(ws.logLevel<=_e.DEBUG){const n=e.map(nD);ws.debug(`Firestore (${Eu}): ${t}`,...n)}}function ft(t,...e){if(ws.logLevel<=_e.ERROR){const n=e.map(nD);ws.error(`Firestore (${Eu}): ${t}`,...n)}}function ir(t,...e){if(ws.logLevel<=_e.WARN){const n=e.map(nD);ws.warn(`Firestore (${Eu}): ${t}`,...n)}}function nD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function B(t="Unexpected state"){const e=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: `+t;throw ft(e),new Error(e)}function z(t,e){t||B()}function M(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class hU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class zae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qae{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Rt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(z("string"==typeof r.accessToken),new hU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return z(null===e||"string"==typeof e),new Ot(e)}}class Wae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(z("string"==typeof n.token),this.R=n.token,new fU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class pU{static V(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Yae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function wu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Ze(0,0))}static max(){return new q(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fd{constructor(e,n,r){void 0===n?n=0:n>e.length&&B(),void 0===r?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===fd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends fd{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const Xae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends fd{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return Xae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(Ee.fromString(e))}static fromName(e){return new N(Ee.fromString(e).popFirst(5))}static empty(){return new N(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new Ee(e.slice()))}}function _U(t){return new sr(t.readTime,t.key,-1)}class sr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new sr(q.min(),N.empty(),-1)}static max(){return new sr(q.max(),N.empty(),-1)}}function iD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=N.comparator(t.documentKey,e.documentKey),0!==n?n:te(t.largestBatchId,e.largestBatchId))}const yU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ts(t){return sD.apply(this,arguments)}function sD(){return sD=m(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==yU)throw t;A("LocalStore","Unexpectedly lost primary lease")}),sD.apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof E?n:E.resolve(n)}catch(n){return E.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):E.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):E.reject(n)}static resolve(e){return new E((n,r)=>{n(e)})}static reject(e){return new E((n,r)=>{r(e)})}static waitFor(e){return new E((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=E.resolve(!1);for(const r of e)n=n.next(i=>i?E.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new E((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new E((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function bs(t){return"IndexedDbTransactionError"===t.name}let or=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this._e&&this._e(n),n}}return t.ae=-1,t})();function gd(t){return null==t}function md(t){return 0===t&&1/t==-1/0}function AU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Be{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ng(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ng(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ng(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ng(this.root,e,this.comparator,!0)}}class Ng{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=s??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1,Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RU(this.data.getIterator())}getIteratorFrom(e){return new RU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class RU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new jn([])}unionWith(e){let n=new je(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class xU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xU("Invalid base64 string: "+s):s}}(e);return new xt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const Tue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(t){if(z(!!t),"string"==typeof t){let e=0;const n=Tue.exec(t);if(z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ji(t){return"string"==typeof t?xt.fromBase64String(t):xt.fromUint8Array(t)}function kg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Og(t){const e=t.mapValue.fields.__previous_value__;return kg(e)?Og(e):e}function _d(t){const e=Ds(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}class bue{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class xo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xo&&e.projectId===this.projectId&&e.database===this.database}}const As={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kg(t)?4:kU(t)?9007199254740991:10:B()}function ii(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _d(t).isEqual(_d(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ds(i.timestampValue),a=Ds(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,ji(t.bytesValue).isEqual(ji(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ot(i.doubleValue),a=ot(s.doubleValue);return o===a?md(o)===md(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return wu(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(AU(o)!==AU(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!ii(o[u],a[u])))return!1;return!0}(t,e);default:return B()}var s}function yd(t,e){return void 0!==(t.values||[]).find(n=>ii(n,e))}function Rs(t,e){if(t===e)return 0;const n=Ss(t),r=Ss(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ot(s.integerValue||s.doubleValue),u=ot(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return PU(t.timestampValue,e.timestampValue);case 4:return PU(_d(t),_d(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ji(s),u=ji(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=te(a[c],u[c]);if(0!==l)return l}return te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=te(ot(s.latitude),ot(o.latitude));return 0!==a?a:te(ot(s.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=Rs(a[c],u[c]);if(l)return l}return te(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===As.mapValue&&o===As.mapValue)return 0;if(s===As.mapValue)return 1;if(o===As.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=te(u[d],l[d]);if(0!==h)return h;const f=Rs(a[u[d]],c[l[d]]);if(0!==f)return f}return te(u.length,l.length)}(t.mapValue,e.mapValue);default:throw B()}}function PU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return te(t,e);const n=Ds(t),r=Ds(e),i=te(n.seconds,r.seconds);return 0!==i?i:te(n.nanos,r.nanos)}function Du(t){return uD(t)}function uD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ds(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ji(t.bytesValue).toBase64():"referenceValue"in t?N.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=uD(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${uD(n.fields[o])}`;return i+"}"}(t.mapValue):B()}function cD(t){return!!t&&"integerValue"in t}function vd(t){return!!t&&"arrayValue"in t}function MU(t){return!!t&&"nullValue"in t}function NU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lg(t){return!!t&&"mapValue"in t}function Ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ed(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ed(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ed(n)}setAll(e){let n=st.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ed(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(Ed(this.value))}}function FU(t){const e=[];return Cs(t.fields,(n,r)=>{const i=new st([n]);if(Lg(r)){const s=FU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jn(e)}class ze{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ze(e,0,q.min(),q.min(),q.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new ze(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new ze(e,2,n,q.min(),q.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new ze(e,3,n,q.min(),q.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xs{constructor(e,n){this.position=e,this.inclusive=n}}function LU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?N.comparator(N.fromName(o.referenceValue),n.key):Rs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function UU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}class Au{constructor(e,n="asc"){this.field=e,this.dir=n}}function Aue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class BU{}class ge extends BU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Sue(e,n,r):"array-contains"===n?new Pue(e,r):"in"===n?new qU(e,r):"not-in"===n?new Mue(e,r):"array-contains-any"===n?new Nue(e,r):new ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Rue(e,r):new xue(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Rs(n,this.value)):null!==n&&Ss(this.value)===Ss(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pe extends BU{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Pe(e,n)}matches(e){return Su(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return null!==e?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Su(t){return"and"===t.op}function dD(t){return function jU(t){for(const e of t.filters)if(e instanceof Pe)return!1;return!0}(t)&&Su(t)}function hD(t){if(t instanceof ge)return t.field.canonicalString()+t.op.toString()+Du(t.value);if(dD(t))return t.filters.map(e=>hD(e)).join(",");{const e=t.filters.map(n=>hD(n)).join(",");return`${t.op}(${e})`}}function $U(t,e){return t instanceof ge?(r=t,(i=e)instanceof ge&&r.op===i.op&&r.field.isEqual(i.field)&&ii(r.value,i.value)):t instanceof Pe?function(r,i){return i instanceof Pe&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&$U(o,i.filters[a]),!0)}(t,e):void B();var r,i}function GU(t){return t instanceof ge?`${(n=t).field.canonicalString()} ${n.op} ${Du(n.value)}`:t instanceof Pe?function(n){return n.op.toString()+" {"+n.getFilters().map(GU).join(" ,")+"}"}(t):"Filter";var n}class Sue extends ge{constructor(e,n,r){super(e,n,r),this.key=N.fromName(r.referenceValue)}matches(e){const n=N.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rue extends ge{constructor(e,n){super(e,"in",n),this.keys=zU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xue extends ge{constructor(e,n){super(e,"not-in",n),this.keys=zU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>N.fromName(r.referenceValue))}class Pue extends ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vd(n)&&yd(n.arrayValue,this.value)}}class qU extends ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&yd(this.value.arrayValue,n)}}class Mue extends ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!yd(this.value.arrayValue,n)}}class Nue extends ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yd(this.value.arrayValue,r))}}class kue{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function fD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new kue(t,e,n,r,i,s,o)}function Mo(t){const e=M(t);if(null===e.he){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Du(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Du(r)).join(",")),e.he=n}return e.he}function Id(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Aue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$U(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UU(t.startAt,e.startAt)&&UU(t.endAt,e.endAt)}function Ug(t){return N.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class $i{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null}}function Ru(t){return new $i(t)}function YU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function xu(t){const e=M(t);if(null===e.Pe){e.Pe=[];const n=function jg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function pD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.Pe.push(new Au(n)),e.Pe.push(new Au(st.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Au(st.keyField(),s))}}}return e.Pe}function xn(t){const e=M(t);return e.Ie||(e.Ie=function XU(t,e){if("F"===t.limitType)return fD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Au(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new xs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xs(t.startAt.position,t.startAt.inclusive):null;return fD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,xu(t))),e.Ie}function $g(t,e,n){return new $i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wd(t,e){return Id(xn(t),xn(e))&&t.limitType===e.limitType}function JU(t){return`${Mo(xn(t))}|lt:${t.limitType}`}function Pu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GU(i)).join(", ")}]`),gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Du(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Du(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function Td(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):N.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of xu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,u){const c=LU(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,xu(r),i)||r.endAt&&!function(o,a,u){const c=LU(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,xu(r),i)));var r,i}function eB(t){return(e,n)=>{let r=!1;for(const i of xu(t)){const s=Oue(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Oue(t,e,n){const r=t.field.isKeyField()?N.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?Rs(u,c):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}class Hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return SU(this.inner)}size(){return this.innerSize}}const Vue=new Be(N.comparator);function $n(){return Vue}const tB=new Be(N.comparator);function bd(...t){let e=tB;for(const n of t)e=e.insert(n.key,n);return e}function nB(t){let e=tB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function si(){return Cd()}function rB(){return Cd()}function Cd(){return new Hi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fue=new Be(N.comparator),Lue=new je(N.comparator);function ue(...t){let e=Lue;for(const n of t)e=e.add(n);return e}const Uue=new je(te);function iB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:md(e)?"-0":e}}function sB(t){return{integerValue:""+t}}function oB(t,e){return function EU(t){return"number"==typeof t&&Number.isInteger(t)&&!md(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?sB(e):iB(t,e)}class Hg{constructor(){this._=void 0}}function Bue(t,e,n){return t instanceof Mu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kg(s)&&(s=Og(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof No?uB(t,e):t instanceof ko?cB(t,e):function(i,s){const o=aB(i,s),a=lB(o)+lB(i.Te);return cD(o)&&cD(i.Te)?sB(a):iB(i.serializer,a)}(t,e)}function jue(t,e,n){return t instanceof No?uB(t,e):t instanceof ko?cB(t,e):n}function aB(t,e){return t instanceof Nu?cD(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Mu extends Hg{}class No extends Hg{constructor(e){super(),this.elements=e}}function uB(t,e){const n=dB(e);for(const r of t.elements)n.some(i=>ii(i,r))||n.push(r);return{arrayValue:{values:n}}}class ko extends Hg{constructor(e){super(),this.elements=e}}function cB(t,e){let n=dB(e);for(const r of t.elements)n=n.filter(i=>!ii(i,r));return{arrayValue:{values:n}}}class Nu extends Hg{constructor(e,n){super(),this.serializer=e,this.Te=n}}function lB(t){return ot(t.integerValue||t.doubleValue)}function dB(t){return vd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Hue{constructor(e,n){this.version=e,this.transformResults=n}}class Ye{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ye}static exists(e){return new Ye(void 0,e)}static updateTime(e){return new Ye(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class zg{}function hB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Ou(t.key,Ye.none()):new ku(t.key,t.data,Ye.none());{const n=t.data,r=Kt.empty();let i=new je(st.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Gi(t.key,r,new jn(i.toArray()),Ye.none())}}function Gue(t,e,n){t instanceof ku?function(i,s,o){const a=i.value.clone(),u=gB(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gi?function(i,s,o){if(!Gg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=gB(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(pB(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ad(t,e,n,r){return t instanceof ku?function(s,o,a,u){if(!Gg(s.precondition,o))return a;const c=s.value.clone(),l=mB(s.fieldTransforms,u,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gi?function(s,o,a,u){if(!Gg(s.precondition,o))return a;const c=mB(s.fieldTransforms,u,o),l=o.data;return l.setAll(pB(s)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,Gg(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function zue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aB(r.transform,i||null);null!=s&&(null===n&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function fB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&wu(r,i,(s,o)=>function $ue(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof No&&i instanceof No||r instanceof ko&&i instanceof ko?wu(r.elements,i.elements,ii):r instanceof Nu&&i instanceof Nu?ii(r.Te,i.Te):r instanceof Mu&&i instanceof Mu);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class ku extends zg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gi extends zg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function gB(t,e,n){const r=new Map;z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jue(o,a,n[i]))}return r}function mB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Bue(s,o,e))}return r}class Ou extends zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yD extends zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Gue(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ad(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ad(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=hB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,(n,r)=>fB(n,r))&&wu(this.baseMutations,e.baseMutations,(n,r)=>fB(n,r))}}class ED{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){z(e.mutations.length===r.length);let i=Fue;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ED(e,n,r,i)}}class ID{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wue{constructor(e,n){this.count=e,this.unchangedNames=n}}var Et,Ie;function _B(t){switch(t){default:return B();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function yB(t){if(void 0===t)return ft("GRPC error has no .code"),I.UNKNOWN;switch(t){case Et.OK:return I.OK;case Et.CANCELLED:return I.CANCELLED;case Et.UNKNOWN:return I.UNKNOWN;case Et.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Et.INTERNAL:return I.INTERNAL;case Et.UNAVAILABLE:return I.UNAVAILABLE;case Et.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Et.NOT_FOUND:return I.NOT_FOUND;case Et.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Et.ABORTED:return I.ABORTED;case Et.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Et.DATA_LOSS:return I.DATA_LOSS;default:return B()}}(Ie=Et||(Et={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";const Kue=new vu([4294967295,4294967295],0);function EB(t){const e=function vB(){return new TextEncoder}().encode(t),n=new Hae;return n.update(e),new Uint8Array(n.digest())}function IB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vu([n,r],0),new vu([i,s],0)]}class wD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sd(`Invalid padding: ${n}`);if(r<0)throw new Sd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Sd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Sd(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=vu.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(vu.fromNumber(r)));return 1===i.compare(Kue)&&(i=new vu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const n=EB(e),[r,i]=IB(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new wD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ae)return;const n=EB(e),[r,i]=IB(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rd(q.min(),i,new Be(te),$n(),ue())}}class xd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xd(r,n,ue(),ue(),ue())}}class Wg{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class wB{constructor(e,n){this.targetId=e,this.ye=n}}class TB{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bB{constructor(){this.we=0,this.Se=DB(),this.be=xt.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=ue(),n=ue(),r=ue();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B()}}),new xd(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=DB()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class Que{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=$n(),this.Ue=CB(),this.We=new Be(te)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(Ug(s))if(0===r){const o=new N(s.path);this.je(n,o,ze.newNoDocument(o,q.min()))}else z(1===r);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),u=a?this.rt(a,e,o):1;0!==u&&(this.Ze(n),this.We=this.We.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ji(r).toUint8Array()}catch(u){if(u instanceof xU)return ir("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new wD(o,i,s)}catch(u){return ir(u instanceof Sd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ae?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&Ug(a.target)){const u=new N(a.target.path);null!==this.$e.get(u)||this.ut(o,u)||this.je(o,u,ze.newNoDocument(u,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=ue();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.et(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Rd(e,n,this.We,this.$e,r);return this.$e=$n(),this.Ue=CB(),this.We=new Be(te),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new bB,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new je(te),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=null!==this.et(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new bB),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function CB(){return new Be(N.comparator)}function DB(){return new Be(N.comparator)}const Yue={asc:"ASCENDING",desc:"DESCENDING"},Xue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jue={and:"AND",or:"OR"};class Zue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function TD(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function Vu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ece(t,e){return Vu(t,e.toTimestamp())}function pt(t){return z(!!t),q.fromTimestamp(function(n){const r=Ds(n);return new Ze(r.seconds,r.nanos)}(t))}function bD(t,e){return(r=t,new Ee(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function SB(t){const e=Ee.fromString(t);return z(FB(e)),e}function Pd(t,e){return bD(t.databaseId,e.path)}function oi(t,e){const n=SB(e);if(n.get(1)!==t.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N(xB(n))}function CD(t,e){return bD(t.databaseId,e)}function Md(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xB(t){return z(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function PB(t,e,n){return{name:Pd(t,e),fields:n.value.mapValue.fields}}function Nd(t,e){let n;if(e instanceof ku)n={update:PB(t,e.key,e.value)};else if(e instanceof Ou)n={delete:Pd(t,e.key)};else if(e instanceof Gi)n={update:PB(t,e.key,e.data),updateMask:uce(e.fieldMask)};else{if(!(e instanceof yD))return B();n={verify:Pd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Mu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof No)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ko)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nu)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:ece(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:B()),n;var s}function NB(t,e){return{documents:[CD(t,e.path)]}}function AD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=CD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=CD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return VB(Pe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ps((d=c).field),direction:sce(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=TD(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function kB(t){let e=function RB(t){const e=SB(t);return 4===e.length?Ee.emptyPath():xB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){z(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){const h=OB(d);return h instanceof Pe&&dD(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>{return new Au(Fu((p=h).field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,gd(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new xs((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new xs(d.values||[],!d.before)}(n.endAt)),function QU(t,e,n,r,i,s,o,a){return new $i(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function OB(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fu(n.unaryFilter.field);return ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fu(n.unaryFilter.field);return ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fu(n.unaryFilter.field);return ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fu(n.unaryFilter.field);return ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(t):void 0!==t.fieldFilter?ge.create(Fu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Pe.create(n.compositeFilter.filters.map(r=>OB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return B()}}(n.compositeFilter.op))}(t):B();var n}function sce(t){return Yue[t]}function oce(t){return Xue[t]}function ace(t){return Jue[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function Fu(t){return st.fromServerFormat(t.fieldPath)}function VB(t){return t instanceof ge?function(n){if("=="===n.op){if(NU(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(MU(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(NU(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(MU(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:oce(n.op),value:n.value}}}(t):t instanceof Pe?function(n){const r=n.getFilters().map(i=>VB(i));return 1===r.length?r[0]:{compositeFilter:{op:ace(n.op),filters:r}}}(t):B()}function uce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class zi{constructor(e,n,r,i,s=q.min(),o=q.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class LB{constructor(e){this.ht=e}}function SD(t){const e=kB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$g(e,e.limit,"L"):e}class Lo{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(ot(e.integerValue));else if("doubleValue"in e){const r=ot(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),md(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),"string"==typeof r?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(ji(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?kU(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):B()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),N.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}Lo.Ct=new Lo;class mce{constructor(){this.an=new kD}addToCollectionParentIndex(e,n){return this.an.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(sr.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}}class kD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(Ee.comparator)).toArray()}}new Uint8Array(0);class cn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Bo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Bo(0)}static Ln(){return new Bo(-1)}}class wce{constructor(){this.changes=new Hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cce{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Ad(r.mutation,i,jn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$n();const o=Cd(),a=Cd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Gi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Ad(l.mutation,c,l.mutation.getFieldMask(),Ze.now())):o.set(c.key,jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Cce(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cd();let i=new Be((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||jn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=rB();l.forEach(h=>{if(!s.has(h)){const f=hB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return N.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function gD(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):E.resolve(si());let a=-1,u=s;return o.next(c=>E.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ue())).next(l=>({batchId:a,changes:nB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(r=>{let i=bd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bd();return this.indexManager.getCollectionParents(e,s).next(a=>E.forEach(a,u=>{const c=(d=n,h=u.child(s),new $i(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,ze.newInvalidDocument(l)))});let a=bd();return o.forEach((u,c)=>{const l=s.get(u);void 0!==l&&Ad(l.mutation,c,jn.empty(),Ze.now()),Td(n,c)&&(a=a.insert(u,c))}),a})}}class Dce{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return E.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,{id:(i=n).id,version:i.version,createTime:pt(i.createTime)}),E.resolve();var i}getNamedQuery(e,n){return E.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,{name:(i=n).name,query:SD(i.bundledQuery),readTime:pt(i.readTime)}),E.resolve();var i}}class Ace{constructor(){this.overlays=new Be(N.comparator),this.Pr=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){const r=si();return E.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),E.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){const i=si(),s=n.length+1,o=new N(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return E.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=si(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=si(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return E.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ID(n,r));let s=this.Pr.get(n);void 0===s&&(s=ue(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}class OD{constructor(){this.Ir=new je(Ft.dr),this.Tr=new je(Ft.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Ft(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new N(new Ee([])),r=new Ft(n,e),i=new Ft(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new N(new Ee([])),r=new Ft(n,e),i=new Ft(n,e+1);let s=ue();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ft(e,0),r=this.Ir.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return N.comparator(e.key,n.key)||te(e.yr,n.yr)}static Er(e,n){return te(e.yr,n.yr)||N.comparator(e.key,n.key)}}class Sce{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new je(Ft.dr)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++;const o=new vD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new Ft(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Dr(n+1),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(te);return n.forEach(i=>{const s=new Ft(i,0),o=new Ft(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),E.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new Ft(new N(s),0);let a=new je(te);return this.Sr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.yr)),!0)},o),E.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){z(0===this.vr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return E.forEach(n.mutations,i=>{const s=new Ft(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Ft(n,0),i=this.Sr.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Rce{constructor(e){this.Fr=e,this.docs=new Be(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():ze.newInvalidDocument(n))}getEntries(e,n){let r=$n();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ze.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$n();const o=n.path,a=new N(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||iD(_U(l),r)<=0||(i.has(l.key)||Td(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,n,r,i){B()}Mr(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xce(this)}getSize(e){return E.resolve(this.size)}}class xce extends wce{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}class Pce{constructor(e){this.persistence=e,this.Or=new Hi(n=>Mo(n),Id),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Nr=0,this.Br=new OD,this.targetCount=0,this.Lr=Bo.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),E.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.Qn(n),E.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),E.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Br.containsKey(n))}}class VD{constructor(e,n){this.kr={},this.overlays={},this.qr=new or(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Pce(this),this.indexManager=new mce,this.remoteDocumentCache=new Rce(r=>this.referenceDelegate.$r(r)),this.serializer=new LB(n),this.Ur=new Dce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ace,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Sce(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new Mce(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return E.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class Mce extends eue{constructor(e){super(),this.currentSequenceNumber=e}}class tm{constructor(e){this.persistence=e,this.jr=new OD,this.Hr=null}static Jr(e){return new tm(e)}get Yr(){if(this.Hr)return this.Hr;throw B()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),E.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Yr,r=>{const i=N.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return E.or([()=>E.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}class BD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new BD(e,n.fromCache,r,i)}}class kce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fj{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new kce;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(Iu()<=_e.DEBUG&&A("QueryEngine","SDK will not create cache indexes for query:",Pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),E.resolve()):(Iu()<=_e.DEBUG&&A("QueryEngine","Query:",Pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Iu()<=_e.DEBUG&&A("QueryEngine","The SDK decides to create cache indexes for query:",Pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):E.resolve())}Hi(e,n){if(YU(n))return E.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=$g(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Xi(n,a);return this.es(n,c,o,u.readTime)?this.Hi(e,$g(n,null,"F")):this.ts(e,c,n,u)}))})))}Ji(e,n,r,i){return YU(n)||i.isEqual(q.min())?E.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?E.resolve(null):(Iu()<=_e.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pu(n)),this.ts(e,o,n,function mU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new Ze(n+1,0):new Ze(n,r));return new sr(i,N.empty(),e)}(i,-1)).next(a=>a))})}Xi(e,n){let r=new je(eB(e));return n.forEach((i,s)=>{Td(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return Iu()<=_e.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",Pu(n)),this.ji.getDocumentsMatchingQuery(e,n,sr.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Oce{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Be(te),this.ss=new Hi(s=>Mo(s),Id),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dj(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function gj(t,e){return jD.apply(this,arguments)}function jD(){return jD=m(function*(t,e){const n=M(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ue();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({cs:c,removedBatchIds:o,addedBatchIds:a}))})})}),jD.apply(this,arguments)}function mj(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function Lce(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hu(t,e,n){return $D.apply(this,arguments)}function $D(){return $D=m(function*(t,e,n){const r=M(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!bs(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}),$D.apply(this,arguments)}function im(t,e,n){const r=M(t);let i=q.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,l){const d=M(u),h=d.ss.get(l);return void 0!==h?E.resolve(d.rs.get(h)):d.Kr.getTargetData(c,l)}(r,o,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:ue())).next(a=>(function Ej(t,e,n){let r=t.os.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}(r,function ZU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Ps:s})))}class WD{constructor(){this.activeTargetIds=function _D(){return Uue}()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tj{constructor(){this.ro=new WD,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new WD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jce{so(e){}shutdown(){}}class bj{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let am=null;function QD(){return null===am?am=268435456+Math.round(2147483648*Math.random()):am++,"0x"+am.toString(16)}const $ce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hce{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const ln="WebChannelConnection";class Gce extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=QD(),u=this.Do(n,r);A("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(c,s,o),this.vo(n,u,c,i).then(l=>(A("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ir("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Eu,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){return`${this.po}/v1/${r}:${$ce[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=QD();return new Promise((o,a)=>{const u=new $ae;u.setWithCredentials(!0),u.listenOnce(Bae.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tD.NO_ERROR:const l=u.getResponseJson();A(ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case tD.TIMEOUT:A(ln,`RPC '${e}' ${s} timed out`),a(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case tD.HTTP_ERROR:const d=u.getStatus();if(A(ln,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(v)>=0?v:I.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(I.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{A(ln,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);A(ln,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Mo(e,n,r){const i=QD(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Lae(),a=Uae(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Co(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");A(ln,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Hce({ho:_=>{f?A(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(A(ln,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(ln,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},Po:()=>d.close()}),g=(_,v,y)=>{_.listen(v,w=>{try{y(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(d,xg.EventType.OPEN,()=>{f||A(ln,`RPC '${e}' stream ${i} transport opened.`)}),g(d,xg.EventType.CLOSE,()=>{f||(f=!0,A(ln,`RPC '${e}' stream ${i} transport closed`),p.mo())}),g(d,xg.EventType.ERROR,_=>{f||(f=!0,ir(ln,`RPC '${e}' stream ${i} transport errored:`,_),p.mo(new C(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,xg.EventType.MESSAGE,_=>{var v;if(!f){const y=_.data[0];z(!!y);const S=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(S){A(ln,`RPC '${e}' stream ${i} received error:`,S);const P=S.status;let H=function(Ki){const ac=Et[Ki];if(void 0!==ac)return yB(ac)}(P),de=S.message;void 0===H&&(H=I.INTERNAL,de="Unknown error status: "+P+" with message "+S.message),f=!0,p.mo(new C(H,de)),d.close()}else A(ln,`RPC '${e}' stream ${i} received:`,y),p.fo(y)}}),g(a,jae.STAT_EVENT,_=>{_.stat===lU.PROXY?A(ln,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===lU.NOPROXY&&A(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Vo()},0),p}}function um(){return typeof document<"u"?document:null}function jd(t){return new Zue(t,!0)}class YD{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class Dj{constructor(e,n,r,i,s,o,a,u){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new YD(e,n)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return m(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return m(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,n){var r=this;return m(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(ft(n.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(n)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new C(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){var e=this;this.state=5,this.Ho.Qo(m(function*(){e.state=0,e.start()}))}a_(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zce extends Dj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=function nce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:B(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(z(void 0===l||"string"==typeof l),xt.fromBase64String(l||"")):(z(void 0===l||l instanceof Uint8Array),xt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?I.UNKNOWN:yB(c.code);return new C(l,c.message||"")}(o);n=new TB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=oi(t,r.document.name),s=pt(r.document.updateTime),o=r.document.createTime?pt(r.document.createTime):q.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=ze.newFoundDocument(i,s,o,a);n=new Wg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=oi(t,r.document),s=r.readTime?pt(r.readTime):q.min(),o=ze.newNoDocument(i,s);n=new Wg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=oi(t,r.document);n=new Wg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return B();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Wue(i,s);n=new wB(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?pt(o.readTime):q.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=Md(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Ug(u)?{documents:NB(s,u)}:{query:AD(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AB(s,o.resumeToken);const c=TD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(q.min())>0){a.readTime=Vu(s,o.snapshotVersion.toTimestamp());const c=TD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function ice(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=Md(this.serializer),n.removeTarget=e,this.n_(n)}}class qce extends Dj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=function rce(t,e){return t&&t.length>0?(z(void 0!==e),t.map(n=>function(i,s){let o=pt(i.updateTime?i.updateTime:s);return o.isEqual(q.min())&&(o=pt(s)),new Hue(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=pt(e.commitTime);return this.listener.T_(r,n)}return z(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=Md(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Nd(this.serializer,r))};this.n_(n)}}class Wce extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(I.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(I.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class Qce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(ft(n),this.p_=!1):A("OnlineStateTracker",n)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class Yce{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(a=>{r.enqueueAndForget(m(function*(){var u;Os(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(l){const d=M(l);d.F_.add(4),yield Gu(d),d.O_.set("Unknown"),d.F_.delete(4),yield $d(d)}),function c(l){return u.apply(this,arguments)})(o))}))}),this.O_=new Qce(r,i)}}function $d(t){return JD.apply(this,arguments)}function JD(){return JD=m(function*(t){if(Os(t))for(const e of t.M_)yield e(!0)}),JD.apply(this,arguments)}function Gu(t){return ZD.apply(this,arguments)}function ZD(){return ZD=m(function*(t){for(const e of t.M_)yield e(!1)}),ZD.apply(this,arguments)}function cm(t,e){const n=M(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),nA(n)?tA(n):qu(n).Yo()&&eA(n,e))}function Hd(t,e){const n=M(t),r=qu(n);n.v_.delete(e),r.Yo()&&Aj(n,e),0===n.v_.size&&(r.Yo()?r.e_():Os(n)&&n.O_.set("Unknown"))}function eA(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qu(t).l_(e)}function Aj(t,e){t.N_.Le(e),qu(t).h_(e)}function tA(t){t.N_=new Que({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),qu(t).start(),t.O_.y_()}function nA(t){return Os(t)&&!qu(t).Jo()&&t.v_.size>0}function Os(t){return 0===M(t).F_.size}function Sj(t){t.N_=void 0}function Xce(t){return rA.apply(this,arguments)}function rA(){return rA=m(function*(t){t.v_.forEach((e,n)=>{eA(t,e)})}),rA.apply(this,arguments)}function Jce(t,e){return iA.apply(this,arguments)}function iA(){return iA=m(function*(t,e){Sj(t),nA(t)?(t.O_.b_(e),tA(t)):t.O_.set("Unknown")}),iA.apply(this,arguments)}function Zce(t,e,n){return sA.apply(this,arguments)}function sA(){return sA=m(function*(t,e,n){if(t.O_.set("Online"),e instanceof TB&&2===e.state&&e.cause)try{yield(r=m(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.v_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.v_.delete(u),s.N_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lm(t,r)}else if(e instanceof Wg?t.N_.Ge(e):e instanceof wB?t.N_.Xe(e):t.N_.He(e),!n.isEqual(q.min()))try{const r=yield mj(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=s.v_.get(c);l&&s.v_.set(c,l.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const l=s.v_.get(u);if(!l)return;s.v_.set(u,l.withResumeToken(xt.EMPTY_BYTE_STRING,l.snapshotVersion)),Aj(s,u);const d=new zi(l.target,u,c,l.sequenceNumber);eA(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield lm(t,r)}var r}),sA.apply(this,arguments)}function lm(t,e,n){return oA.apply(this,arguments)}function oA(){return oA=m(function*(t,e,n){if(!bs(e))throw e;t.F_.add(1),yield Gu(t),t.O_.set("Offline"),n||(n=()=>mj(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.F_.delete(1),yield $d(t)}))}),oA.apply(this,arguments)}function Rj(t,e){return e().catch(n=>lm(t,n,e))}function zu(t){return aA.apply(this,arguments)}function aA(){return aA=m(function*(t){const e=M(t),n=Vs(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;ele(e);)try{const i=yield Lce(e.localStore,r);if(null===i){0===e.C_.length&&n.e_();break}r=i.batchId,tle(e,i)}catch(i){yield lm(e,i)}xj(e)&&Pj(e)}),aA.apply(this,arguments)}function ele(t){return Os(t)&&t.C_.length<10}function tle(t,e){t.C_.push(e);const n=Vs(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function xj(t){return Os(t)&&!Vs(t).Jo()&&t.C_.length>0}function Pj(t){Vs(t).start()}function nle(t){return uA.apply(this,arguments)}function uA(){return uA=m(function*(t){Vs(t).A_()}),uA.apply(this,arguments)}function rle(t){return cA.apply(this,arguments)}function cA(){return cA=m(function*(t){const e=Vs(t);for(const n of t.C_)e.d_(n.mutations)}),cA.apply(this,arguments)}function ile(t,e,n){return lA.apply(this,arguments)}function lA(){return lA=m(function*(t,e,n){const r=t.C_.shift(),i=ED.from(r,e,n);yield Rj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield zu(t)}),lA.apply(this,arguments)}function sle(t,e){return dA.apply(this,arguments)}function dA(){return dA=m(function*(t,e){var n;e&&Vs(t).I_&&(yield(n=m(function*(i,s){if(_B(a=s.code)&&a!==I.ABORTED){const o=i.C_.shift();Vs(i).Xo(),yield Rj(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield zu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),xj(t)&&Pj(t)}),dA.apply(this,arguments)}function Mj(t,e){return hA.apply(this,arguments)}function hA(){return hA=m(function*(t,e){const n=M(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Os(n);n.F_.add(3),yield Gu(n),r&&n.O_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),yield $d(n)}),hA.apply(this,arguments)}function pA(){return pA=m(function*(t,e){const n=M(t);e?(n.F_.delete(2),yield $d(n)):e||(n.F_.add(2),yield Gu(n),n.O_.set("Unknown"))}),pA.apply(this,arguments)}function qu(t){return t.B_||(t.B_=function(n,r,i){const s=M(n);return s.V_(),new zce(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:Xce.bind(null,t),Eo:Jce.bind(null,t),c_:Zce.bind(null,t)}),t.M_.push(function(){var e=m(function*(n){n?(t.B_.Xo(),nA(t)?tA(t):t.O_.set("Unknown")):(yield t.B_.stop(),Sj(t))});return function(n){return e.apply(this,arguments)}}())),t.B_}function Vs(t){return t.L_||(t.L_=function(n,r,i){const s=M(n);return s.V_(),new qce(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:nle.bind(null,t),Eo:sle.bind(null,t),E_:rle.bind(null,t),T_:ile.bind(null,t)}),t.M_.push(function(){var e=m(function*(n){n?(t.L_.Xo(),yield zu(t)):(yield t.L_.stop(),t.C_.length>0&&(A("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))});return function(n){return e.apply(this,arguments)}}())),t.L_}class gA{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new gA(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wu(t,e){if(ft("AsyncQueue",`${e}: ${t}`),bs(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Ku{constructor(e){this.comparator=e?(n,r)=>e(n,r)||N.comparator(n.key,r.key):(n,r)=>N.comparator(n.key,r.key),this.keyedMap=bd(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new Ku(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ku;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Nj{constructor(){this.k_=new Be(N.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(n,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(n):1===e.type&&2===r.type?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):B():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qu(e,n,Ku.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ole{constructor(){this.Q_=void 0,this.listeners=[]}}class ale{constructor(){this.queries=new Hi(e=>JU(e),wd),this.onlineState="Unknown",this.K_=new Set}}function _A(){return _A=m(function*(t,e){const n=M(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ole),i)try{s.Q_=yield n.onListen(r)}catch(o){const a=Wu(o,`Initialization of query '${Pu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&EA(n)}),_A.apply(this,arguments)}function vA(){return vA=m(function*(t,e){const n=M(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),vA.apply(this,arguments)}function ule(t,e){const n=M(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&EA(n)}function cle(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function EA(t){t.K_.forEach(e=>{e.next()})}class IA{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Vj{constructor(e){this.key=e}}class Fj{constructor(e){this.key=e}}class Lj{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ue(),this.mutatedKeys=ue(),this.ua=eB(e),this.ca=new Ku(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Nj,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Td(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.ua(f,u)>0||c&&this.ua(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((c,l)=>function(h,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return p(h)-p(f)}(c.type,l.type)||this.ua(c.doc,l.doc)),this.da(r);const o=n?this.Ta():[],a=0===this.aa.size&&this.current?1:0,u=a!==this._a;return this._a=a,0!==s.length||u?{snapshot:new Qu(this.query,e.ca,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Nj,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=ue(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Fj(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Vj(r))}),n}Ra(e){this.oa=e.Ps,this.aa=ue();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Qu.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class hle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fle{constructor(e){this.key=e,this.ma=!1}}class ple{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Hi(a=>JU(a),wd),this.pa=new Map,this.ya=new Set,this.wa=new Be(N.comparator),this.Sa=new Map,this.ba=new OD,this.Da={},this.Ca=new Map,this.va=Bo.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function gle(t,e){return wA.apply(this,arguments)}function wA(){return wA=m(function*(t,e){const n=function zA(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ble.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yle.bind(null,e),e.fa.c_=ule.bind(null,e.eventManager),e.fa.xa=cle.bind(null,e.eventManager),e}(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=yield function $u(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}(n.localStore,xn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function TA(t,e,n,r,i){return bA.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&cm(n.remoteStore,o)}return i}),wA.apply(this,arguments)}function bA(){return bA=m(function*(t,e,n,r,i){t.Ma=(d,h,f)=>{return(p=m(function*(_,v,y,w){let S=v.view.ha(y);S.es&&(S=yield im(_.localStore,v.query,!1).then(({documents:de})=>v.view.ha(de,S)));const P=w&&w.targetChanges.get(v.targetId),H=v.view.applyChanges(S,_.isPrimaryClient,P);return kA(_,v.targetId,H.Ea),H.snapshot}),function g(_,v,y,w){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield im(t.localStore,e,!0),o=new Lj(e,s.Ps),a=o.ha(s.documents),u=xd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);kA(t,n,c.Ea);const l=new hle(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}),bA.apply(this,arguments)}function mle(t,e){return CA.apply(this,arguments)}function CA(){return CA=m(function*(t,e){const n=M(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!wd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hd(n.remoteStore,r.targetId),Yu(n,r.targetId)}).catch(Ts))):(Yu(n,r.targetId),yield Hu(n.localStore,r.targetId,!0))}),CA.apply(this,arguments)}function DA(){return DA=m(function*(t,e,n){const r=function qA(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ele.bind(null,e),e}(t);try{const i=yield function(o,a){const u=M(o),c=Ze.now(),l=a.reduce((f,p)=>f.add(p.key),ue());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=$n(),g=ue();return u._s.getEntries(f,l).next(_=>{p=_,p.forEach((v,y)=>{y.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(_=>{d=_;const v=[];for(const y of a){const w=zue(y,d.get(y.key).overlayedDocument);null!=w&&v.push(new Gi(y.key,w,FU(w.value.mapValue),Ye.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,v,a)}).next(_=>{h=_;const v=_.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,_.batchId,v)})}).then(()=>({batchId:h.batchId,changes:nB(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Da[o.currentUser.toKey()];c||(c=new Be(te)),c=c.insert(a,u),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),yield qi(r,i.changes),yield zu(r.remoteStore)}catch(i){const s=Wu(i,"Failed to persist write");n.reject(s)}}),DA.apply(this,arguments)}function Uj(t,e){return AA.apply(this,arguments)}function AA(){return AA=m(function*(t,e){const n=M(t);try{const r=yield function Fce(t,e){const n=M(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Kr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Kr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,_,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(xt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),_=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Kr.updateTargetData(s,f))});let u=$n(),c=ue();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function _j(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$n();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(q.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ls:o,hs:i}})}(s,o,e.documentUpdates).next(l=>{u=l.ls,c=l.hs})),!r.isEqual(q.min())){const l=n.Kr.getLastRemoteSnapshotVersion(s).next(d=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.rs=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?z(o.ma):i.removedDocuments.size>0&&(z(o.ma),o.ma=!1))}),yield qi(n,r,e)}catch(r){yield Ts(r)}}),AA.apply(this,arguments)}function Bj(t,e,n){const r=M(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=M(o);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.U_(a)&&(c=!0)}),c&&EA(u)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yle(t,e,n){return SA.apply(this,arguments)}function SA(){return SA=m(function*(t,e,n){const r=M(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Be(N.comparator);o=o.insert(s,ze.newNoDocument(s,q.min()));const a=ue().add(s),u=new Rd(q.min(),new Map,new Be(te),o,a);yield Uj(r,u),r.wa=r.wa.remove(s),r.Sa.delete(e),OA(r)}else yield Hu(r.localStore,e,!1).then(()=>Yu(r,e,n)).catch(Ts)}),SA.apply(this,arguments)}function vle(t,e){return RA.apply(this,arguments)}function RA(){return RA=m(function*(t,e){const n=M(t),r=e.batch.batchId;try{const i=yield function Vce(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=E.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const _=c.docVersions.get(p);z(null!==_),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);NA(n,r,null),MA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield qi(n,i)}catch(i){yield Ts(i)}}),RA.apply(this,arguments)}function Ele(t,e,n){return xA.apply(this,arguments)}function xA(){return xA=m(function*(t,e,n){const r=M(t);try{const i=yield function(o,a){const u=M(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(z(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);NA(r,e,n),MA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield qi(r,i)}catch(i){yield Ts(i)}}),xA.apply(this,arguments)}function MA(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function NA(t,e,n){const r=M(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Yu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||jj(t,r)})}function jj(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(Hd(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),OA(t))}function kA(t,e,n){for(const r of n)r instanceof Vj?(t.ba.addReference(r.key,e),wle(t,r)):r instanceof Fj?(A("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||jj(t,r.key)):B()}function wle(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(A("SyncEngine","New document in limbo: "+n),t.ya.add(r),OA(t))}function OA(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new N(Ee.fromString(e)),r=t.va.next();t.Sa.set(r,new fle(n)),t.wa=t.wa.insert(n,r),cm(t.remoteStore,new zi(xn(Ru(n.path)),r,"TargetPurposeLimboResolution",or.ae))}}function qi(t,e,n){return VA.apply(this,arguments)}function VA(){return VA=m(function*(t,e,n){const r=M(t),i=[],s=[],o=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=BD.$i(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.fa.c_(i),yield(a=m(function*(c,l){const d=M(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>E.forEach(l,f=>E.forEach(f.Qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>E.forEach(f.Ki,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!bs(h))throw h;A("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.rs.get(f),_=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.rs=d.rs.insert(f,_)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,s))}),VA.apply(this,arguments)}function Tle(t,e){return FA.apply(this,arguments)}function FA(){return FA=m(function*(t,e){const n=M(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield gj(n.localStore,e);n.currentUser=e,(s=n).Ca.forEach(a=>{a.forEach(u=>{u.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ca.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qi(n,r.cs)}var s}),FA.apply(this,arguments)}function ble(t,e){const n=M(t),r=n.Sa.get(e);if(r&&r.ma)return ue().add(r.key);{let i=ue();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}class dm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=jd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function pj(t,e,n,r){return new Oce(t,e,n,r)}(this.persistence,new fj,e.initialUser,this.serializer)}createPersistence(e){return new VD(tm.Jr,this.serializer)}createSharedClientState(e){return new Tj}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xu{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Bj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Tle.bind(null,r.syncEngine),yield function fA(t,e){return pA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ale}createDatastore(e){const n=jd(e.databaseInfo.databaseId),r=new Gce(e.databaseInfo);return new Wce(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>Bj(this.syncEngine,n,0),a=bj.C()?new bj:new jce,new Yce(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,u,c,l){const d=new ple(i,s,o,a,u,c);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(r){const i=M(r);A("RemoteStore","RemoteStore shutting down."),i.F_.add(5),yield Gu(i),i.x_.shutdown(),i.O_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class hm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ft("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ole{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return m(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new C(I.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=m(function*(o,a){const u=M(o),c=Md(u.serializer)+"/documents",l={documents:a.map(p=>Pd(u.serializer,p))},d=yield u.Fo("BatchGetDocuments",c,l,a.length),h=new Map;d.forEach(p=>{const g=function tce(t,e){return"found"in e?function(r,i){z(!!i.found);const s=oi(r,i.found.name),o=pt(i.found.updateTime),a=i.found.createTime?pt(i.found.createTime):q.min(),u=new Kt({mapValue:{fields:i.found.fields}});return ze.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){z(!!i.missing),z(!!i.readTime);const s=oi(r,i.missing),o=pt(i.readTime);return ze.newNoDocument(s,o)}(t,e):B()}(u.serializer,p);h.set(g.key.toString(),g)});const f=[];return a.forEach(p=>{const g=h.get(p.toString());z(!!g),f.push(g)}),f}),function s(o,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ou(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return m(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const s=N.fromPath(i);e.mutations.push(new yD(s,e.precondition(s)))}),yield(r=m(function*(s,o){const a=M(s),u=Md(a.serializer)+"/documents",c={writes:o.map(l=>Nd(a.serializer,l))};yield a.bo("Commit",u,c)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw B();n=q.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new C(I.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(q.min())?Ye.exists(!1):Ye.updateTime(n):Ye.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(q.min()))throw new C(I.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ye.updateTime(n)}return Ye.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Vle{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new YD(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){var e=this;this.Ho.Qo(m(function*(){const n=new Ole(e.datastore),r=e.Ha(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Ja(s)}))}).catch(i=>{e.Ja(i)})}))}Ha(e){try{const n=this.updateFunction(e);return!gd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!_B(n)}return!1}}class Fle{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=pU.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Wu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function fm(t,e){return WA.apply(this,arguments)}function WA(){return WA=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield gj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),WA.apply(this,arguments)}function KA(t,e){return QA.apply(this,arguments)}function QA(){return QA=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function YA(t){return XA.apply(this,arguments)}(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Mj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Mj(e.remoteStore,s)),t._onlineComponents=e}),QA.apply(this,arguments)}function XA(){return XA=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Wj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ir("Error using user provided cache. Falling back to memory cache: "+n),yield fm(t,new dm)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield fm(t,new dm);return t._offlineComponents}),XA.apply(this,arguments)}function pm(t){return JA.apply(this,arguments)}function JA(){return JA=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield KA(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield KA(t,new Xu))),t._onlineComponents}),JA.apply(this,arguments)}function eS(){return eS=m(function*(t){const e=yield pm(t),n=e.eventManager;return n.onListen=gle.bind(null,e.syncEngine),n.onUnlisten=mle.bind(null,e.syncEngine),n}),eS.apply(this,arguments)}function Xj(t,e,n={}){const r=new Rt;return t.asyncQueue.enqueueAndForget(m(function*(){return function(s,o,a,u,c){const l=new hm({next:h=>{o.enqueueAndForget(()=>function yA(t,e){return vA.apply(this,arguments)}(s,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new C(I.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&"server"===u.source?c.reject(new C(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new IA(Ru(a.path),l,{includeMetadataChanges:!0,Z_:!0});return function mA(t,e){return _A.apply(this,arguments)}(s,d)}(yield function Zu(t){return eS.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function Zj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const e$=new Map;function t$(t){if(!N.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":B()}function me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gm(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class i${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Kle(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Zj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i$(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Gae;switch(r.type){case"firstParty":return new Kae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=e$.get(n);r&&(A("ComponentProvider","Removing Datastore"),e$.delete(n),r.terminate())}(this),Promise.resolve()}}class Qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qt(this.firestore,e,this._query)}}class gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}}class ai extends Qt{constructor(e,n,r){super(e,n,Ru(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new N(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function ar(t,e,...n){if(t=rt(t),1===arguments.length&&(e=pU.V()),function tS(t,e,n){if(!n)throw new C(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("doc","path",e),t instanceof Gd){const r=Ee.fromString(e,...n);return t$(r),new gt(t,null,new N(r))}{if(!(t instanceof gt||t instanceof ai))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return t$(r),new gt(t.firestore,t instanceof ai?t.converter:null,new N(r))}}class Yle{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new YD(this,"async_queue_retry"),this.ou=()=>{const n=um();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=um();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=um();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Rt;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return m(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(n){if(!bs(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,ft("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=gA.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&B()}verifyOperationInProgress(){}lu(){var e=this;return m(function*(){let n;do{n=e.Za,yield n}while(n!==e.Za)})()}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class $e extends Gd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Yle,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||o$(this),this._firestoreClient.terminate()}}function mt(t){return t._firestoreClient||o$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function o$(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new bue(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Zj(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new Fle(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(xt.fromBase64String(e))}catch(n){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ho{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rS{constructor(e){this._methodName=e}}class iS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const ede=/^__.*__$/;class tde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}class c${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function l$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class mm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return vm(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(l$(this.Tu)&&ede.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class nde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jd(e)}wu(e,n,r,i=!1){return new mm({Tu:e,methodName:n,yu:r,path:st.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Go(t){const e=t._freezeSettings(),n=jd(t._databaseId);return new nde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _m(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);uS("Data must be an object, but it was:",o,r);const a=f$(r,o);let u,c;if(s.merge)u=new jn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Wd(e,d,n);if(!o.contains(h))throw new C(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);g$(l,h)||l.push(h)}u=new jn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new tde(new Kt(a),u,c)}class qd extends rS{_toFieldTransform(e){if(2!==e.Tu)throw e.gu(1===e.Tu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qd}}function oS(t,e,n,r){const i=t.wu(1,e,n);uS("Data must be an object, but it was:",i,r);const s=[],o=Kt.empty();Cs(r,(u,c)=>{const l=ym(e,u,n);c=rt(c);const d=i.mu(l);if(c instanceof qd)s.push(l);else{const h=zo(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new jn(s);return new c$(o,a,i.fieldTransforms)}function aS(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[Wd(e,r,n)],u=[i];if(s.length%2!=0)throw new C(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Wd(e,s[h])),u.push(s[h+1]);const c=[],l=Kt.empty();for(let h=a.length-1;h>=0;--h)if(!g$(c,a[h])){const f=a[h];let p=u[h];p=rt(p);const g=o.mu(f);if(p instanceof qd)c.push(f);else{const _=zo(p,g);null!=_&&(c.push(f),l.set(f,_))}}const d=new jn(c);return new c$(l,d,o.fieldTransforms)}function zo(t,e){if(p$(t=rt(t)))return uS("Unsupported field value:",e,t),f$(t,e);if(t instanceof rS)return function(r,i){if(!l$(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&4!==e.Tu)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=zo(a,i.fu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=rt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return oB(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Ze.fromDate(r);return{timestampValue:Vu(i.serializer,s)}}if(r instanceof Ze){const s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vu(i.serializer,s)}}if(r instanceof iS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $o)return{bytesValue:AB(i.serializer,r._byteString)};if(r instanceof gt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:bD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${gm(r)}`)}(t,e)}function f$(t,e){const n={};return SU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(r,i)=>{const s=zo(i,e.Au(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function p$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof iS||t instanceof $o||t instanceof gt||t instanceof rS)}function uS(t,e,n){if(!p$(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=gm(n);throw e.gu("an object"===r?t+" a custom object":t+" "+r)}var i}function Wd(t,e,n){if((e=rt(e))instanceof Ho)return e._internalPath;if("string"==typeof e)return ym(t,e);throw vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const ode=new RegExp("[~\\*/\\[\\]]");function ym(t,e,n){if(e.search(ode)>=0)throw vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ho(...e.split("."))._internalPath}catch{throw vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(I.INVALID_ARGUMENT,a+t+u)}function g$(t,e){return t.some(n=>n.isEqual(e))}class Kd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ade(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Em("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ade extends Kd{data(){return super.data()}}function Em(t,e){return"string"==typeof e?ym(t,e):e instanceof Ho?e._internalPath:e._delegate._internalPath}class T${convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new iS(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Og(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_d(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);z(FB(r));const i=new xo(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(n)||ft(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function bm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class cde extends T${constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tc extends Kd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cm extends tc{data(e={}){return super.data(e)}}function ui(t){t=me(t,gt);const e=me(t.firestore,$e);return Xj(mt(e),t._key).then(n=>function lS(t,e,n){const r=n.docs.get(e._key),i=new Fs(t);return new tc(t,i,e._key,r,new qo(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class Fs extends T${constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function b$(t,e,n){t=me(t,gt);const r=me(t.firestore,$e),i=bm(t.converter,e,n);return Yd(r,[_m(Go(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ye.none())])}function Yd(t,e){return function(r,i){const s=new Rt;return r.asyncQueue.enqueueAndForget(m(function*(){return function _le(t,e,n){return DA.apply(this,arguments)}(yield function ZA(t){return pm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(mt(t),e)}const wde={maxAttempts:5};function Ls(t,e){if((t=rt(t)).firestore!==e)throw new C(I.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class bde extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Go(n)}get(n){const r=Ls(n,this._firestore),i=new cde(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return B();const o=s[0];if(o.isFoundDocument())return new Kd(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Kd(this._firestore,i,r._key,null,r.converter);throw B()})}set(n,r,i){const s=Ls(n,this._firestore),o=bm(s.converter,r,i),a=_m(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Ls(n,this._firestore);let a;return a="string"==typeof(r=rt(r))||r instanceof Ho?aS(this._dataReader,"Transaction.update",o._key,r,i,s):oS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Ls(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ls(e,this._firestore),r=new Fs(this._firestore);return super.get(e).then(i=>new tc(this._firestore,r,n._key,i._document,new qo(!1,!1),n.converter))}}!function(e,n=!0){Eu=ou,gr(new tr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $e(new qae(r.getProvider("auth-internal")),new Qae(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Un(dU,"4.2.0",e),Un(dU,"4.2.0","esm2017")}();const S$=VV({apiKey:"AIzaSyADljtJJVmWrxoQru7Z0K31BBcoAhC_t2M",authDomain:"hacked23-24.firebaseapp.com",projectId:"hacked23-24",storageBucket:"hacked23-24.appspot.com",messagingSenderId:"762917826898",appId:"1:762917826898:web:2e61a3302af9834f530a8b",measurementId:"G-BCYK66FZ62"}),Ade=(function Gne(t=Op()){const e=Ri(t=rt(t),Fp);e.isInitialized()?e.getImmediate():function zne(t,e={}){const n=Ri(t,Fp);if(n.isInitialized()){const i=n.getImmediate();if(Pl(e,n.getOptions()))return i;throw Sn.create("already-initialized")}n.initialize({options:e})}(t)}(S$),new Gre),It=function Use(t=Op()){const e=Ri(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Dre(t,e){const n=Ri(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Pl(n.getOptions(),e??{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Mse,persistence:[Sie,gie,uL]}),r=wV("authTokenSyncURL");if(r){const s=Lse(r);(function sie(t,e,n){rt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function iie(t,e,n,r){rt(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=EV("auth");return i&&function Sre(t,e,n){const r=yt(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=KF(e),{host:o,port:a}=function Rre(t){const e=KF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:QF(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:QF(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function xre(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(),R$=function Ooe(t=Op()){return function Moe(){return dC.apply(this,arguments)}().then(e=>{if(!e)throw Gt.create("unsupported-browser")},e=>{throw Gt.create("indexed-db-unsupported")}),Ri(rt(t),"messaging").getImmediate()}(S$),ur=function Jle(t,e){const r="string"==typeof t?t:e||"(default)",i=Ri("object"==typeof t?t:Op(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=EV("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Qle(t,e,n,r={}){var i;const s=(t=me(t,Gd))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ot.MOCK_USER;else{a=function GZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sp(JSON.stringify({alg:"none",type:"JWT"})),Sp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ot(c)}t._authCredentials=new zae(new hU(a,u))}}(i,...s)}return i}();function x$(){return hS.apply(this,arguments)}function hS(){return hS=m(function*(){try{const e=(yield function Kie(t,e,n){return hb.apply(this,arguments)}(It,Ade)).user;console.log("Logged in user:",e);const n=ar(ur,"users",e.uid);yield function Sde(t){return new Promise(e=>setTimeout(e,t))}(2500);const r=yield ui(n);if(!0!==r.get("registrationCompleted")){console.log(r.get("registrationCompleted"));const i=ar(ur,"metadata","student_count");yield function Cde(t,e,n){t=me(t,$e);const r=Object.assign(Object.assign({},wde),n);return function(s){if(s.maxAttempts<1)throw new C(I.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new Rt;return s.asyncQueue.enqueueAndForget(m(function*(){const c=yield function Yj(t){return pm(t).then(e=>e.datastore)}(s);new Vle(s.asyncQueue,c,a,o,u).run()})),u.promise}(mt(t),i=>e(new bde(t,i)),r)}(ur,function(){var s=m(function*(o){const a=yield o.get(i);if(!a.exists())throw"Document does not exist!";const u=a.data().count+1;o.update(i,{count:u})});return function(o){return s.apply(this,arguments)}}())}}catch(t){console.error("Error logging in:",t)}}),hS.apply(this,arguments)}function P$(){return fS.apply(this,arguments)}function fS(){return fS=m(function*(){try{yield function aie(t){return rt(t).signOut()}(It),console.log("Logged out successfully")}catch(t){console.error("Error logging out:",t)}}),fS.apply(this,arguments)}function pS(){return pS=m(function*(){try{"granted"===(yield Notification.requestPermission())&&function Voe(t,e){return fC.apply(this,arguments)}(R$,{vapidKey:"BKOIvinydaKL00iJbhKrJNOQVuqq6lYM5jC8-1oyiI4OVLdBsB7X82XG_dSkvZmDD0tp-k2owyuE4_TUjaRmKo8"}).then(function(){var e=m(function*(n){if(n){console.log("User token:",n);const r=It.currentUser;if(r){const i=ar(ur,"users",r.uid);yield b$(i,{notificationToken:n},{merge:!0})}else console.warn("Utente non autenticato. Non \xe8 possibile salvare il token.")}else console.log("No registration token available. Request permission to generate one.")});return function(n){return e.apply(this,arguments)}}()).catch(e=>{console.log("An error occurred while retrieving token. ",e)})}catch(t){console.error("Errore durante la richiesta del permesso:",t)}}),pS.apply(this,arguments)}function M$(){return gS.apply(this,arguments)}function gS(){return gS=m(function*(){try{const t=It.currentUser;if(t){const n=yield(yield fetch("https://us-central1-hacked23-24.cloudfunctions.net/sendNotification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:t.uid})})).json();console.log(n)}else console.warn("Utente non autenticato.")}catch(t){console.error("Errore durante l'invio della notifica:",t)}}),gS.apply(this,arguments)}function xde(){return mS.apply(this,arguments)}function mS(){return mS=m(function*(){try{const t=It.currentUser,e=3e3;if(t){const r=yield(yield fetch("https://us-central1-hacked23-24.cloudfunctions.net/sendNotificationDelayed",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:t.uid,delay:e})})).json();console.log(r),console.log("bg data")}else console.warn("Utente non autenticato.")}catch(t){console.error("Errore durante l'invio della notifica:",t)}}),mS.apply(this,arguments)}!function Foe(t,e){(function koe(t,e){if(!navigator)throw Gt.create("only-available-in-window");t.onMessageHandler=e})(t=rt(t),e)}(R$,t=>{console.log("Notifica da onMessage:",t),t.notification?"granted"===Notification.permission?new Notification(t.notification.title||"Titolo predefinito",{body:t.notification.body||"Corpo predefinito"}):console.warn("Permesso per le notifiche non concesso."):console.warn("Notifica senza contenuto.")});const Pde="https://random-user-by-api-ninjas.p.rapidapi.com/v1/randomuser",Mde={method:"GET",headers:{"X-RapidAPI-Key":"34f54b7ca9mshae462c74aeccbc2p12b2d4jsncf73428f9321","X-RapidAPI-Host":"random-user-by-api-ninjas.p.rapidapi.com"}};function N$(){return yS.apply(this,arguments)}function yS(){return(yS=m(function*(){const n=(yield(yield fetch(Pde,Mde)).json()).username;return console.log(n),n})).apply(this,arguments)}let Wi=(()=>{class t{constructor(){this.userSubject=new Hn(null),this.user$=this.userSubject.asObservable(),function oie(t,e,n,r){rt(t).onAuthStateChanged(e,n,r)}(It,n=>{console.log("User: ",n),this.userSubject.next(n||null)})}isLoggedIn(){return!!this.userSubject.value}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),k$=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(T(_i),T(nn))};static#t=this.\u0275dir=J({type:t})}return t})(),Wo=(()=>{class t extends k${static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=$t(t)))(i||t)}}();static#t=this.\u0275dir=J({type:t,features:[Te]})}return t})();const yr=new V("NgValueAccessor"),Ode={provide:yr,useExisting:Me(()=>vS),multi:!0},Fde=new V("CompositionEventMode");let vS=(()=>{class t extends k${constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vde(){const t=cs()?cs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(T(_i),T(nn),T(Fde,8))};static#t=this.\u0275dir=J({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ke("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Le([Ode]),Te]})}return t})();const dn=new V("NgValidators"),Bs=new V("NgAsyncValidators");function z$(t){return null!=t}function q$(t){return Yc(t)?bt(t):t}function W$(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function K$(t,e){return e.map(n=>n(t))}function Q$(t){return t.map(e=>function Ude(t){return!t.validate}(e)?e:n=>e.validate(n))}function ES(t){return null!=t?function Y$(t){if(!t)return null;const e=t.filter(z$);return 0==e.length?null:function(n){return W$(K$(n,e))}}(Q$(t)):null}function IS(t){return null!=t?function X$(t){if(!t)return null;const e=t.filter(z$);return 0==e.length?null:function(n){return function Nde(...t){const e=v0(t),{args:n,keys:r}=c1(t),i=new He(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Yt(n[l]).subscribe(ut(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?l1(r,a):a),s.complete())}))}});return e?i.pipe(ME(e)):i}(K$(n,e).map(q$)).pipe(ce(W$))}}(Q$(t)):null}function J$(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function wS(t){return t?Array.isArray(t)?t:[t]:[]}function Sm(t,e){return Array.isArray(t)?t.includes(e):t===e}function tH(t,e){const n=wS(e);return wS(t).forEach(i=>{Sm(n,i)||n.push(i)}),n}function nH(t,e){return wS(e).filter(n=>!Sm(t,n))}class rH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ES(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Pn extends rH{get formDirective(){return null}get path(){return null}}class js extends rH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class iH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let TS=(()=>{class t extends iH{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(T(js,2))};static#t=this.\u0275dir=J({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&os("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Te]})}return t})();const Xd="VALID",xm="INVALID",rc="PENDING",Jd="DISABLED";function Pm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class uH{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xd}get invalid(){return this.status===xm}get pending(){return this.status==rc}get disabled(){return this.status===Jd}get enabled(){return this.status!==Jd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nH(e,this._rawAsyncValidators))}hasValidator(e){return Sm(this._rawValidators,e)}hasAsyncValidator(e){return Sm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Xd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xd||this.status===rc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jd:Xd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rc,this._hasOwnPendingAsyncValidator=!0;const n=q$(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new R,this.statusChanges=new R}_calculateStatus(){return this._allControlsDisabled()?Jd:this.errors?xm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rc)?rc:this._anyControlsHaveStatus(xm)?xm:Xd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Gde(t){return Array.isArray(t)?ES(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zde(t){return Array.isArray(t)?IS(t):t||null}(this._rawAsyncValidators)}}const ic=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Mm}),Mm="always";function Zd(t,e,n=Mm){(function RS(t,e){const n=function Z$(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(J$(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function eH(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(J$(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Om(e._rawValidators,i),Om(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Kde(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&cH(t,e)})}(t,e),function Yde(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Qde(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&cH(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Wde(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Om(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function cH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hH(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function fH(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const pH=class extends uH{constructor(e=null,n,r){super(function DS(t){return(Pm(t)?t.validators:t)||null}(n),function AS(t,e){return(Pm(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=fH(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){fH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ihe={provide:js,useExisting:Me(()=>Fm)},_H=(()=>Promise.resolve())();let Fm=(()=>{class t extends js{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new pH,this._registered=!1,this.name="",this.update=new R,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function MS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===vS?n=s:function Zde(t){return Object.getPrototypeOf(t.constructor)===Wo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function PS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){_H.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Wa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);_H.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Nm(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(T(Pn,9),T(dn,10),T(Bs,10),T(yr,10),T($f,8),T(ic,8))};static#t=this.\u0275dir=J({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Le([ihe]),Te,qn]})}return t})(),vH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({})}return t})();const ghe={provide:yr,useExisting:Me(()=>Lm),multi:!0};function DH(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Lm=(()=>{class t extends Wo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=DH(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function mhe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=$t(t)))(i||t)}}();static#t=this.\u0275dir=J({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Ke("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Le([ghe]),Te]})}return t})(),AH=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(DH(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(T(nn),T(_i),T(Lm,9))};static#t=this.\u0275dir=J({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const _he={provide:yr,useExisting:Me(()=>FS),multi:!0};function SH(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let FS=(()=>{class t extends Wo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function yhe(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=$t(t)))(i||t)}}();static#t=this.\u0275dir=J({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Ke("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Le([_he]),Te]})}return t})(),RH=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(SH(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(SH(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(T(nn),T(_i),T(FS,9))};static#t=this.\u0275dir=J({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),Ahe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({imports:[vH]})}return t})(),UH=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ic,useValue:n.callSetDisabledState??Mm}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({imports:[Ahe]})}return t})();function Rhe(t,e){1&t&&(j(0,"a",17),W(1,"Profile"),L())}function xhe(t,e){1&t&&(j(0,"a",18)(1,"strong"),W(2,"Login"),L()())}function Phe(t,e){1&t&&(j(0,"a",19)(1,"strong"),W(2,"Dashboard"),L()())}let Qo=(()=>{class t{constructor(n){this.authService=n,this.isMenuActive=!1}toggleMenu(){this.isMenuActive=!this.isMenuActive}static#e=this.\u0275fac=function(r){return new(r||t)(T(Wi))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-navbar"]],decls:24,vars:7,consts:[["role","navigation","aria-label","main navigation",1,"navbar"],[1,"container"],[1,"navbar-brand"],["href","/",1,"navbar-item"],["id","test","role","button","aria-label","menu","aria-expanded","false",1,"navbar-burger",3,"click"],["aria-hidden","true"],["id","navbarBasicExample",1,"navbar-menu"],[1,"navbar-start"],["href","/leaderboard",1,"navbar-item"],["href","/trophies",1,"navbar-item"],["class","navbar-item","href","/user",4,"ngIf"],["href","/exercises",1,"navbar-item"],[1,"navbar-end"],[1,"navbar-item"],[1,"buttons"],["class","button is-primary","href","/auth",4,"ngIf"],["class","button is-primary","href","/user",4,"ngIf"],["href","/user",1,"navbar-item"],["href","/auth",1,"button","is-primary"],["href","/user",1,"button","is-primary"]],template:function(r,i){1&r&&(j(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"strong"),W(5,"HackEd"),L()(),j(6,"a",4),Ke("click",function(){return i.toggleMenu()}),dt(7,"span",5)(8,"span",5)(9,"span",5),L()(),j(10,"div",6)(11,"div",7)(12,"a",8),W(13,"Leaderboard"),L(),j(14,"a",9),W(15,"Trophies"),L(),sn(16,Rhe,2,0,"a",10),j(17,"a",11),W(18,"Exercises"),L()(),j(19,"div",12)(20,"div",13)(21,"div",14),sn(22,xhe,3,0,"a",15),sn(23,Phe,3,0,"a",16),L()()()()()()),2&r&&(le(6),os("is-active",i.isMenuActive),le(4),os("is-active",i.isMenuActive),le(6),We("ngIf",!i.authService.isLoggedIn()),le(6),We("ngIf",!i.authService.isLoggedIn()),le(1),We("ngIf",i.authService.isLoggedIn()))},dependencies:[ip]})}return t})();function Mhe(t,e){if(1&t&&(j(0,"option",6),W(1),L()),2&t){const n=e.$implicit;We("value",n),le(1),as(n)}}function Nhe(t,e){if(1&t&&(j(0,"p"),W(1,"Your username: "),j(2,"strong"),W(3),L()()),2&t){const n=En(3);le(3),as(n.username)}}function khe(t,e){if(1&t&&(j(0,"p"),W(1,"Your clan: "),j(2,"strong"),W(3),L()()),2&t){const n=En(3);le(3),as(n.selectedClan)}}function Ohe(t,e){if(1&t){const n=is();j(0,"div")(1,"h2"),W(2,"Your Random Username"),L(),j(3,"button",4),Ke("click",function(){return Ur(n),Br(En(2).generateRandomUsername())}),W(4,"Generate Random Username"),L(),sn(5,Nhe,4,1,"p",5),sn(6,khe,4,1,"p",5),L()}if(2&t){const n=En(2);le(5),We("ngIf",n.username),le(1),We("ngIf",n.username)}}function Vhe(t,e){if(1&t){const n=is();j(0,"div")(1,"h2"),W(2,"Ready to Join HackEd?"),L(),j(3,"button",7),Ke("click",function(){return Ur(n),Br(En(2).loginProcedure())}),W(4,"Register with Google"),L()()}if(2&t){const n=En(2);le(3),We("disabled",!n.username)}}function Fhe(t,e){if(1&t){const n=is();j(0,"div",1)(1,"h1"),W(2,"Welcome to HackEd"),L(),j(3,"h2"),W(4,"Choose Your Clan"),L(),j(5,"select",2),Ke("ngModelChange",function(i){return Ur(n),Br(En().selectedClan=i)})("change",function(){return Ur(n),Br(En().onClanSelected())}),sn(6,Mhe,2,2,"option",3),L(),dt(7,"br")(8,"br"),j(9,"h2"),W(10,"Already registered?"),L(),j(11,"button",4),Ke("click",function(){return Ur(n),Br(En().loginWithGoogleDev())}),W(12,"Login"),L(),sn(13,Ohe,7,2,"div",5),sn(14,Vhe,5,1,"div",5),L()}if(2&t){const n=En();le(5),We("ngModel",n.selectedClan),le(1),We("ngForOf",n.clans),le(7),We("ngIf",n.selectedClan),le(1),We("ngIf",n.selectedClan)}}let Lhe=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.getRandomUsername=N$,this.loginWithGoogleDev=x$,this.isLogged=!1,this.username="",this.clans=["Binary Battlers","Crypto Crusaders","Network Nomads","System Sentinels"],this.selectedClan="",this.clanSelected=!1}ngOnInit(){this.authService.user$.subscribe(n=>{n?(this.isLogged=!0,this.router.navigate(["/user"])):this.isLogged=!1})}onClanSelected(){this.selectedClan&&(this.clanSelected=!0)}generateRandomUsername(){var n=this;return m(function*(){n.username=yield N$(),console.log(n.username)})()}loginProcedure(){var n=this;return m(function*(){yield x$(),console.log("Chiamata a usernameToServer() iniziata...");const r=n.username;if(console.log("Username ottenuto:",r),r)if(It.currentUser){const i=It.currentUser.uid,s=It.currentUser.email,o=ar(ur,"users",i);console.log("Tentativo di scrittura nel database con UID:",i),yield b$(o,{email:s,username:r,registrationCompleted:!0,level:1,exercises_solved:0,clan:n.selectedClan,exp:0,solved_exercises:[""],percentage:0},{merge:!0});const a=yield ui(o);console.log(a.data()),console.log("Scrittura nel database completata.")}else console.error("No user uid found");else console.error("Errore nel generare un username casuale!")})()}static#e=this.\u0275fac=function(r){return new(r||t)(T(Wi),T(An))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-auth"]],decls:2,vars:1,consts:[["class","auth-container",4,"ngIf"],[1,"auth-container"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"],[3,"value"],[3,"disabled","click"]],template:function(r,i){1&r&&(dt(0,"app-navbar"),sn(1,Fhe,15,4,"div",0)),2&r&&(le(1),We("ngIf",!i.isLogged))},dependencies:[rp,ip,AH,RH,Lm,TS,Fm,Qo]})}return t})(),Uhe=(()=>{class t{constructor(n){this.auth=n}static#e=this.\u0275fac=function(r){return new(r||t)(T(Wi))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-home-content"]],decls:54,vars:0,consts:[[1,"hero","is-medium","is-primary"],[1,"hero-body"],[1,"container"],[1,"title"],[1,"subtitle"],[1,"section"],[1,"my-5"],[1,"columns"],[1,"column"],[1,"title","is-4"],[1,"container","has-text-centered"],["href","/auth",1,"button","is-medium","is-primary"],[1,"footer"],[1,"content","has-text-centered"]],template:function(r,i){1&r&&(dt(0,"app-navbar"),j(1,"body")(2,"section",0)(3,"div",1)(4,"div",2)(5,"h1",3),W(6,"Welcome to HackEd!"),L(),j(7,"h2",4),W(8,"Your portal to learn and improve in cybersecurity."),L()()()(),j(9,"section",5)(10,"div",2)(11,"h2",3),W(12,"Challenges and Clans"),L(),j(13,"p",6),W(14," Take on practical cybersecurity challenges and join one of the 4 competing clans. Collaborate, compete, and reach the top! "),L(),j(15,"div",7)(16,"div",8)(17,"h3",9),W(18,"Binary Battlers"),L(),j(19,"p"),W(20," Heroes of the digital world, they translate reality into zeros and ones, protecting every bit and byte in the vast digital universe. "),L()(),j(21,"div",8)(22,"h3",9),W(23,"Crypto Crusaders"),L(),j(24,"p"),W(25," Guardians of the Cyberspace secrets, they hold ancient keys, deciphering riddles and keeping information safe. "),L()(),j(26,"div",8)(27,"h3",9),W(28,"Network Nomads"),L(),j(29,"p"),W(30," Internet explorers, they travel through the vast network, ensuring every packet reaches its destination. "),L()(),j(31,"div",8)(32,"h3",9),W(33,"System Sentinels"),L(),j(34,"p"),W(35," Protectors of operating systems, they watch over every process, guarding the digital essence from threats and intruders. "),L()()()()(),j(36,"section",5)(37,"div",2)(38,"h2",3),W(39,"Certificates and Trophies"),L(),j(40,"p"),W(41," Earn certificates for every completed challenge and proudly display your conquered trophies. Learn, compete, and become a master of cybersecurity. "),L()()(),j(42,"section",5)(43,"div",10)(44,"h2",3),W(45,"Ready to join?"),L(),j(46,"p",6),W(47," Sign up now and start your journey in cybersecurity. "),L(),j(48,"a",11),W(49,"Register"),L()()(),j(50,"footer",12)(51,"div",13)(52,"p"),W(53," \xa9 2023 HackEd. All rights reserved. "),L()()()())},dependencies:[Qo]})}return t})();class Um{}class Bm{}class ci{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ci?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ci;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ci?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class jhe{encodeKey(e){return BH(e)}encodeValue(e){return BH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Hhe=/%(\d[a-f0-9])/gi,Ghe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BH(t){return encodeURIComponent(t).replace(Hhe,(e,n)=>Ghe[n]??e)}function jm(t){return`${t}`}class $s{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jhe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $he(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(jm):[jm(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new $s({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(jm(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(jm(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zhe{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function jH(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function $H(t){return typeof Blob<"u"&&t instanceof Blob}function HH(t){return typeof FormData<"u"&&t instanceof FormData}class th{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function qhe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ci),this.context||(this.context=new zhe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new $s,this.urlWithParams=n}serializeBody(){return null===this.body?null:jH(this.body)||$H(this.body)||HH(this.body)||function Whe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $s?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HH(this.body)?null:$H(this.body)?this.body.type||null:jH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $s?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new th(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var sc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(sc||{});class US{constructor(e,n=200,r="OK"){this.headers=e.headers||new ci,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class BS extends US{constructor(e={}){super(e),this.type=sc.ResponseHeader}clone(e={}){return new BS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class oc extends US{constructor(e={}){super(e),this.type=sc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new oc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class GH extends US{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function jS(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let $m=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof th)s=n;else{let u,c;u=i.headers instanceof ci?i.headers:new ci(i.headers),i.params&&(c=i.params instanceof $s?i.params:new $s({fromObject:i.params})),s=new th(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=K(s).pipe(Ya(u=>this.handler.handle(u)));if(n instanceof th||"events"===i.observe)return o;const a=o.pipe(Dn(u=>u instanceof oc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ce(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ce(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ce(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ce(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new $s).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,jS(i,r))}post(n,r,i={}){return this.request("POST",n,jS(i,r))}put(n,r,i={}){return this.request("PUT",n,jS(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(U(Um))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function WH(t,e){return e(t)}function Qhe(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const Xhe=new V(""),nh=new V(""),KH=new V("");function Jhe(){let t=null;return(e,n)=>{null===t&&(t=(F(Xhe,{optional:!0})??[]).reduceRight(Qhe,WH));const r=F(Lf),i=r.add();return t(e,n).pipe(gl(()=>r.remove(i)))}}let QH=(()=>{class t extends Um{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=F(Lf)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(nh),...this.injector.get(KH,[])]));this.chain=i.reduceRight((s,o)=>function Yhe(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(s,o,this.injector),WH)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(gl(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(U(Bm),U(Xn))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const nfe=/^\)\]\}',?\n/;let XH=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new D(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?bt(r.\u0275loadImpl()):K(null)).pipe(Xt(()=>new He(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((g,_)=>o.setRequestHeader(g,_.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const g=n.detectContentTypeHeader();null!==g&&o.setRequestHeader("Content-Type",g)}if(n.responseType){const g=n.responseType.toLowerCase();o.responseType="json"!==g?g:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const g=o.statusText||"OK",_=new ci(o.getAllResponseHeaders()),v=function rfe(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return u=new BS({headers:_,status:o.status,statusText:g,url:v}),u},l=()=>{let{headers:g,status:_,statusText:v,url:y}=c(),w=null;204!==_&&(w=typeof o.response>"u"?o.responseText:o.response),0===_&&(_=w?200:0);let S=_>=200&&_<300;if("json"===n.responseType&&"string"==typeof w){const P=w;w=w.replace(nfe,"");try{w=""!==w?JSON.parse(w):null}catch(H){w=P,S&&(S=!1,w={error:H,text:w})}}S?(s.next(new oc({body:w,headers:g,status:_,statusText:v,url:y||void 0})),s.complete()):s.error(new GH({error:w,headers:g,status:_,statusText:v,url:y||void 0}))},d=g=>{const{url:_}=c(),v=new GH({error:g,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});s.error(v)};let h=!1;const f=g=>{h||(s.next(c()),h=!0);let _={type:sc.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),"text"===n.responseType&&o.responseText&&(_.partialText=o.responseText),s.next(_)},p=g=>{let _={type:sc.UploadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),s.next(_)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:sc.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(U(BO))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const $S=new V("XSRF_ENABLED"),JH=new V("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ZH=new V("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class eG{}let ofe=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=RO(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(U(Tn),U(Tr),U(JH))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function afe(t,e){const n=t.url.toLowerCase();if(!F($S)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=F(eG).getToken(),i=F(ZH);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Hs=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Hs||{});function ufe(...t){const e=[$m,XH,QH,{provide:Um,useExisting:QH},{provide:Bm,useExisting:XH},{provide:nh,useValue:afe,multi:!0},{provide:$S,useValue:!0},{provide:eG,useClass:ofe}];for(const n of t)e.push(...n.\u0275providers);return nf(e)}const tG=new V("LEGACY_INTERCEPTOR_FN");function cfe(){return function Yo(t,e){return{\u0275kind:t,\u0275providers:e}}(Hs.LegacyInterceptors,[{provide:tG,useFactory:Jhe},{provide:nh,useExisting:tG,multi:!0}])}let lfe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({providers:[ufe(cfe())]})}return t})(),mfe=(()=>{class t{constructor(n){this.http=n,this.API_ENDPOINT="https://brave-rabbit-annually.ngrok-free.app/api/compile"}handleCompile(n,r,i){var s=this;return m(function*(){const o={code:n,input:r,languageId:i},a={"ngrok-skip-browser-warning":"true"};try{const u=yield function Bhe(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new ea({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new hl)}});t.subscribe(s)})}(s.http.post(s.API_ENDPOINT,o,{headers:a}));if(u&&u.output)return u.output;throw new Error("Output not found in the response")}catch(u){throw console.error("Error during compilation:",u),u}})()}static#e=this.\u0275fac=function(r){return new(r||t)(U($m))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nG=(()=>{class t{constructor(){this.trophies=[{id:1,description:"Risolvi il primo esercizio",requirement:"Total: 150",unlocked:!1,iconURL:"/assets/trophy.png"},{id:2,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"},{id:3,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"},{id:4,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"},{id:5,description:"Mock Description",requirement:"Mock requirement",unlocked:!1,iconURL:"/assets/award.png"}]}checkTrophy(n){1===n?this.trophies[0].unlocked=!0:console.log("Trofeo non riconosciuto.")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const _fe=["addListener","removeListener"],yfe=["addEventListener","removeEventListener"],vfe=["on","off"];function Xo(t,e,n,r){if(he(n)&&(r=n,n=void 0),r)return Xo(t,e,n).pipe(ME(r));const[i,s]=function wfe(t){return he(t.addEventListener)&&he(t.removeEventListener)}(t)?yfe.map(o=>a=>t[o](e,a,n)):function Efe(t){return he(t.addListener)&&he(t.removeListener)}(t)?_fe.map(rG(t,e)):function Ife(t){return he(t.on)&&he(t.off)}(t)?vfe.map(rG(t,e)):[];if(!i&&o_(t))return Tt(o=>Xo(o,e,n))(Yt(t));if(!i)throw new TypeError("Invalid event target");return new He(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function rG(t,e){return n=>r=>t[n](e,r)}const Tfe=["editorContainer"],HS=new V("NGX_MONACO_EDITOR_CONFIG");let sG,iG=!1,bfe=(()=>{class t{set insideNg(n){this._insideNg=n,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}constructor(n){this.config=n,this.onInit=new R,this._insideNg=!1}ngAfterViewInit(){iG?sG.then(()=>{this.initMonaco(this._options,this.insideNg)}):(iG=!0,sG=new Promise(n=>{const r=this.config.baseUrl||"./assets";if("object"==typeof window.monaco)return this.initMonaco(this._options,this.insideNg),void n();const i=a=>{let u=a||window.require,c={paths:{vs:`${r}/monaco/min/vs`}};Object.assign(c,this.config.requireConfig||{}),u.config(c),u(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),n()})};if(this.config.monacoRequire)i(this.config.monacoRequire);else if(window.require)if(window.require.config)i();else{var s=`${r}/monaco/min/vs/loader.js`,o=new XMLHttpRequest;o.addEventListener("load",()=>{let a=document.createElement("script");a.type="text/javascript",a.text=["var nodeRequire = require;",o.responseText.replace('"use strict";',""),"var monacoAmdRequire = require;","require = nodeRequire;","require.nodeRequire = require;"].join("\n"),document.body.appendChild(a),i(window.monacoAmdRequire)}),o.open("GET",s),o.send()}else{const a=document.createElement("script");a.type="text/javascript",a.src=`${r}/monaco/min/vs/loader.js`,a.addEventListener("load",()=>{i()}),document.body.appendChild(a)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}static#e=this.\u0275fac=function(r){return new(r||t)(T(HS))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["ng-component"]],viewQuery:function(r,i){if(1&r&&pk(Tfe,7),2&r){let s;Vv(s=function Fv(){return function a7(t,e){return t[Vr].queries[e].queryList}(b(),DR())}())&&(i._editorContainer=s.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})(),Cfe=(()=>{class t extends bfe{set options(n){this._options=Object.assign({},this.config.defaultOptions,n),this._editor&&(this._editor.dispose(),this.initMonaco(n,this.insideNg))}get options(){return this._options}set model(n){this.options.model=n,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}constructor(n,r){super(r),this.zone=n,this.editorConfig=r,this._value="",this.propagateChange=i=>{},this.onTouched=()=>{}}writeValue(n){this._value=n||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(n){this.propagateChange=n}registerOnTouched(n){this.onTouched=n}initMonaco(n,r){const i=!!n.model;if(i){const s=monaco.editor.getModel(n.model.uri||"");s?(n.model=s,n.model.setValue(this._value)):n.model=monaco.editor.createModel(n.model.value,n.model.language,n.model.uri)}r?this._editor=monaco.editor.create(this._editorContainer.nativeElement,n):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,n)}),i||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(s=>{const o=this._editor.getValue();this.zone.run(()=>{this.propagateChange(o),this._value=o})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=Xo(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}static#e=this.\u0275fac=function(r){return new(r||t)(T(Ae),T(HS))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[Le([{provide:yr,useExisting:Me(()=>t),multi:!0}]),Te],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(r,i){1&r&&dt(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"]})}return t})(),Dfe=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[{provide:HS,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({imports:[sp]})}return t})();class Afe extends Mn{constructor(e,n){super()}schedule(e,n=0){return this}}const Gm={setInterval(t,e,...n){const{delegate:r}=Gm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Gm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},GS={now:()=>(GS.delegate||Date).now(),delegate:void 0};class rh{constructor(e,n=rh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}rh.now=GS.now;const oG=new class Rfe extends rh{constructor(e,n=rh.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class Sfe extends Afe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Gm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Gm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Zo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),xfe=oG;function aG(t=0,e,n=xfe){let r=-1;return null!=e&&(y0(e)?n=e:r=e),new He(i=>{let s=function Pfe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}class Mfe extends wt{constructor(e=1/0,n=1/0,r=GS){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function uG(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,u_({connector:()=>new Mfe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}let Jo={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const lG=/[&<>"']/,kfe=new RegExp(lG.source,"g"),dG=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ofe=new RegExp(dG.source,"g"),Vfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hG=t=>Vfe[t];function hn(t,e){if(e){if(lG.test(t))return t.replace(kfe,hG)}else if(dG.test(t))return t.replace(Ofe,hG);return t}const Ffe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function fG(t){return t.replace(Ffe,(e,n)=>"colon"===(n=n.toLowerCase())?":":"#"===n.charAt(0)?"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):"")}const Lfe=/(^|[^\[])\^/g;function ke(t,e){t="string"==typeof t?t:t.source,e=e||"";const n={replace:(r,i)=>(i=(i=i.source||i).replace(Lfe,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const Ufe=/[^\w:]/g,Bfe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function pG(t,e,n){if(t){let r;try{r=decodeURIComponent(fG(n)).replace(Ufe,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!Bfe.test(n)&&(n=function Gfe(t,e){zm[" "+t]||(zm[" "+t]=jfe.test(t)?t+"/":Wm(t,"/",!0));const n=-1===(t=zm[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace($fe,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(Hfe,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const zm={},jfe=/^[^:]+:\/*[^/]*$/,$fe=/^([^:]+:)[\s\S]*$/,Hfe=/^([^:]+:\/*[^/]*)[\s\S]*$/,qm={exec:function(){}};function gG(t,e){const r=t.replace(/\|/g,(s,o,a)=>{let u=!1,c=o;for(;--c>=0&&"\\"===a[c];)u=!u;return u?"|":" |"}).split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Wm(t,e,n){const r=t.length;if(0===r)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s!==e||n){if(s===e||!n)break;i++}else i++}return t.slice(0,r-i)}function mG(t,e){if(e<1)return"";let n="";for(;e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t}function _G(t,e,n,r){const i=e.href,s=e.title?hn(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:s,text:hn(o)}}class zS{constructor(e){this.options=e||Jo}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Wm(r,"\n")}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=function Wfe(t,e){const n=t.match(/^(\s+)(?:```)/);if(null===n)return e;const r=n[1];return e.split("\n").map(i=>{const s=i.match(/^\s+/);if(null===s)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join("\n")}(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=Wm(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,s,o,a,u,c,l,d,h,f,p,g=n[1].trim();const _=g.length>1,v={type:"list",raw:"",ordered:_,start:_?+g.slice(0,-1):"",loose:!1,items:[]};g=_?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=_?g:"[*+-]");const y=new RegExp(`^( {0,3}${g})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,(n=y.exec(e))&&!this.rules.block.hr.test(e));){if(r=n[0],e=e.substring(r.length),l=n[2].split("\n",1)[0].replace(/^\t+/,S=>" ".repeat(3*S.length)),d=e.split("\n",1)[0],this.options.pedantic?(o=2,f=l.trimLeft()):(o=n[2].search(/[^ ]/),o=o>4?1:o,f=l.slice(o),o+=n[1].length),u=!1,!l&&/^ *$/.test(d)&&(r+=d+"\n",e=e.substring(d.length+1),p=!0),!p){const S=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),P=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),H=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),de=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(h=e.split("\n",1)[0],d=h,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(H.test(d)||de.test(d)||S.test(d)||P.test(e)));){if(d.search(/[^ ]/)>=o||!d.trim())f+="\n"+d.slice(o);else{if(u||l.search(/[^ ]/)>=4||H.test(l)||de.test(l)||P.test(l))break;f+="\n"+d}!u&&!d.trim()&&(u=!0),r+=h+"\n",e=e.substring(h.length+1),l=d.slice(o)}}v.loose||(c?v.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(f),i&&(s="[ ] "!==i[0],f=f.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:f}),v.raw+=r}v.items[v.items.length-1].raw=r.trimRight(),v.items[v.items.length-1].text=f.trimRight(),v.raw=v.raw.trimRight();const w=v.items.length;for(a=0;a<w;a++)if(this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]),!v.loose){const S=v.items[a].tokens.filter(H=>"space"===H.type),P=S.length>0&&S.some(H=>/\n.*\n/.test(H.raw));v.loose=P}if(v.loose)for(a=0;a<w;a++)v.items[a].loose=!0;return v}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&("pre"===n[1]||"script"===n[1]||"style"===n[1]),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):hn(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:gG(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=n[0];let s,o,a,u,i=r.align.length;for(s=0;s<i;s++)r.align[s]=/^ *-+: *$/.test(r.align[s])?"right":/^ *:-+: *$/.test(r.align[s])?"center":/^ *:-+ *$/.test(r.align[s])?"left":null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=gG(r.rows[s],r.header.length).map(c=>({text:c}));for(i=r.header.length,o=0;o<i;o++)r.header[o].tokens=this.lexer.inline(r.header[o].text);for(i=r.rows.length,o=0;o<i;o++)for(u=r.rows[o],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:"="===n[2].charAt(0)?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r="\n"===n[1].charAt(n[1].length-1)?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:hn(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):hn(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=Wm(r.slice(0,-1),"\\");if((r.length-o.length)%2==0)return}else{const o=function zfe(t,e){if(-1===t.indexOf(e[1]))return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}(n[2],"()");if(o>-1){const u=(0===n[0].indexOf("!")?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,u).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(r)?i.slice(1):i.slice(1,-1)),_G(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return _G(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const s=i[1]||i[2]||"";if(!s||s&&(""===r||this.rules.inline.punctuation.exec(r))){const o=i[0].length-1;let a,u,c=o,l=0;const d="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+o);null!=(i=d.exec(n));){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(u=a.length,i[3]||i[4]){c+=u;continue}if((i[5]||i[6])&&o%3&&!((o+u)%3)){l+=u;continue}if(c-=u,c>0)continue;u=Math.min(u,u+c+l);const h=e.slice(0,o+i.index+(i[0].length-a.length)+u);if(Math.min(o,u)%2){const p=h.slice(1,-1);return{type:"em",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}const f=h.slice(2,-2);return{type:"strong",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=hn(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,s;return"@"===r[2]?(i=hn(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=hn(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,s;if("@"===r[2])i=hn(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let o;do{o=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(o!==r[0]);i=hn(r[0]),s="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):hn(r[0]):r[0]:hn(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const Q={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:qm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Q.def=ke(Q.def).replace("label",Q._label).replace("title",Q._title).getRegex(),Q.bullet=/(?:[*+-]|\d{1,9}[.)])/,Q.listItemStart=ke(/^( *)(bull) */).replace("bull",Q.bullet).getRegex(),Q.list=ke(Q.list).replace(/bull/g,Q.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Q.def.source+")").getRegex(),Q._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Q._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Q.html=ke(Q.html,"i").replace("comment",Q._comment).replace("tag",Q._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Q.paragraph=ke(Q._paragraph).replace("hr",Q.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q._tag).getRegex(),Q.blockquote=ke(Q.blockquote).replace("paragraph",Q.paragraph).getRegex(),Q.normal={...Q},Q.gfm={...Q.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Q.gfm.table=ke(Q.gfm.table).replace("hr",Q.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q._tag).getRegex(),Q.gfm.paragraph=ke(Q._paragraph).replace("hr",Q.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Q.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q._tag).getRegex(),Q.pedantic={...Q.normal,html:ke("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Q._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ke(Q.normal._paragraph).replace("hr",Q.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Q.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const $={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:qm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:qm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Kfe(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function yG(t){let n,r,e="";const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}$._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",$.punctuation=ke($.punctuation).replace(/punctuation/g,$._punctuation).getRegex(),$.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,$.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,$._comment=ke(Q._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),$.emStrong.lDelim=ke($.emStrong.lDelim).replace(/punct/g,$._punctuation).getRegex(),$.emStrong.rDelimAst=ke($.emStrong.rDelimAst,"g").replace(/punct/g,$._punctuation).getRegex(),$.emStrong.rDelimUnd=ke($.emStrong.rDelimUnd,"g").replace(/punct/g,$._punctuation).getRegex(),$._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,$._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,$._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,$.autolink=ke($.autolink).replace("scheme",$._scheme).replace("email",$._email).getRegex(),$._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,$.tag=ke($.tag).replace("comment",$._comment).replace("attribute",$._attribute).getRegex(),$._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,$._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,$._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,$.link=ke($.link).replace("label",$._label).replace("href",$._href).replace("title",$._title).getRegex(),$.reflink=ke($.reflink).replace("label",$._label).replace("ref",Q._label).getRegex(),$.nolink=ke($.nolink).replace("ref",Q._label).getRegex(),$.reflinkSearch=ke($.reflinkSearch,"g").replace("reflink",$.reflink).replace("nolink",$.nolink).getRegex(),$.normal={...$},$.pedantic={...$.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ke(/^!?\[(label)\]\((.*?)\)/).replace("label",$._label).getRegex(),reflink:ke(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$._label).getRegex()},$.gfm={...$.normal,escape:ke($.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},$.gfm.url=ke($.gfm.url,"i").replace("email",$.gfm._extended_email).getRegex(),$.breaks={...$.gfm,br:ke($.br).replace("{2,}","*").getRegex(),text:ke($.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Gs{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Jo,this.options.tokenizer=this.options.tokenizer||new zS,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Q.normal,inline:$.normal};this.options.pedantic?(n.block=Q.pedantic,n.inline=$.pedantic):this.options.gfm&&(n.block=Q.gfm,n.inline=this.options.breaks?$.breaks:$.gfm),this.tokenizer.rules=n}static get rules(){return{block:Q,inline:$}}static lex(e,n){return new Gs(n).lex(e)}static lexInline(e,n){return new Gs(n).inlineTokens(e)}lex(e){let n;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){let r,i,s,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,c)=>u+"    ".repeat(c.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,n))&&(e=e.substring(r.raw.length),n.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&n.length>0?n[n.length-1].raw+="\n":n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?n.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(l){c=l.call({lexer:this},u),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],o&&"paragraph"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,a,u,c,o=e;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(o));)l.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+mG("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(o));)o=o.slice(0,a.index)+"["+mG("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(o));)o=o.slice(0,a.index+a[0].length-2)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(c=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(l=>!!(r=l.call({lexer:this},e,n))&&(e=e.substring(r.raw.length),n.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,c)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,yG)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,yG))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let l=1/0;const d=e.slice(1);let h;this.options.extensions.startInline.forEach(function(f){h=f.call({lexer:this},d),"number"==typeof h&&h>=0&&(l=Math.min(l,h))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(r=this.tokenizer.inlineText(s,Kfe)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(c=r.raw.slice(-1)),u=!0,i=n[n.length-1],i&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}}return n}}class ih{constructor(e){this.options=e||Jo}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);null!=s&&s!==e&&(r=!0,e=s)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+hn(i)+'">'+(r?e:hn(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:hn(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,n,r,i){return this.options.headerIds?`<h${n} id="${this.options.headerPrefix+i.slug(r)}">${e}</h${n}>\n`:`<h${n}>${e}</h${n}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,n,r){const i=n?"ol":"ul";return"<"+i+(n&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+n+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(null===(e=pG(this.options.sanitize,this.options.baseUrl,e)))return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(null===(e=pG(this.options.sanitize,this.options.baseUrl,e)))return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class vG{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class EG{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do{i++,r=e+"-"+i}while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}class zs{constructor(e){this.options=e||Jo,this.options.renderer=this.options.renderer||new ih,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new vG,this.slugger=new EG}static parse(e,n){return new zs(n).parse(e)}static parseInline(e,n){return new zs(n).parseInline(e)}parse(e,n=!0){let i,s,o,a,u,c,l,d,h,f,p,g,_,v,y,w,S,P,H,r="";const de=e.length;for(i=0;i<de;i++)if(f=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(H=this.options.extensions.renderers[f.type].call({parser:this},f),!1!==H||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)))r+=H||"";else switch(f.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(f.tokens),f.depth,fG(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(f.text,f.lang,f.escaped);continue;case"table":for(d="",l="",a=f.header.length,s=0;s<a;s++)l+=this.renderer.tablecell(this.parseInline(f.header[s].tokens),{header:!0,align:f.align[s]});for(d+=this.renderer.tablerow(l),h="",a=f.rows.length,s=0;s<a;s++){for(c=f.rows[s],l="",u=c.length,o=0;o<u;o++)l+=this.renderer.tablecell(this.parseInline(c[o].tokens),{header:!1,align:f.align[o]});h+=this.renderer.tablerow(l)}r+=this.renderer.table(d,h);continue;case"blockquote":h=this.parse(f.tokens),r+=this.renderer.blockquote(h);continue;case"list":for(p=f.ordered,g=f.start,_=f.loose,a=f.items.length,h="",s=0;s<a;s++)y=f.items[s],w=y.checked,S=y.task,v="",y.task&&(P=this.renderer.checkbox(w),_?y.tokens.length>0&&"paragraph"===y.tokens[0].type?(y.tokens[0].text=P+" "+y.tokens[0].text,y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&"text"===y.tokens[0].tokens[0].type&&(y.tokens[0].tokens[0].text=P+" "+y.tokens[0].tokens[0].text)):y.tokens.unshift({type:"text",text:P}):v+=P),v+=this.parse(y.tokens,_),h+=this.renderer.listitem(v,S,w);r+=this.renderer.list(h,p,g);continue;case"html":r+=this.renderer.html(f.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case"text":for(h=f.tokens?this.parseInline(f.tokens):f.text;i+1<de&&"text"===e[i+1].type;)f=e[++i],h+="\n"+(f.tokens?this.parseInline(f.tokens):f.text);r+=n?this.renderer.paragraph(h):h;continue;default:{const et='Token with "'+f.type+'" type was not found.';if(this.options.silent)return void console.error(et);throw new Error(et)}}return r}parseInline(e,n){n=n||this.renderer;let i,s,o,r="";const a=e.length;for(i=0;i<a;i++)if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),!1!==o||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)))r+=o||"";else switch(s.type){case"escape":case"text":r+=n.text(s.text);break;case"html":r+=n.html(s.text);break;case"link":r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break;case"image":r+=n.image(s.href,s.title,s.text);break;case"strong":r+=n.strong(this.parseInline(s.tokens,n));break;case"em":r+=n.em(this.parseInline(s.tokens,n));break;case"codespan":r+=n.codespan(s.text);break;case"br":r+=n.br();break;case"del":r+=n.del(this.parseInline(s.tokens,n));break;default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}class qS{constructor(e){this.options=e||Jo}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function IG(t,e){return(n,r,i)=>{"function"==typeof r&&(i=r,r=null);const s={...r},o=function Qfe(t,e,n){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const i="<p>An error occurred:</p><pre>"+hn(r.message+"",!0)+"</pre>";return e?Promise.resolve(i):n?void n(null,i):i}if(e)return Promise.reject(r);if(!n)throw r;n(r)}}((r={...Y.defaults,...s}).silent,r.async,i);if(typeof n>"u"||null===n)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function qfe(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(r),r.hooks&&(r.hooks.options=r),i){const a=r.highlight;let u;try{r.hooks&&(n=r.hooks.preprocess(n)),u=t(n,r)}catch(d){return o(d)}const c=function(d){let h;if(!d)try{r.walkTokens&&Y.walkTokens(u,r.walkTokens),h=e(u,r),r.hooks&&(h=r.hooks.postprocess(h))}catch(f){d=f}return r.highlight=a,d?o(d):i(null,h)};if(!a||a.length<3||(delete r.highlight,!u.length))return c();let l=0;return Y.walkTokens(u,function(d){"code"===d.type&&(l++,setTimeout(()=>{a(d.text,d.lang,function(h,f){if(h)return c(h);null!=f&&f!==d.text&&(d.text=f,d.escaped=!0),l--,0===l&&c()})},0))}),void(0===l&&c())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(a=>t(a,r)).then(a=>r.walkTokens?Promise.all(Y.walkTokens(a,r.walkTokens)).then(()=>a):a).then(a=>e(a,r)).then(a=>r.hooks?r.hooks.postprocess(a):a).catch(o);try{r.hooks&&(n=r.hooks.preprocess(n));const a=t(n,r);r.walkTokens&&Y.walkTokens(a,r.walkTokens);let u=e(a,r);return r.hooks&&(u=r.hooks.postprocess(u)),u}catch(a){return o(a)}}}function Y(t,e,n){return IG(Gs.lex,zs.parse)(t,e,n)}Y.options=Y.setOptions=function(t){return function Nfe(t){Jo=t}(Y.defaults={...Y.defaults,...t}),Y},Y.getDefaults=function cG(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Y.defaults=Jo,Y.use=function(...t){const e=Y.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{const r={...n};if(r.async=Y.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers[i.name];e.renderers[i.name]=s?function(...o){let a=i.renderer.apply(this,o);return!1===a&&(a=s.apply(this,o)),a}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){const i=Y.defaults.renderer||new ih;for(const s in n.renderer){const o=i[s];i[s]=(...a)=>{let u=n.renderer[s].apply(i,a);return!1===u&&(u=o.apply(i,a)),u}}r.renderer=i}if(n.tokenizer){const i=Y.defaults.tokenizer||new zS;for(const s in n.tokenizer){const o=i[s];i[s]=(...a)=>{let u=n.tokenizer[s].apply(i,a);return!1===u&&(u=o.apply(i,a)),u}}r.tokenizer=i}if(n.hooks){const i=Y.defaults.hooks||new qS;for(const s in n.hooks){const o=i[s];i[s]=qS.passThroughHooks.has(s)?a=>{if(Y.defaults.async)return Promise.resolve(n.hooks[s].call(i,a)).then(c=>o.call(i,c));const u=n.hooks[s].call(i,a);return o.call(i,u)}:(...a)=>{let u=n.hooks[s].apply(i,a);return!1===u&&(u=o.apply(i,a)),u}}r.hooks=i}if(n.walkTokens){const i=Y.defaults.walkTokens;r.walkTokens=function(s){let o=[];return o.push(n.walkTokens.call(this,s)),i&&(o=o.concat(i.call(this,s))),o}}Y.setOptions(r)})},Y.walkTokens=function(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(Y,r)),r.type){case"table":for(const i of r.header)n=n.concat(Y.walkTokens(i.tokens,e));for(const i of r.rows)for(const s of i)n=n.concat(Y.walkTokens(s.tokens,e));break;case"list":n=n.concat(Y.walkTokens(r.items,e));break;default:Y.defaults.extensions&&Y.defaults.extensions.childTokens&&Y.defaults.extensions.childTokens[r.type]?Y.defaults.extensions.childTokens[r.type].forEach(function(i){n=n.concat(Y.walkTokens(r[i],e))}):r.tokens&&(n=n.concat(Y.walkTokens(r.tokens,e)))}return n},Y.parseInline=IG(Gs.lexInline,zs.parseInline),Y.Parser=zs,Y.parser=zs.parse,Y.Renderer=ih,Y.TextRenderer=vG,Y.Lexer=Gs,Y.lexer=Gs.lex,Y.Tokenizer=zS,Y.Slugger=EG,Y.Hooks=qS,Y.parse=Y;const Yfe=["*"];let wG=(()=>{class t{constructor(){this._buttonClick$=new wt,this.copied$=this._buttonClick$.pipe(Xt(()=>dh(K(!0),aG(3e3).pipe(lp(!1)))),T0(),uG(1)),this.copiedText$=this.copied$.pipe(h1(!1),ce(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Dt({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(r,i){1&r&&(j(0,"button",0),Ke("click",function(){return i.onCopyToClipboardClick()}),Av(1,"async"),W(2),Av(3,"async"),L()),2&r&&(os("copied",Sv(1,3,i.copied$)),le(2),as(Sv(3,5,i.copiedText$)))},dependencies:[VO],encapsulation:2,changeDetection:0})}return t})();class Zfe{}var WS=function(t){return t.CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",t}(WS||{});class tpe{}const TG=new V("SECURITY_CONTEXT");let KS=(()=>{class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,r,i,s,o,a){this.platform=n,this.securityContext=r,this.http=i,this.clipboardOptions=s,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new ih},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new wt,this.reload$=this._reload$.asObservable(),this.options=o}parse(n,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:o,mermaid:a,disableSanitizer:u}=r,c={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(c.renderer||new ih));const l=this.trimIndentation(n),d=i?this.decodeHtml(l):l,h=o?this.parseEmoji(d):d,f=this.parseMarked(h,c,s);return(u?f:this.sanitizer.sanitize(this.securityContext,f))||""}render(n,r=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:o,katex:a,katexOptions:u,mermaid:c,mermaidOptions:l}=r;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...o}),a&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...u}),c&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...l}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(ce(r=>this.handleExtension(n,r)))}highlight(n){if(!Di(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const r=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!Di(this.platform))return n;const r=document.createElement("textarea");return r.innerHTML=n,r.value}extendRenderer(n){const r=n;if(!0===r.\u0275NgxMarkdownRendererExtended)return n;const i=n.code;return n.code=function(s,o,a){return"mermaid"===o?`<div class="mermaid">${s}</div>`:i.call(this,s,o,a)},r.\u0275NgxMarkdownRendererExtended=!0,n}handleExtension(n,r){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,o=s.lastIndexOf("/"),a=o>-1?s.substring(o+1).split("?")[0]:"",u=a.lastIndexOf("."),c=u>-1?a.substring(u+1):"";return c&&"md"!==c?"```"+c+"\n"+r+"\n```":r}parseMarked(n,r,i=!1){return i?Y.parseInline(n,r):Y.parse(n,r)}parseEmoji(n){if(!Di(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,r){if(Di(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,r)}}renderClipboard(n,r,i){if(!Di(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:o}=i,a=n.querySelectorAll("pre");for(let u=0;u<a.length;u++){const c=a.item(u),l=document.createElement("div");l.style.position="relative",c.parentNode.insertBefore(l,c),l.appendChild(c);const d=document.createElement("div");let h,f;d.style.position="absolute",d.style.top=".5em",d.style.right=".5em",d.style.opacity="0",d.style.transition="opacity 250ms ease-out",l.insertAdjacentElement("beforeend",d),c.onmouseover=()=>d.style.opacity="1",c.onmouseout=()=>d.style.opacity="0",h=s?r.createComponent(s).hostView:o?r.createEmbeddedView(o):r.createComponent(wG).hostView,h.rootNodes.forEach(p=>{p.onmouseover=()=>d.style.opacity="1",d.appendChild(p),f=new ClipboardJS(p,{text:()=>c.innerText})}),h.onDestroy(()=>f.destroy())}}renderMermaid(n,r=this.DEFAULT_MERMAID_OPTIONS){if(!Di(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(r),mermaid.init(i))}trimIndentation(n){if(!n)return"";let r;return n.split("\n").map(i=>{let s=r;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(r)&&(r=s),s?i.substring(s):i}).join("\n")}static#e=this.\u0275fac=function(r){return new(r||t)(U(Tr),U(TG),U($m,8),U(Zfe,8),U(tpe,8),U(PE))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),bG=(()=>{class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(n){this._srcRelativeLink=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,r,i){this.element=n,this.markdownService=r,this.viewContainerRef=i,this.error=new R,this.load=new R,this.ready=new R,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new wt}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(dp(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,r=!1){let i;this.src&&this.srcRelativeLink&&(i={baseUrl:new URL(this.src,location.origin).pathname});const o={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(n,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:i,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,o,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n),this.load.emit(n)},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,WS.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,WS.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,r){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const o=r instanceof Array?r:[r];i.item(s).classList.add(...o)}}setPluginOptions(n,r){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(r).forEach(o=>{const a=r[o];if(a){const u=this.toLispCase(o);i.item(s).setAttribute(u,a.toString())}})}toLispCase(n){const r=n.match(/([A-Z])/g);if(!r)return n;let i=n.toString();for(let s=0,o=r.length;s<o;s++)i=i.replace(new RegExp(r[s]),"-"+r[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}static#e=this.\u0275fac=function(r){return new(r||t)(T(nn),T(KS),T(Zn))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[qn],ngContentSelectors:Yfe,decls:1,vars:0,template:function(r,i){1&r&&(function bM(t){const e=b()[lt][en];if(!e.projection){const r=e.projection=Rc(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?D5(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function CM(t,e=0,n){const r=b(),i=ve(),s=Ma(i,pe+t,16,null,n||null);null===s.projection&&(s.projection=e),V_(),(!r[fi]||da())&&32!=(32&s.flags)&&function w3(t,e,n){Sx(e[re],0,e,n,cy(t,n,e),wx(n.parent||e[en],n,e))}(i,r,s)}(0))},encapsulation:2})}return t})(),upe=(()=>{class t{static forRoot(n){return{ngModule:t,providers:[KS,n&&n.loader||[],n&&n.clipboardOptions||[],n&&n.markedOptions||[],{provide:TG,useValue:n&&null!=n.sanitize?n.sanitize:Yn.HTML}]}}static forChild(){return{ngModule:t}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({imports:[sp]})}return t})();var CG;!function(t){let e;var i;let n,r;(i=e=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",i.Loose="loose",i.Antiscript="antiscript",i.Sandbox="sandbox",function(i){i.Base="base",i.Forest="forest",i.Dark="dark",i.Default="default",i.Neutral="neutral"}(n=t.Theme||(t.Theme={})),function(i){i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(CG||(CG={}));const cpe=function(t){return{"is-loading":t}};let DG=(()=>{class t{constructor(n,r,i){this.auth=n,this.serverService=r,this.trophyService=i,this.editorOptions={theme:"vs-dark",language:"javascript"},this.code="",this.languageId="",this.idTrophy=0,this.output="",this.customInput="",this.isProcessing=!1,this.currentTab="instructions"}runCode(){this.isProcessing=!0,this.serverService.handleCompile(this.code,this.customInput,+this.languageId).then(n=>{this.output=n,this.checkSolution(this.output),this.isProcessing=!1}).catch(n=>{this.output="Error during compilation or execution.",console.error(n),this.isProcessing=!1})}checkSolution(n){var r=this;return m(function*(){try{const i=ar(ur,"exercises","hello-security"),o=(yield ui(i)).get("solution");console.log("User Solution:",JSON.stringify(n)),console.log("DB Solution:",JSON.stringify(o)),o.trim()===n.trim()?(M$(),r.trophyService.checkTrophy(r.idTrophy),console.log("You got it!!!"),It.currentUser?yield r.updateExperienceAndSolvedExercises(It.currentUser.uid,"hello-security"):console.error("No user is currently logged in.")):console.log("Wrong Solution")}catch(i){console.error("Error:",i)}})()}updateExperienceAndSolvedExercises(n,r){return m(function*(){const i=ar(ur,"users",n),s=yield ui(i),o=s.get("experience")||0,a=s.get("exercises_solved")||0,u=s.get("solved_exercises")||[],c=s.get("percentage")||0;u.includes(r)?console.log("Exercise already solved!"):(yield function hde(t,e,n,...r){t=me(t,gt);const i=me(t.firestore,$e),s=Go(i);let o;return o="string"==typeof(e=rt(e))||e instanceof Ho?aS(s,"updateDoc",t._key,e,n,r):oS(s,"updateDoc",t._key,e),Yd(i,[o.toMutation(t._key,Ye.exists(!0))])}(i,{exp:o+50,exercises_solved:a+1,solved_exercises:[...u,r],percentage:c+5}),console.log("Experience, solved exercises and percentage of progression updated!"))})()}static#e=this.\u0275fac=function(r){return new(r||t)(T(Wi),T(mfe),T(nG))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-code-editor"]],inputs:{editorOptions:"editorOptions",code:"code",languageId:"languageId",idTrophy:"idTrophy",instructions:"instructions"},decls:17,vars:9,consts:[[1,"columns","is-vcentered","is-gapless","is-fullheight"],[1,"column","is-two-thirds"],[1,"editor-height",3,"options","ngModel","ngModelChange"],[1,"m-2"],[1,"button","is-primary","is-pulled-right",3,"disabled","ngClass","click"],[1,"box","m-4","output-height"],[1,"title","is-5"],[1,"column"],[1,"content","p-4","istruzioni"],[3,"data"]],template:function(r,i){1&r&&(dt(0,"app-navbar"),j(1,"div",0)(2,"div",1)(3,"ngx-monaco-editor",2),Ke("ngModelChange",function(o){return i.code=o}),L(),j(4,"div",3)(5,"button",4),Ke("click",function(){return i.runCode()}),W(6),L()(),j(7,"div",5)(8,"h2",6),W(9,"Output"),L(),j(10,"pre"),W(11),L()()(),j(12,"div",7)(13,"div",8)(14,"h2"),W(15,"Istruzioni"),L(),dt(16,"markdown",9),L()()()),2&r&&(le(3),We("options",i.editorOptions)("ngModel",i.code),le(2),We("disabled",i.isProcessing)("ngClass",function XN(t,e,n,r){return JN(b(),mn(),t,e,n,r)}(7,cpe,i.isProcessing)),le(1),Dr(" ",i.isProcessing?"Processing":"Run Code"," "),le(5),as(i.output),le(5),We("data",i.instructions))},dependencies:[PO,Cfe,TS,Fm,bG,Qo],styles:[".columns.is-fullheight[_ngcontent-%COMP%]{min-height:100vh}.istruzioni[_ngcontent-%COMP%]{top:0;width:100%;z-index:100;background-color:#fff;overflow-y:auto;max-height:100vh}ngx-monaco-editor[_ngcontent-%COMP%]{height:80vh;width:100%}@media only screen and (max-width: 768px){.columns[_ngcontent-%COMP%]{flex-direction:column}}"]})}return t})();function lpe(t,e){if(1&t){const n=is();j(0,"button",1),Ke("click",function(){return Ur(n),Br(En().deleteUser())}),W(1,"Delete User"),L()}}function dpe(t,e){if(1&t){const n=is();j(0,"button",1),Ke("click",function(){return Ur(n),Br(En().logoutFromGoogle())}),W(1,"Logout"),L()}}function hpe(t,e){if(1&t){const n=is();j(0,"button",1),Ke("click",function(){return Ur(n),Br(En().navigate())}),W(1,"Login"),L()}}let fpe=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.name="",this.isLogged=!1,this.logoutFromGoogle=P$,It.onAuthStateChanged(i=>{i?this.retrieveUsername():this.name="Stranger!"})}ngOnInit(){this.authService.user$.subscribe(n=>{n?(this.isLogged=!0,this.retrieveUsername()):this.isLogged=!1})}navigate(){this.router.navigate(["/auth"])}delay(n){return m(function*(){return new Promise(r=>setTimeout(r,n))})()}retrieveUsername(){var n=this;return m(function*(){if(It.currentUser){const i=ar(ur,"users",It.currentUser.uid);yield n.delay(300);const s=yield ui(i);n.name=s.get("username")?s.get("username"):"Stranger!"}else alert("No user uid found")})()}deleteUser(){return m(function*(){const n=It.currentUser;if(n){const r=n.uid,i=ar(ur,"users",r);if((yield ui(i)).exists())try{yield function fde(t){return Yd(me(t.firestore,$e),[new Ou(t._key,Ye.none())])}(i),console.log("User data for UID",r,"deleted successfully"),yield P$(),yield n.delete(),console.log("User removed from Firebase Auth")}catch(o){console.error("Error during the delete user process:",o),o.details&&console.error("Error details:",o.details)}else console.log("No data found for UID",r)}else console.warn("No authenticated user found")})()}static#e=this.\u0275fac=function(r){return new(r||t)(T(Wi),T(An))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-profile"]],decls:6,vars:4,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(r,i){1&r&&(dt(0,"app-navbar"),j(1,"h1"),W(2),L(),sn(3,lpe,2,0,"button",0),sn(4,dpe,2,0,"button",0),sn(5,hpe,2,0,"button",0)),2&r&&(le(2),Dr(" Hello ",i.name,"\n"),le(1),We("ngIf","Stranger!"!==i.name),le(1),We("ngIf","Stranger!"!==i.name),le(1),We("ngIf","Stranger!"===i.name))},dependencies:[ip,Qo]})}return t})();function ppe(t,e){if(1&t&&(j(0,"div",4)(1,"figure",5),dt(2,"img",6),L(),j(3,"p"),W(4),L()()),2&t){const n=e.$implicit;le(1),os("grayed-out",!n.unlocked),le(1),We("src",n.iconURL,vy)("alt","Icona Trofeo "+n.id),le(2),as(n.description)}}let AG=(()=>{class t{constructor(n){this.trophyService=n,this.trophies=this.trophyService.trophies}static#e=this.\u0275fac=function(r){return new(r||t)(T(nG))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-trophies-page"]],decls:4,vars:1,consts:[[1,"section"],[1,"container"],[1,"columns","is-multiline"],["class","column is-3",4,"ngFor","ngForOf"],[1,"column","is-3"],[1,"image","is-128x128"],[3,"src","alt"]],template:function(r,i){1&r&&(j(0,"section",0)(1,"div",1)(2,"div",2),sn(3,ppe,5,5,"div",3),L()()()),2&r&&(le(3),We("ngForOf",i.trophies))},dependencies:[rp],styles:[".grayed-out[_ngcontent-%COMP%]{filter:grayscale(100%);opacity:.6}"]})}return t})();function gpe(t,e){if(1&t){const n=is();j(0,"div",14),Ke("click",function(){const s=Ur(n).index;return Br(En().navigateToExercise(s))}),W(1),L()}if(2&t){const n=e.$implicit;le(1),Dr(" ",n.name," ")}}const mpe=[{path:"offline",component:(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-offline-page"]],decls:2,vars:0,template:function(r,i){1&r&&(j(0,"p"),W(1,"offline-page works!"),L())}})}return t})()},{path:"",component:Uhe},{path:"auth",component:Lhe},{path:"code",component:DG},{path:"user",component:fpe},{path:"trophies",component:(()=>{class t{constructor(n){this.auth=n}static#e=this.\u0275fac=function(r){return new(r||t)(T(Wi))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-trophies"]],decls:2,vars:0,template:function(r,i){1&r&&dt(0,"app-navbar")(1,"app-trophies-page")},dependencies:[Qo,AG]})}return t})()},{path:"leaderboard",component:(()=>{class t{constructor(n){this.auth=n}static#e=this.\u0275fac=function(r){return new(r||t)(T(Wi))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-leaderboard"]],decls:1,vars:0,template:function(r,i){1&r&&dt(0,"app-navbar")},dependencies:[Qo]})}return t})()},{path:"exercises",component:(()=>{class t{navigateToExercise(n){0===n&&this.router.navigate(["/exercises/1-hello-security"])}getStudentCount(){return m(function*(){if(!It.currentUser)return console.warn("Utente non autenticato"),0;try{const r=ar(ur,"metadata","student_count");return(yield ui(r)).get("count")}catch(r){return console.error("Errore durante la lettura del conto studenti:",r),0}})()}getUserProgression(){return m(function*(){const n=It.currentUser;if(!n)return console.warn("Utente non autenticato"),0;try{const r=ar(ur,"users",n.uid);return(yield ui(r)).get("percentage")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),0}})()}getUserExercises(){return m(function*(){const n=It.currentUser;if(!n)return console.warn("Utente non autenticato"),0;try{const r=ar(ur,"users",n.uid);return(yield ui(r)).get("exercises_solved")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),0}})()}getUserName(){return m(function*(){const n=It.currentUser;if(!n)return console.warn("Utente non autenticato"),"";try{const r=ar(ur,"users",n.uid);return(yield ui(r)).get("username")}catch(r){return console.error("Errore durante la lettura della percentuale:",r),""}})()}createBoxes(){let n=[];for(let r=0;r<20;r++)n.push({name:`Box ${r+1}`});return n}constructor(n,r){this.router=n,this.autho=r,this.boxes=[{name:"Hello Security!"},{name:"Exercise 2"},{name:"Exercise 3"},{name:"Exercise 4"},{name:"Exercise 5"},{name:"Exercise 6"},{name:"Exercise 7"},{name:"Exercise 8"},{name:"Exercise 9"},{name:"Exercise 10"},{name:"Exercise 11"},{name:"Exercise 2"},{name:"Exercise 3"},{name:"Exercise 4"},{name:"Exercise 5"},{name:"Exercise 6"},{name:"Exercise 7"},{name:"Exercise 8"},{name:"Exercise 9"},{name:"Exercise 10"}],It.onAuthStateChanged(i=>{i?(console.log("user auth"),this.getStudentCount().then(s=>{this.studentsCount=s}).catch(s=>{console.error("Errore durante la lettura del conto studenti:",s)}),this.getUserProgression().then(s=>{this.progressPercentage=s}),this.getUserExercises().then(s=>{this.exercisesCompleted=s}),this.getUserName().then(s=>{this.userName=s}).catch(s=>{console.error("Errore durante la lettura del conto studenti:",s)})):this.navigate()})}ngOnInit(){}navigate(){this.router.navigate(["/auth"])}static#e=this.\u0275fac=function(r){return new(r||t)(T(An),T(Wi))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-exercises"]],decls:30,vars:6,consts:[[1,"section"],[1,"level"],[1,"level-left"],[1,"title","java-classname"],[1,"subtitle"],[1,"level-right"],[1,"box"],[1,"block"],[1,"columns"],[1,"column","is-two-quarters"],[1,"title"],[1,"box-grid"],["class","box-item",3,"click",4,"ngFor","ngForOf"],[1,"column"],[1,"box-item",3,"click"]],template:function(r,i){1&r&&(dt(0,"app-navbar"),j(1,"section",0)(2,"div",1)(3,"div",2)(4,"h1",3),W(5,"Cybersecurity"),L(),j(6,"h3",4),W(7),L()(),dt(8,"div",5),L(),j(9,"div",6)(10,"p"),W(11),L(),dt(12,"div",7),L(),j(13,"div",8)(14,"div",9)(15,"div",6)(16,"h2",10),W(17,"Exercises"),L(),j(18,"p"),W(19),L(),j(20,"p"),W(21),L(),dt(22,"br"),j(23,"div",11),sn(24,gpe,2,1,"div",12),L()()(),j(25,"div",13)(26,"div",6)(27,"h2",10),W(28),L(),dt(29,"app-trophies-page"),L()()()()),2&r&&(le(7),Dr("students: ",i.studentsCount," "),le(4),Dr("You're ",i.progressPercentage,"% through the Cybersecurity track. Keep up the good work! \u{1f680}"),le(8),Dr("Avg. exercises completed per week: ",i.exercisesCompleted,""),le(2),Dr("Exercises completed: ",i.exercisesCompleted,""),le(3),We("ngForOf",i.boxes),le(4),Dr("",i.userName,"'s Trophies"))},dependencies:[rp,Qo,AG],styles:[".java-classname[_ngcontent-%COMP%]{margin-right:10px}.box-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}.box-item[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:5px;cursor:pointer;border-radius:10%;display:flex;align-items:center;justify-content:center;height:50px;width:100px}.box-item[_ngcontent-%COMP%]:first-child{background-color:#00d1b2;justify-content:center}"]})}return t})()},{path:"exercises/1-hello-security",component:(()=>{class t{constructor(n){this.http=n,this.helloSecurityInstructions="",this.defaultCode="",this.languageId="48",this.idTrophy=1,this.editorOptions={theme:"vs-dark",language:"c"}}ngOnInit(){this.http.get("assets/exercises/1/helloSecurityInstructions.md",{responseType:"text"}).subscribe(n=>{this.helloSecurityInstructions=n}),this.http.get("assets/exercises/1/hello-securityCode.c",{responseType:"text"}).subscribe(n=>{this.defaultCode=n})}static#e=this.\u0275fac=function(r){return new(r||t)(T($m))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-hello-security"]],decls:1,vars:5,consts:[[3,"instructions","code","languageId","editorOptions","idTrophy"]],template:function(r,i){1&r&&dt(0,"app-code-editor",0),2&r&&We("instructions",i.helloSecurityInstructions)("code",i.defaultCode)("languageId",i.languageId)("editorOptions",i.editorOptions)("idTrophy",i.idTrophy)},dependencies:[DG],styles:[".columns.is-fullheight[_ngcontent-%COMP%]{min-height:100vh}.istruzioni[_ngcontent-%COMP%]{top:0;width:100%;z-index:100;background-color:#fff;overflow-y:auto;max-height:100vh}ngx-monaco-editor[_ngcontent-%COMP%]{height:80vh;width:100%}@media only screen and (max-width: 768px){.columns[_ngcontent-%COMP%]{flex-direction:column}}"]})}return t})()}];let _pe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({imports:[pV.forRoot(mpe),pV]})}return t})(),ype=(()=>{class t{constructor(n){this.authService=n,this.title="HackEd",this.sendNotification=M$,this.sendNotificationDelayed=xde}ngOnInit(){this.registerServiceWorker(),this.authService.user$.subscribe(n=>{n&&this.requestNotificationPermission()})}requestNotificationPermission(){return m(function*(){setTimeout(m(function*(){yield function Rde(){return pS.apply(this,arguments)}()}),2e3)})()}registerServiceWorker(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(n=>{console.log("Service Worker registered with scope:",n.scope)}).catch(n=>{console.error("Service Worker registration failed:",n)})}static#e=this.\u0275fac=function(r){return new(r||t)(T(Wi))};static#t=this.\u0275cmp=Dt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&dt(0,"router-outlet")},dependencies:[QE]})}return t})();const qs=new He(cc),Epe={connector:()=>new wt};function SG(t,e=Epe){const{connector:n}=e;return at((r,i)=>{const s=n();Yt(t(function vpe(t){return new He(e=>t.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}function RG(t,e){return e?n=>fl(e.pipe(Cn(1),function Tpe(){return at((t,e)=>{t.subscribe(ut(e,cc))})}()),n.pipe(RG(t))):Tt((n,r)=>Yt(t(n,r)).pipe(Cn(1),lp(n)))}const sh="Service workers are disabled or not supported by this browser";class Km{constructor(e){if(this.serviceWorker=e,e){const r=Xo(e,"controllerchange").pipe(ce(()=>e.controller)),s=fl(pl(()=>K(e.controller)),r);this.worker=s.pipe(Dn(l=>!!l)),this.registration=this.worker.pipe(Xt(()=>e.getRegistration()));const c=Xo(e,"message").pipe(ce(l=>l.data)).pipe(Dn(l=>l&&l.type)).pipe(function wpe(t){return t?e=>SG(t)(e):e=>function Ipe(t,e){const n=he(t)?t:()=>t;return he(e)?SG(e,{connector:n}):r=>new OE(r,n)}(new wt)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function Cpe(t){return pl(()=>Qa(new Error(t)))}(sh)}postMessage(e,n){return this.worker.pipe(Cn(1),Ht(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Dn(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Cn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Dn(n=>n.nonce===e),Cn(1),ce(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let xG=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new wt,!n.isEnabled)return this.messages=qs,this.notificationClicks=qs,void(this.subscription=qs);this.messages=this.sw.eventsOfType("PUSH").pipe(ce(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ce(i=>i.data)),this.pushManager=this.sw.registration.pipe(ce(i=>i.pushManager));const r=this.pushManager.pipe(Xt(i=>i.getSubscription()));this.subscription=dh(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(sh));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(Xt(o=>o.subscribe(r)),Cn(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Cn(1),Xt(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(sh))}decodeBase64(n){return atob(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Km))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),PG=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=qs,this.available=qs,this.activated=qs,void(this.unrecoverable=qs);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Dn(r=>"VERSION_READY"===r.type),ce(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(sh));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(sh));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Km))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const MG=new V("NGSW_REGISTER_SCRIPT");function Dpe(t,e,n,r){return()=>{if(!Di(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=K(null);break;case"registerWithDelay":i=NG(+a[0]||0);break;case"registerWhenStable":i=a[0]?dh(kG(t),NG(+a[0])):kG(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(Ae).runOutsideAngular(()=>i.pipe(Cn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function NG(t){return K(null).pipe(function bpe(t,e=oG){const n=aG(t,e);return RG(()=>n)}(t))}function kG(t){return t.get(ao).isStable.pipe(Dn(n=>n))}function Ape(t,e){return new Km(Di(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class QS{}function Spe(t,e={}){return nf([xG,PG,{provide:MG,useValue:t},{provide:QS,useValue:e},{provide:Km,useFactory:Ape,deps:[QS,Tr]},{provide:Ff,useFactory:Dpe,deps:[vn,MG,QS,Tr],multi:!0}])}let Rpe=(()=>{class t{static register(n,r={}){return{ngModule:t,providers:[Spe(n,r)]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=fn({type:t});static#n=this.\u0275inj=Jt({providers:[xG,PG]})}return t})();function xpe(t,e){}const Qm=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let Ppe=(()=>{class t{constructor(){this.onBeforePaste=new R,this.onBlur=new R,this.onClick=new R,this.onContextMenu=new R,this.onCopy=new R,this.onCut=new R,this.onDblclick=new R,this.onDrag=new R,this.onDragDrop=new R,this.onDragEnd=new R,this.onDragGesture=new R,this.onDragOver=new R,this.onDrop=new R,this.onFocus=new R,this.onFocusIn=new R,this.onFocusOut=new R,this.onKeyDown=new R,this.onKeyPress=new R,this.onKeyUp=new R,this.onMouseDown=new R,this.onMouseEnter=new R,this.onMouseLeave=new R,this.onMouseMove=new R,this.onMouseOut=new R,this.onMouseOver=new R,this.onMouseUp=new R,this.onPaste=new R,this.onSelectionChange=new R,this.onActivate=new R,this.onAddUndo=new R,this.onBeforeAddUndo=new R,this.onBeforeExecCommand=new R,this.onBeforeGetContent=new R,this.onBeforeRenderUI=new R,this.onBeforeSetContent=new R,this.onChange=new R,this.onClearUndos=new R,this.onDeactivate=new R,this.onDirty=new R,this.onExecCommand=new R,this.onGetContent=new R,this.onHide=new R,this.onInit=new R,this.onInitNgModel=new R,this.onLoadContent=new R,this.onNodeChange=new R,this.onPostProcess=new R,this.onPostRender=new R,this.onPreInit=new R,this.onPreProcess=new R,this.onProgressState=new R,this.onRedo=new R,this.onRemove=new R,this.onReset=new R,this.onResizeEditor=new R,this.onSaveContent=new R,this.onSetAttrib=new R,this.onObjectResizeStart=new R,this.onObjectResized=new R,this.onObjectSelected=new R,this.onSetContent=new R,this.onShow=new R,this.onSubmit=new R,this.onUndo=new R,this.onVisualAid=new R}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=J({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const OG=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Ym=(t,e,n)=>Xo(t,e).pipe(dp(n)),VG=(t,e)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:e;let FG=0;const LG=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),UG=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),Ope=(t,e)=>UG(t).concat(UG(e)),Vpe=()=>{},BG=t=>null==t,Fpe=(()=>{let t={script$:null};return{load:(r,i)=>t.script$||(t.script$=pl(()=>{const s=r.createElement("script");return s.referrerPolicy="origin",s.type="application/javascript",s.src=i,r.head.appendChild(s),Xo(s,"load").pipe(Cn(1),lp(void 0))}).pipe(uG({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),Lpe=new V("TINYMCE_SCRIPT_SRC"),Upe={provide:yr,useExisting:Me(()=>$G),multi:!0};let $G=(()=>{class t extends Ppe{constructor(n,r,i,s){super(),this.platformId=i,this.tinymceScriptSrc=s,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=Vpe,this.destroy$=new wt,this.initialise=()=>{const o={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:Ope(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,Ym(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),((t,e,n)=>{(t=>{const e=VG(t.ignoreEvents,[]);return VG(t.allowedEvents,OG).filter(r=>OG.includes(r)&&!e.includes(r))})(t).forEach(i=>{const s=t[i];Ym(e,i.substring(2),n).subscribe(o=>{s.observers.length>0&&t.ngZone.run(()=>s.emit({event:o,editor:e}))})})})(this,a,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(a)}};LG(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{Qm().init(o)})},this._elementRef=n,this.ngZone=r}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(BG(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){Di(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),r=Math.floor(1e9*Math.random());return FG++,"tiny-angular_"+r+FG+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==Qm()?this.initialise():this._element&&this._element.ownerDocument&&Fpe.load(this._element.ownerDocument,this.getScriptSrc()).pipe(dp(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==Qm()&&Qm().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,LG(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return BG(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){Ym(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),Ym(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(T(nn),T(Ae),T(Tr),T(Lpe,8))},t.\u0275cmp=Dt({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[Le([Upe]),Te,Cv],decls:1,vars:0,template:function(n,r){1&n&&sn(0,xpe,0,0,"ng-template")},dependencies:[sp,UH],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),Bpe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=fn({type:t}),t.\u0275inj=Jt({imports:[$G]}),t})(),jpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=fn({type:t,bootstrap:[ype]});static#n=this.\u0275inj=Jt({imports:[XY,Bpe,Dfe.forRoot(),UH,upe.forRoot(),lfe,_pe,Rpe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return t})();QY().bootstrapModule(jpe).catch(t=>console.error(t))}},he=>{he(he.s=377)}]);